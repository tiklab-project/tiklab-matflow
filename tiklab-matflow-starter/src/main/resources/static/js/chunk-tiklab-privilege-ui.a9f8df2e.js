(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{155:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.handlerFeaterNode=void 0,Object.defineProperty(t,"privilege_cn",{enumerable:!0,get:function(){return u.default}}),t.sort=void 0,Object.defineProperty(t,"usePermission",{enumerable:!0,get:function(){return l.default}});var a=r(n(32)),u=r(n(348)),l=r(n(349));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.sort-t.sort}))};t.sort=c;t.handlerFeaterNode=function(e){return function e(t,n){for(var r=[],a=0;a<t.length;a++){var u=t[a];if(u.parentFunction===n||u.parentFunction&&u.parentFunction.id===n){var l=o(o({},u),{},{children:[]});l.children=e(t,u.id),0===l.children.length&&delete l.children,r.push(l)}}return c(r),r}(e,null)}},246:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.links=t.SameValue=void 0;var a=r(n(32)),u=r(n(75));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.SameValue=function(e,t,n){var r=Array.from(new Set((0,u.default)(e).filter((function(e){return t.some((function(t){return t[n]===e}))}))));if(r)return t.find((function(e){return e[n]===r[0]}))};t.links=function(e){var t=[];return function e(n,r){n&&n.map((function(n){if(n.children){var a=n.children.map((function(e){return i(i({},e),{},{type:n.id})}));e(a,t)}else r.push(n)}))}(e,t),t}},248:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(94));n(37);var l=r(n(22));n(44);var i=r(n(20));n(41);var o=r(n(31)),c=r(n(98));n(74);var f=r(n(39)),d=r(n(97));n(36);var s=r(n(24));n(114);var p=r(n(76)),m=r(n(40)),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),b=n(28),g=r(n(249)),y=n(56),h=n(53);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}var E=(0,b.inject)(h.PRIVILEGE_DOMAIN_ROLE_STORE)((0,b.observer)((function(e){var t=e.dmRoleDetail,n=e.domainId,r=e.bgroup,a=e.privilegeDomainRoleStore,b=a.deleteDmRoleUserAction,h=a.findDmRoleUserListAction,O=a.getAllUserDirAction,E=(0,v.useState)([]),P=(0,m.default)(E,2),j=P[0],w=P[1],_=(0,v.useState)(!1),k=(0,m.default)(_,2),S=k[0],R=k[1],D=(0,v.useState)([]),x=(0,m.default)(D,2),A=x[0],M=x[1],F=(0,v.useState)([]),I=(0,m.default)(F,2),C=I[0],T=I[1],L=[{title:"名称",dataIndex:"name",render:function(e,t){var n=t.user;return v.default.createElement(s.default,null,n.nickname,1===n.type&&v.default.createElement(p.default,null,"管理员用户"))}},{title:"类型",dataIndex:"type",render:function(e,t){t.user;return"用户"}},{title:"操作",dataIndex:"action",width:100,render:function(e,t){var n=t.user;return B(n.type,t)}}];(0,v.useEffect)((function(){z()}),[]);var z=function(){O().then((function(e){e.code||T(e.data)}))};(0,v.useEffect)((function(){t&&U()}),[t]);var U=function(){h({dmRoleId:t.id}).then((function(e){if(!e.code){w(e.data);var t=e.data.map((function(e){return e.user})).filter(Boolean).map((function(e){return e.id}));M(t)}}))},N=function(e){b(e).then((function(e){e.code||U()}))},B=function(e,n){var r=t.businessType,a=[];return 0===r&&a.push(v.default.createElement(f.default,{title:"删除"},v.default.createElement(d.default,{onClick:function(){return N(n.id)},style:{fontSize:"var(--tiklab-icon-size-16)"}}))),r>0&&e<1&&a.push(v.default.createElement(f.default,{title:"删除"},v.default.createElement(d.default,{onClick:function(){return N(n.id)},style:{fontSize:"var(--tiklab-icon-size-16)"}}))),a};return v.default.createElement("div",{className:"tiklab_dm_promisse"},v.default.createElement("div",{className:"tiklab_dm_promisse_up"},v.default.createElement("div",{className:"tiklab_dm_promisse_up-title"},"用户(".concat(j.length,")")),v.default.createElement("div",null,v.default.createElement(y.Btn,{onClick:function(){return R(!0)},type:"primary",title:"添加用户",icon:v.default.createElement(c.default,null)}))),v.default.createElement(l.default,null,v.default.createElement(i.default,{span:24,className:"tiklab_dm_promisse_person"},v.default.createElement(o.default,{columns:L,dataSource:j,rowKey:function(e){return e.id},pagination:!1}))),v.default.createElement(g.default,(0,u.default)({},e,{visible:S,onCancel:function(){R(!1)},getFindDmRoleUserList:U,dmRoleId:t.id,addSelectedRowKeys:A,domainId:n,userDir:C,bgroup:r})))})));t.default=E},249:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(41);var u=r(n(31));n(37);var l=r(n(22));n(44);var i=r(n(20));n(52);var o=r(n(26));n(36);var c=r(n(24)),f=r(n(32)),d=r(n(40)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),p=n(30),m=n(56);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=(0,p.useTranslation)().t,n=e.visible,r=e.onCancel,a=e.dmRoleId,f=void 0===a?"":a,v=e.addSelectedRowKeys,b=e.domainId,y=(e.bgroup,e.getFindDmRoleUserList),h=e.privilegeDomainRoleStore,O=h.createBatchDmRoleUserAction,E=h.findDmUserPageAction,P=(0,s.useState)([]),j=(0,d.default)(P,2),w=j[0],_=j[1],k=(0,s.useState)([]),S=(0,d.default)(k,2),R=S[0],D=S[1],x=(0,s.useState)(1),A=(0,d.default)(x,2),M=A[0],F=A[1],I=(0,s.useState)({}),C=(0,d.default)(I,2),T=C[0],L=C[1],z=(0,s.useState)({pageSize:6,currentPage:1}),U=(0,d.default)(z,1)[0],N=(0,s.useState)({pageParam:U}),B=(0,d.default)(N,2),G=B[0],W=B[1];(0,s.useEffect)((function(){K(G)}),[G]),(0,s.useEffect)((function(){_(v)}),[v]);var K=function(){E(g(g({},G),{},{domainId:b})).then((function(e){e.code||(L({total:e.data.totalPage}),D(e.data.dataList.map((function(e){return e.user}))))}))},V=function(){W({pageParam:U}),_([]),F(1),L({}),r()},J=[{title:t("privilege-role.nickname"),dataIndex:"nickname",key:"nickname",width:"30%",ellipsis:!0,render:function(e,t){return s.default.createElement(c.default,null,s.default.createElement(m.Profile,{userInfo:t}),e)}},{title:t("privilege-role.phone"),dataIndex:"phone",key:"phone",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:t("privilege-role.email"),dataIndex:"email",key:"email",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:t("privilege-role.type"),dataIndex:"userType",key:"userType",width:"15%",ellipsis:!0,render:function(e){switch(e){case 2:return t("privilege-role.thirdparty");case 1:return t("privilege-role.internal");default:return"--"}}}],Y={selectedRowKeys:w,onChange:function(e){_(e)}},q=s.default.createElement(s.default.Fragment,null,s.default.createElement(m.Btn,{onClick:V,title:"取消",isMar:!0}),s.default.createElement(m.Btn,{onClick:function(){O({dmRole:{id:f},domainId:b,userIds:w}).then((function(e){V(),y()}))},title:"确定",type:"primary"}));return s.default.createElement(m.BaseModal,{title:"添加用户",visible:n,footer:q,onCancel:V,width:700,destroyOnClose:!0,cancelText:t("privilege-common.cancel"),okText:t("privilege-common.save")},s.default.createElement(l.default,{style:{paddingBottom:16}},s.default.createElement(i.default,{span:24},s.default.createElement(o.default,{placeholder:"昵称",onPressEnter:function(e){var t=e.target.value,n=g(g({},G),{},{nickname:t,pageParam:U});W(n)},style:{width:240}}))),s.default.createElement(l.default,null,s.default.createElement(i.default,{span:24},s.default.createElement("div",{style:{width:"100%"}},s.default.createElement(u.default,{columns:J,dataSource:R,rowSelection:Y,rowKey:function(e){return e.id},pagination:!1}),T&&T.total>1&&s.default.createElement(m.Page,{pageCurrent:M,changPage:function(e){F(e);var t=g(g({},G),{},{pageParam:{pageSize:10,currentPage:e}});W(t)},page:T})))))};t.default=y},250:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(41);var u=r(n(31)),l=r(n(32)),i=r(n(75)),o=r(n(40));n(150);var c=r(n(57)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),d=n(6);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=c.default.Group,b=function(e){var t=e.roleDetail,n=e.bgroup,r=(0,f.useState)([]),a=(0,o.default)(r,2),l=a[0],s=a[1],p=(0,f.useState)({}),b=(0,o.default)(p,2),g=b[0],y=b[1],h=(0,f.useState)({}),O=(0,o.default)(h,2),E=O[0],P=O[1],j=[{title:"模块",key:"label",width:"30%",render:function(e){return f.default.createElement(c.default,{indeterminate:e.indeterminate,onChange:function(t){return A(e.value,t)},checked:e.checkAll},e.label)}},{title:"功能点",key:"name",render:function(e){return f.default.createElement(v,{options:g[e.value],value:e.checkedList,onChange:function(t){return R(e.value,t)}})}}];(0,f.useEffect)((function(){t&&w()}),[t]);var w=function(){d.Axios.post("/function/findFunctionList",{bgroup:n,type:"2"}).then((function(e){if(!e.code){var n=_(e.data);s(n.result),y(n.resultChild),S(t.role.id,!0,n.result,n.resultChild)}}))},_=function(e){var t=e.map((function(e){return!e.parentFunction&&{value:e.id,label:e.name}})).filter(Boolean),n=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&{value:e.id,label:e.name,parent:e.parentFunction.id}})).filter(Boolean),r=[],a={};return t.forEach((function(e){var t=e.value,u=n.filter((function(e){return e.parent===t}));r.push({value:e.value,label:e.label,indeterminate:!1,checkedList:[],checkAll:!1}),a[e.value]=u})),{result:r,resultChild:a}},k=function(e){var t=e.filter((function(e){return e.function&&e.function.parentFunction})).map((function(e){return{parentID:e.function.parentFunction.id,id:e.function.id}})),n=e.filter((function(e){return!e.function.parentFunction})).map((function(e){return e.function.id})),r={};return n.forEach((function(e){var n=t.map((function(t){if(t.parentID===e)return t.id})).filter(Boolean);r[e]=[].concat((0,i.default)(n),[e])})),r},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u={roleId:e,bgroup:n};d.Axios.post("roleFunction/findRoleFunctionList",u).then((function(e){if(!e.code){var n=k(e.data),u=e.data.reduce((function(e,t){return e[t.function.id]=t.id,e}),{}),i=t?a:g,o=(t?r:l).map((function(e){var t=n[e.value]?n[e.value]:[],r=0===i[e.value].length,a=t.length===i[e.value].length+1&&0!==t.length,u=a?!a:!!t.length&&t.length<i[e.value].length+1;return r&&1===t.length&&(a=!0,u=!1),m(m({},e),{},{checkedList:t,indeterminate:u,checkAll:a})}));P(u),s(o)}}))},R=function(e,t){D(e,t)},D=function(e,t){var n=t,r=l.filter((function(t){return t.value===e}))[0].checkedList,a=n.length<r.length,u=a?x(r,n):x(n,r);if(a)if(r.length>2){var o=u.filter((function(t){return t!==e}));o.map((function(e,t){F(e,t+1===o.length)}))}else{var c=Array.from(new Set(0===n.length?[e].concat((0,i.default)(u)):u));c.map((function(e,t){F(e,t+1===c.length)}))}else{var f=0===r.length?[e].concat((0,i.default)(u)):u;f.map((function(e,t){M(e,t+1===f.length)}))}},x=function(e,t){for(var n=[],r=function(){var r=e[a];t.some((function(e){return e===r}))&&0!==t.length||n.push(r)},a=0;a<e.length;a++)r();return n},A=function(e,t){var n=Object.keys(E),r=n.includes(e),a=n.filter((function(t){return g[e].some((function(e){return e.value===t}))})),u=g[e].filter((function(e){if(!a.some((function(t){return t===e.value})))return e})),l=(!r||0!==g[e].length)&&g[e].length===u.length;if(r||(l=!0,u=g[e]),l)n.includes(e)||(u=[].concat((0,i.default)(u),[{value:e}])),u.length>0?u.map((function(e,t){M(e.value,t+1===u.length)})):M(e,!0);else{if(n.includes(e)){var o=a.map((function(e){return{value:e}}));u=[].concat((0,i.default)(o),[{value:e}])}u.length>0?u.map((function(e,t){F(e.value,t+1===u.length)})):F(e,!0)}},M=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a={role:{id:t.role.id},function:{id:e},bgroup:n};d.Axios.post("roleFunction/createRoleFunction",a).then((function(e){r&&S(t.role.id)}))},F=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=E[e],a=new FormData;a.append("id",r),d.Axios.post("/roleFunction/deleteRoleFunction",a).then((function(e){n&&S(t.role.id)}))};return f.default.createElement("div",{className:"tiklab_dm_promisse"},f.default.createElement(u.default,{pagination:!1,columns:j,dataSource:l,rowKey:function(e){return e.value},bordered:!0}))};t.default=b},251:function(e,t,n){"use strict";n.r(t)},252:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(421);var u=r(n(412));n(52);var l=r(n(26));n(81);var i=r(n(23)),o=r(n(40)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),f=n(30),d=n(6),s=n(56);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var m=function(e){var t=e.visible,n=e.cancelAdd,r=e.editData,a=void 0===r?{}:r,p=e.parentId,m=void 0===p?"":p,v=e.urlType,b=void 0===v?"system":v,g=e.data,y=void 0===g?[]:g,h=i.default.useForm(),O=(0,o.default)(h,1)[0],E=(0,f.useTranslation)().t,P=(0,c.useState)([]),j=(0,o.default)(P,2),w=(j[0],j[1]);(0,c.useEffect)((function(){t&&k()}),[t]),(0,c.useEffect)((function(){"{}"!==JSON.stringify(a)&&(O.setFieldsValue({code:a.code}),O.setFieldsValue({name:a.name}),O.setFieldsValue({parent:a.parentFunction?a.parentFunction.id:a.parentFunction})),m&&O.setFieldsValue({parent:m})}),[a,m]);var _,k=function(){var e=new FormData;e.append("type","system"===b?"1":"2"),d.Axios.post("/function/findFunctionListByParentId",e).then((function(e){e.code||w(e.data)}))},S=function(){O.resetFields(),n()},R=c.default.createElement(c.default.Fragment,null,c.default.createElement(s.Btn,{onClick:S,title:"取消",isMar:!0}),c.default.createElement(s.Btn,{onClick:function(){O.submit()},title:"确定",type:"primary"}));return c.default.createElement(s.BaseModal,{title:"{}"!==JSON.stringify(a)?E("privilege-edit-feature"):E("privilege-add-feature"),visible:t,footer:R,onCancel:S,forceRender:!0,destroyOnClose:!0,cancelText:E("privilege-common.cancel"),okText:E("privilege-common.save")},c.default.createElement(i.default,{form:O,onFinish:function(e){if("{}"===JSON.stringify(a)){var t={name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===b?"1":"2"};d.Axios.post("/function/createFunction",t).then((function(e){e.code||S()}))}else{var n={id:a.id,name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===b?"1":"2"};d.Axios.post("/function/updateFunction",n).then((function(e){e.code||S()}))}},preserve:!1,layout:"vertical"},c.default.createElement(i.default.Item,{label:E("privilege-feature-name"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.default.createElement(l.default,{placeholder:E("privilege-feature-name")})),c.default.createElement(i.default.Item,{label:E("privilege-feature-code"),name:"code",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.default.createElement(l.default,{placeholder:E("privilege-feature-code")})),c.default.createElement(i.default.Item,{label:E("privilege-point-node"),name:"parent"},c.default.createElement(u.default,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:(_=[],function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var u={title:t.name,value:t.id,disabled:r};if(t.id===a.id&&(u.disabled=!0),n.push(u),t.children&&t.children.length>0)return e(t.children,u.children=[],u.disabled)}))}(y,_),_),placeholder:E("privilege-point-node-placeholder"),disabled:m||a.children&&a.children.length>0}))))};t.default=m},253:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(94)),l=r(n(40)),i=r(n(32)),o=r(n(87)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),f=n(223),d=["record","data","index","moveRow","className","style"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v="DraggableFeatureBodyRow",b=function(e){var t=e.record,n=(e.data,e.index),r=e.moveRow,a=e.className,i=e.style,s=(0,o.default)(e,d);if(!t)return null;var p=m(m({},t),{},{index:n}),b=(0,c.useRef)(null),g=(0,f.useDrop)({accept:v,collect:function(e){var t=e.getItem()||{},r=t.index;t.sort;return r===n?{}:{isOver:e.isOver(),dropClassName:r<n?" drop-over-downward":" drop-over-upward"}},drop:function(e){var n={dragId:e.id,drag:e,dropId:t.id,drop:m({},t)};r(n)}}),y=(0,l.default)(g,2),h=y[0],O=h.isOver,E=h.dropClassName,P=y[1],j=(0,f.useDrag)({type:v,item:p,collect:function(e){return{isDragging:e.isDragging()}}});return P((0,(0,l.default)(j,2)[1])(b)),c.default.createElement("tr",(0,u.default)({ref:b,className:"".concat(a).concat(O?E:""),style:m({cursor:"move"},i)},s))};t.default=b},254:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.sortNum=t.sort=t.handelPeerFunction=void 0;var a=r(n(32));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.handelPeerFunction=function(e,t,n,r,a){var u=e.map((function(e){return e.id===t?l(l({},e),{},{sort:a}):e.id===n?l(l({},e),{},{sort:r}):e}));return i(u)};var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.sort-t.sort}))};t.sort=i;t.sortNum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e-t}))}},255:function(e,t,n){"use strict";n.r(t)},256:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(52);var u=r(n(26)),l=r(n(32));n(81);var i=r(n(23)),o=r(n(40)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),f=n(30),d=n(6),s=n(56);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=(0,f.useTranslation)().t,n=e.visible,r=e.initParam,a=e.cancel,l=e.editData,p=void 0===l?{}:l,m=e.group,b=void 0===m?"system":m,g=e.urlType,y=void 0===g?"system":g;if(!["system","project"].includes(y))throw Error("use RoleAdd Component must have urlType props, value:'system'、 'project'");var h=i.default.useForm(),O=(0,o.default)(h,1)[0];(0,c.useEffect)((function(){O.setFieldsValue({desc:p.desc}),O.setFieldsValue({name:p.name})}),[p]);var E=function(){O.resetFields(),a()},P=c.default.createElement(c.default.Fragment,null,c.default.createElement(s.Btn,{onClick:E,title:"取消",isMar:!0}),c.default.createElement(s.Btn,{onClick:function(){O.submit()},title:"确定",type:"primary"}));return c.default.createElement(s.BaseModal,{title:"{}"!==JSON.stringify(p)?t("privilege-role.editRole"):t("privilege-role.addRole"),visible:n,onCancel:E,footer:P,forceRender:!0,destroyOnClose:!0,cancelText:t("privilege-common.cancel"),okText:t("privilege-common.save")},c.default.createElement(i.default,{form:O,preserve:!1,onFinish:function(e){var t="/role/createRole",n=v(v({},e),{},{group:b,type:"system"===y?"1":"2"});"{}"!==JSON.stringify(p)&&(t="/role/updateRole",n=v(v({},e),{},{group:b,id:p.id,type:"system"===y?"1":"2"})),d.Axios.post(t,n).then((function(e){e.code||(E(),r())}))},layout:"vertical"},c.default.createElement(i.default.Item,{label:t("privilege-role.roleName"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.default.createElement(u.default,{placeholder:t("privilege-role.roleName")})),c.default.createElement(i.default.Item,{label:t("privilege-desc"),name:"desc"},c.default.createElement(u.default,{placeholder:t("privilege-desc")}))))};t.default=b},257:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(94));n(37);var l=r(n(22));n(44);var i=r(n(20));n(41);var o=r(n(31)),c=r(n(75)),f=r(n(98));n(74);var d=r(n(39)),s=r(n(97));n(36);var p=r(n(24));n(114);var m=r(n(76)),v=r(n(40)),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),g=n(28),y=n(30),h=r(n(258)),O=r(n(259)),E=n(56),P=n(53);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}var w=(0,g.inject)(P.SYSTEM_ROLE_STORE)((0,g.observer)((function(e){var t=e.roleDetail,n=e.systemRoleStore,r=n.deleteRoleUserGroupAction,a=n.deleteRoleUserAction,g=n.findAllUserGroupAction,P=n.findRoleUserGroupListAction,j=n.findRoleUserListAction,w=((0,y.useTranslation)().t,(0,b.useState)([])),_=(0,v.default)(w,2),k=_[0],S=_[1],R=(0,b.useState)(!1),D=(0,v.default)(R,2),x=D[0],A=D[1],M=(0,b.useState)([]),F=(0,v.default)(M,2),I=F[0],C=F[1],T=(0,b.useState)(!1),L=(0,v.default)(T,2),z=L[0],U=L[1],N=(0,b.useState)([]),B=(0,v.default)(N,2),G=B[0],W=B[1],K=(0,b.useState)([]),V=(0,v.default)(K,2),J=V[0],Y=V[1],q=[{title:"名称",dataIndex:"name",render:function(e,t){var n=t.user,r=t.userGroup;return r?b.default.createElement(p.default,null,r.name,r.type>0&&b.default.createElement(m.default,null,"管理员组")):b.default.createElement(p.default,null,n.nickname,1===n.type&&b.default.createElement(m.default,null,"管理员用户"))}},{title:"类型",dataIndex:"type",render:function(e,t){t.user;return t.userGroup?"用户组":"用户"}},{title:"操作",dataIndex:"action",width:100,render:function(e,t){var n=t.user,r=t.userGroup;return re(r?r.type:n.type,t)}}];(0,b.useEffect)((function(){ee()}),[]),(0,b.useEffect)((function(){t&&(H(),Q())}),[t]);var H=function(){j({roleId:t.id}).then((function(e){if(!e.code){S(e.data);var t=e.data.map((function(e){return e.user})).filter(Boolean).map((function(e){return e.id}));C(t)}}))},Q=function(){P({roleId:t.id}).then((function(e){e.code||Y(e.data)}))},X=function(e){e.user&&Z(e.id),e.userGroup&&$(e.id)},Z=function(e){a(e).then((function(e){e.code||H()}))},$=function(e){r(e).then((function(e){e.code||Q()}))},ee=function(){g().then((function(e){0===e.code&&W(e.data)}))},te=function(){H(),Q()},ne=function(){A(!x),U(!z)},re=function(e,n){var r=t.businessType,a=[];return 0===r&&a.push(b.default.createElement(d.default,{title:"删除"},b.default.createElement(s.default,{onClick:function(){return X(n)},style:{fontSize:"var(--tiklab-icon-size-16)"}}))),r>0&&e<1&&a.push(b.default.createElement(d.default,{title:"删除"},b.default.createElement(s.default,{onClick:function(){return X(n)},style:{fontSize:"var(--tiklab-icon-size-16)"}}))),a};return b.default.createElement("div",{className:"tiklab_projectpromisse"},b.default.createElement("div",{className:"tiklab_projectpromisse_up"},b.default.createElement("div",{className:"tiklab_projectpromisse_up-title"},"用户(".concat(k.length,")/用户组(").concat(J.length,")")),b.default.createElement(E.Btn,{onClick:function(){return A(!0)},type:"primary",title:"添加",icon:b.default.createElement(f.default,null)})),b.default.createElement(l.default,null,b.default.createElement(i.default,{span:24,className:"tiklab_projectpromisse_person"},b.default.createElement(o.default,{columns:q,dataSource:[].concat((0,c.default)(J),(0,c.default)(k)),rowKey:function(e){return e.id},pagination:!1}))),b.default.createElement(h.default,(0,u.default)({},e,{visible:x,onCancel:function(){return A(!1)},getRoleDetail:te,changeAddType:ne,roleId:t.id,addSelectedRowKeys:I})),b.default.createElement(O.default,{roleId:t.id,onClose:function(){return U(!1)},getRoleDetail:te,changeAddType:ne,groupUserList:G,open:z}))})));t.default=w},258:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(44);var u=r(n(20));n(41);var l=r(n(31));n(37);var i=r(n(22));n(52);var o=r(n(26));n(36);var c=r(n(24)),f=r(n(32)),d=r(n(40)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),p=n(28),m=n(30),v=n(56),b=n(53);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=(0,p.inject)(b.SYSTEM_ROLE_STORE)((0,p.observer)((function(e){var t=(0,m.useTranslation)().t,n=e.visible,r=e.onCancel,a=e.getRoleDetail,f=e.roleId,p=e.changeAddType,b=e.addSelectedRowKeys,g=e.systemRoleStore,y=g.createBatchRoleUserAction,O=g.getUserPageAction,E=(0,s.useState)([]),P=(0,d.default)(E,2),j=P[0],w=P[1],_=(0,s.useState)([]),k=(0,d.default)(_,2),S=k[0],R=k[1],D=(0,s.useState)(1),x=(0,d.default)(D,2),A=x[0],M=x[1],F=(0,s.useState)({}),I=(0,d.default)(F,2),C=I[0],T=I[1],L=(0,s.useState)({pageSize:6,currentPage:1}),z=(0,d.default)(L,1)[0],U=(0,s.useState)({pageParam:z}),N=(0,d.default)(U,2),B=N[0],G=N[1];(0,s.useEffect)((function(){W(B)}),[B]),(0,s.useEffect)((function(){w(b)}),[b]);var W=function(e){O(e).then((function(e){e.code||(T({total:e.data.totalPage}),R(e.data.dataList))}))},K=function(){G({pageParam:z}),w([]),M(1),T({}),r()},V=[{title:t("privilege-role.nickname"),dataIndex:"nickname",key:"nickname",width:"40%",ellipsis:!0,render:function(e,t){return s.default.createElement(c.default,null,s.default.createElement(v.Profile,{userInfo:t})," ",e)}},{title:t("privilege-role.phone"),dataIndex:"phone",key:"phone",width:"30%",ellipsis:!0,render:function(e){return e||"--"}},{title:t("privilege-role.email"),dataIndex:"email",key:"email",width:"30%",ellipsis:!0,render:function(e){return e||"--"}}],J={selectedRowKeys:j,onChange:function(e){w(e)}},Y=s.default.createElement(s.default.Fragment,null,s.default.createElement(v.Btn,{onClick:K,title:"取消",isMar:!0}),s.default.createElement(v.Btn,{onClick:function(){y({role:{id:f},userIds:j}).then((function(e){K(),a()}))},title:"确定",type:"primary"}));return s.default.createElement(v.BaseModal,{visible:n,footer:Y,onCancel:K,width:500,destroyOnClose:!0,cancelText:t("privilege-common.cancel"),okText:t("privilege-common.save")},s.default.createElement("div",{className:"tiklab_promisse_modal_up"},s.default.createElement("div",null,"添加用户"),s.default.createElement("div",{onClick:function(){return p()}},"添加用户组")),s.default.createElement(i.default,null,s.default.createElement(o.default,{placeholder:"昵称",onPressEnter:function(e){var t=e.target.value,n=h(h({},B),{},{nickname:t,pageParam:z});G(n)},style:{width:240}})),s.default.createElement(i.default,null,s.default.createElement(u.default,{span:24},s.default.createElement("div",{style:{width:"100%"}},s.default.createElement(l.default,{columns:V,dataSource:S,rowSelection:J,rowKey:function(e){return e.id},pagination:!1}),C&&C.total>1&&s.default.createElement(v.Page,{pageCurrent:A,changPage:function(e){M(e);var t=h(h({},B),{},{pageParam:{pageSize:6,currentPage:e}});G(t)},page:C})))))})));t.default=O},259:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(118);var u=r(n(45)),l=r(n(32));n(81);var i=r(n(23)),o=r(n(40)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),f=n(30),d=n(28),s=n(56),p=n(53);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b=(0,d.inject)(p.SYSTEM_ROLE_STORE)((0,d.observer)((function(e){var t=e.open,n=e.onClose,r=e.roleId,a=e.groupUserList,d=e.getRoleDetail,p=e.changeAddType,m=e.systemRoleStore,b=m.createBatchRoleUserGroupAction,g=m.findRoleUserGroupListAction,y=i.default.useForm(),h=(0,o.default)(y,1)[0],O=(0,f.useTranslation)().t;(0,c.useEffect)((function(){r&&g({roleId:r}).then((function(e){if(0===e.code){var t=e.data.map((function(e){return e.userGroup.id}));h.setFieldsValue({tagValues:t})}}))}),[r]);var E=function(){h.resetFields(),n()},P=c.default.createElement(c.default.Fragment,null,c.default.createElement(s.Btn,{onClick:E,title:"取消",isMar:!0}),c.default.createElement(s.Btn,{onClick:function(){h.submit()},title:"确定",type:"primary"}));return c.default.createElement(s.BaseModal,{visible:t,footer:P,onCancel:E,forceRender:!0,destroyOnClose:!0,cancelText:O("privilege-common.cancel"),okText:O("privilege-common.save")},c.default.createElement("div",{className:"tiklab_promisse_modal_up"},c.default.createElement("div",null,"添加用户组"),c.default.createElement("div",{onClick:function(){return p()}},"添加用户")),c.default.createElement(i.default,{form:h,preserve:!1,onFinish:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({role:{id:r}},e);b(t).then((function(e){0===e.code&&(E(),d())}))},layout:"vertical"},c.default.createElement(i.default.Item,{label:"用户组",name:"userGroupIds",rules:[{required:!0,message:"选择用户组"}]},c.default.createElement(u.default,{placeholder:"选择用户组",mode:"multiple"},a.map((function(e){return c.default.createElement(u.default.Option,{value:e.id,key:e.id},e.name)}))))))})));t.default=b},260:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(41);var u=r(n(31)),l=r(n(32)),i=r(n(75)),o=r(n(40));n(150);var c=r(n(57)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),d=n(6);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=c.default.Group,b=function(e){var t=e.roleDetail,n=(0,f.useState)([]),r=(0,o.default)(n,2),a=r[0],l=r[1],s=(0,f.useState)({}),p=(0,o.default)(s,2),b=p[0],g=p[1],y=(0,f.useState)({}),h=(0,o.default)(y,2),O=h[0],E=h[1],P=[{title:"模块",key:"label",width:"30%",render:function(e){return f.default.createElement(c.default,{indeterminate:e.indeterminate,onChange:function(t){return x(e.value,t)},checked:e.checkAll},e.label)}},{title:"功能点",key:"name",render:function(e){return f.default.createElement(v,{options:b[e.value],value:e.checkedList,onChange:function(t){return S(e.value,t)}})}}];(0,f.useEffect)((function(){t&&j()}),[t]);var j=function(){d.Axios.post("/function/findFunctionList",{type:"2"}).then((function(e){if(!e.code){var n=w(e.data);l(n.result),g(n.resultChild),k(t.id,!0,n.result,n.resultChild)}}))},w=function(e){var t=e.map((function(e){return!e.parentFunction&&{value:e.id,label:e.name}})).filter(Boolean),n=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&{value:e.id,label:e.name,parent:e.parentFunction.id}})).filter(Boolean),r=[],a={};return t.forEach((function(e){var t=e.value,u=n.filter((function(e){return e.parent===t}));r.push({value:e.value,label:e.label,indeterminate:!1,checkedList:[],checkAll:!1}),a[e.value]=u})),{result:r,resultChild:a}},_=function(e){var t=e.filter((function(e){return e.function&&e.function.parentFunction})).map((function(e){return{parentID:e.function.parentFunction.id,id:e.function.id}})),n=e.filter((function(e){return!e.function.parentFunction})).map((function(e){return e.function.id})),r={};return n.forEach((function(e){var n=t.map((function(t){if(t.parentID===e)return t.id})).filter(Boolean);r[e]=[].concat((0,i.default)(n),[e])})),r},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u={roleId:e};d.Axios.post("roleFunction/findRoleFunctionList",u).then((function(e){if(!e.code){var u=_(e.data),i=e.data.reduce((function(e,t){return e[t.function.id]=t.id,e}),{}),o=t?r:b,c=(t?n:a).map((function(e){var t=u[e.value]?u[e.value]:[],n=0===o[e.value].length,r=t.length===o[e.value].length+1&&0!==t.length,a=r?!r:!!t.length&&t.length<o[e.value].length+1;return n&&1===t.length&&(r=!0,a=!1),m(m({},e),{},{checkedList:t,indeterminate:a,checkAll:r})}));E(i),l(c)}}))},S=function(e,t){R(e,t)},R=function(e,t){var n=t,r=a.filter((function(t){return t.value===e}))[0].checkedList,u=n.length<r.length,l=u?D(r,n):D(n,r);if(u)if(r.length>2){var o=l.filter((function(t){return t!==e}));o.map((function(e,t){M(e,t+1===o.length)}))}else{var c=Array.from(new Set(0===n.length?[e].concat((0,i.default)(l)):l));c.map((function(e,t){M(e,t+1===c.length)}))}else{var f=0===r.length?[e].concat((0,i.default)(l)):l;f.map((function(e,t){A(e,t+1===f.length)}))}},D=function(e,t){for(var n=[],r=function(){var r=e[a];t.some((function(e){return e===r}))&&0!==t.length||n.push(r)},a=0;a<e.length;a++)r();return n},x=function(e,t){var n=Object.keys(O),r=n.includes(e),a=n.filter((function(t){return b[e].some((function(e){return e.value===t}))})),u=b[e].filter((function(e){if(!a.some((function(t){return t===e.value})))return e})),l=(!r||0!==b[e].length)&&b[e].length===u.length;if(r||(l=!0,u=b[e]),l)n.includes(e)||(u=[].concat((0,i.default)(u),[{value:e}])),u.length>0?u.map((function(e,t){A(e.value,t+1===u.length)})):A(e,!0);else{if(n.includes(e)){var o=a.map((function(e){return{value:e}}));u=[].concat((0,i.default)(o),[{value:e}])}u.length>0?u.map((function(e,t){M(e.value,t+1===u.length)})):M(e,!0)}},A=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={role:{id:t.id},function:{id:e}};d.Axios.post("roleFunction/createRoleFunction",r).then((function(e){n&&k(t.id)}))},M=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=O[e],a=new FormData;a.append("id",r),d.Axios.post("roleFunction/deleteRoleFunction",a).then((function(e){n&&k(t.id)}))};return f.default.createElement("div",{className:"tiklab_projectpromisse"},f.default.createElement(u.default,{pagination:!1,columns:P,dataSource:a,rowKey:function(e){return e.value},bordered:!0}))};t.default=b},261:function(e,t,n){"use strict";n.r(t)},262:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(94));n(41);var l=r(n(31)),i=r(n(75));n(74);var o=r(n(39)),c=r(n(97));n(195);var f=r(n(115)),d=r(n(98));n(36);var s=r(n(24));n(114);var p=r(n(76)),m=r(n(40)),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),b=n(28),g=n(30),y=r(n(263)),h=r(n(259)),O=n(56),E=n(53);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}var j=(0,b.inject)(E.SYSTEM_ROLE_STORE)((0,b.observer)((function(e){var t=e.roleDetail,n=e.systemRoleStore,r=n.deleteRoleUserGroupAction,a=n.deleteRoleUserAction,b=n.findAllUserGroupAction,E=n.findRoleUserGroupListAction,P=n.findRoleUserListAction,j=((0,g.useTranslation)().t,(0,v.useState)(!1)),w=(0,m.default)(j,2),_=w[0],k=w[1],S=(0,v.useState)([]),R=(0,m.default)(S,2),D=R[0],x=R[1],A=(0,v.useState)(!1),M=(0,m.default)(A,2),F=M[0],I=M[1],C=(0,v.useState)([]),T=(0,m.default)(C,2),L=T[0],z=T[1],U=(0,v.useState)([]),N=(0,m.default)(U,2),B=N[0],G=N[1],W=(0,v.useState)([]),K=(0,m.default)(W,2),V=K[0],J=K[1],Y=[{title:"名称",dataIndex:"name",render:function(e,t){var n=t.user,r=t.userGroup;return r?v.default.createElement(s.default,null,r.name,r.type>0&&v.default.createElement(p.default,null,"管理员组")):v.default.createElement(s.default,null,n.nickname,1===n.type&&v.default.createElement(p.default,null,"管理员用户"))}},{title:"类型",dataIndex:"type",render:function(e,t){t.user;return t.userGroup?"用户组":"用户"}},{title:"操作",dataIndex:"action",width:100,render:function(e,t){var n=t.user,r=t.userGroup;return te(r?r.type:n.type,t)}}];(0,v.useEffect)((function(){$()}),[]),(0,v.useEffect)((function(){t&&(H(),q())}),[t]);var q=function(){E({roleId:t.id}).then((function(e){e.code||G(e.data)}))},H=function(){P({roleId:t.id}).then((function(e){if(!e.code){J(e.data);var t=e.data.map((function(e){return e.user})).filter(Boolean).map((function(e){return e.id}));return x(t),e.data}}))},Q=function(e){e.user&&X(e.id),e.userGroup&&Z(e.id)},X=function(e){a(e).then((function(e){e.code||H()}))},Z=function(e){r(e).then((function(e){e.code||q()}))},$=function(){b().then((function(e){0===e.code&&z(e.data)}))},ee=function(){H(),q()},te=(f.default,f.default.Item,d.default,f.default.Item,d.default,function(e,n){var r=t.businessType,a=[];return 0===r&&a.push(v.default.createElement(o.default,{title:"删除"},v.default.createElement(c.default,{onClick:function(){return Q(n)},style:{fontSize:"var(--tiklab-icon-size-16)"}}))),r>0&&e<1&&a.push(v.default.createElement(o.default,{title:"删除"},v.default.createElement(c.default,{onClick:function(){return Q(n)},style:{fontSize:"var(--tiklab-icon-size-16)"}}))),a}),ne=function(){k(!_),I(!F)};return v.default.createElement("div",{className:"tiklab_promisse"},v.default.createElement("div",{className:"tiklab_promisse_up"},v.default.createElement("div",{className:"tiklab_promisse_up-title"},"用户(".concat(V.length,")/用户组(").concat(B.length,")")),v.default.createElement(O.Btn,{onClick:function(){return k(!0)},type:"primary",title:"添加",icon:v.default.createElement(d.default,null)})),v.default.createElement("div",{className:"tiklab_promisse_person"},v.default.createElement(l.default,{columns:Y,dataSource:[].concat((0,i.default)(B),(0,i.default)(V)),rowKey:function(e){return e.id},pagination:!1})),v.default.createElement(y.default,(0,u.default)({},e,{visible:_,onCancel:function(){return k(!1)},getRoleDetail:ee,changeAddType:ne,roleId:t.id,addSelectedRowKeys:D})),v.default.createElement(h.default,{roleId:t.id,onClose:function(){return I(!1)},getRoleDetail:ee,changeAddType:ne,groupUserList:L,open:F}))})));t.default=j},263:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(41);var u=r(n(31));n(37);var l=r(n(22));n(44);var i=r(n(20));n(52);var o=r(n(26));n(36);var c=r(n(24)),f=r(n(32)),d=r(n(40)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),p=n(30),m=n(28),v=n(56),b=n(53);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=(0,m.inject)(b.SYSTEM_ROLE_STORE)((0,m.observer)((function(e){var t=(0,p.useTranslation)().t,n=e.visible,r=e.onCancel,a=e.roleId,f=e.changeAddType,m=e.addSelectedRowKeys,b=e.getRoleDetail,g=e.systemRoleStore,y=g.createBatchRoleUserAction,O=g.getUserPageAction,E=(0,s.useState)([]),P=(0,d.default)(E,2),j=P[0],w=P[1],_=(0,s.useState)([]),k=(0,d.default)(_,2),S=k[0],R=k[1],D=(0,s.useState)(1),x=(0,d.default)(D,2),A=x[0],M=x[1],F=(0,s.useState)({}),I=(0,d.default)(F,2),C=I[0],T=I[1],L=(0,s.useState)({pageSize:6,currentPage:1}),z=(0,d.default)(L,1)[0],U=(0,s.useState)({pageParam:z}),N=(0,d.default)(U,2),B=N[0],G=N[1];(0,s.useEffect)((function(){W(B)}),[B]),(0,s.useEffect)((function(){w(m)}),[m]);var W=function(e){O(e).then((function(e){e.code||(T({total:e.data.totalPage}),R(e.data.dataList))}))},K=function(){G({pageParam:z}),w([]),M(1),T({}),r()},V=[{title:t("privilege-role.nickname"),dataIndex:"nickname",key:"nickname",width:"40%",ellipsis:!0,render:function(e,t){return s.default.createElement(c.default,null,s.default.createElement(v.Profile,{userInfo:t}),e)}},{title:t("privilege-role.phone"),dataIndex:"phone",key:"phone",width:"30%",ellipsis:!0,render:function(e){return e||"--"}},{title:t("privilege-role.email"),dataIndex:"email",key:"email",width:"30%",ellipsis:!0,render:function(e){return e||"--"}}],J={selectedRowKeys:j,onChange:function(e){w(e)}},Y=s.default.createElement(s.default.Fragment,null,s.default.createElement(v.Btn,{onClick:K,title:"取消",isMar:!0}),s.default.createElement(v.Btn,{onClick:function(){y({role:{id:a},userIds:j}).then((function(e){K(),b()}))},title:"确定",type:"primary"}));return s.default.createElement(v.BaseModal,{visible:n,onCancel:K,footer:Y,width:500,cancelText:t("privilege-common.cancel"),okText:t("privilege-common.save")},s.default.createElement("div",{className:"tiklab_promisse_modal_up"},s.default.createElement("div",null,"添加用户"),s.default.createElement("div",{onClick:function(){return f()}},"添加用户组")),s.default.createElement(l.default,{style:{paddingBottom:16}},s.default.createElement(i.default,{span:24},s.default.createElement(o.default,{placeholder:t("privilege-role.nickname"),width:240,onPressEnter:function(e){var t=e.target.value,n=h(h({},B),{},{nickname:t,pageParam:z});G(n)},style:{width:240}}))),s.default.createElement(l.default,null,s.default.createElement(i.default,{span:24},s.default.createElement("div",{style:{width:"100%"}},s.default.createElement(u.default,{columns:V,dataSource:S,rowSelection:J,rowKey:function(e){return e.id},pagination:!1}),C&&C.total>1&&s.default.createElement(v.Page,{pageCurrent:A,changPage:function(e){M(e);var t=h(h({},B),{},{pageParam:{pageSize:6,currentPage:e}});G(t)},page:C})))))})));t.default=O},264:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(41);var u=r(n(31)),l=r(n(32)),i=r(n(75)),o=r(n(40));n(150);var c=r(n(57)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),d=n(6);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=c.default.Group,b=function(e){var t=e.roleDetail,n=e.group,r=(0,f.useState)([]),a=(0,o.default)(r,2),l=a[0],s=a[1],p=(0,f.useState)({}),b=(0,o.default)(p,2),g=b[0],y=b[1],h=(0,f.useState)({}),O=(0,o.default)(h,2),E=O[0],P=O[1],j=[{title:"模块",key:"label",width:"30%",render:function(e){return f.default.createElement(c.default,{indeterminate:e.indeterminate,onChange:function(t){return A(e.value,t)},checked:e.checkAll},e.label)}},{title:"功能点",key:"name",render:function(e){return f.default.createElement(v,{options:g[e.value],value:e.checkedList,onChange:function(t){return R(e.value,t)}})}}];(0,f.useEffect)((function(){t&&w()}),[t]);var w=function(){d.Axios.post("/function/findFunctionList",{group:n}).then((function(e){if(!e.code){var n=_(e.data);s(n.result),y(n.resultChild),S(t.id,!0,n.result,n.resultChild)}}))},_=function(e){var t=e.map((function(e){return!e.parentFunction&&{value:e.id,label:e.name}})).filter(Boolean),n=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&{value:e.id,label:e.name,parent:e.parentFunction.id}})).filter(Boolean),r=[],a={};return t.forEach((function(e){var t=e.value,u=n.filter((function(e){return e.parent===t}));r.push({value:e.value,label:e.label,indeterminate:!1,checkedList:[],checkAll:!1}),a[e.value]=u})),{result:r,resultChild:a}},k=function(e){var t=e.filter((function(e){return e.function&&e.function.parentFunction})).map((function(e){return{parentID:e.function.parentFunction.id,id:e.function.id}})),n=e.filter((function(e){return!e.function.parentFunction})).map((function(e){return e.function.id})),r={};return n.forEach((function(e){var n=t.map((function(t){if(t.parentID===e)return t.id})).filter(Boolean);r[e]=[].concat((0,i.default)(n),[e])})),r},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={roleId:e};d.Axios.post("roleFunction/findRoleFunctionList",a).then((function(e){if(!e.code){var a=k(e.data),u=e.data.reduce((function(e,t){return e[t.function.id]=t.id,e}),{}),i=t?r:g,o=(t?n:l).map((function(e){var t=a[e.value]?a[e.value]:[],n=0===i[e.value].length,r=t.length===i[e.value].length+1&&0!==t.length,u=r?!r:!!t.length&&t.length<i[e.value].length+1;return n&&1===t.length&&(r=!0,u=!1),m(m({},e),{},{checkedList:t,indeterminate:u,checkAll:r})}));P(u),s(o)}}))},R=function(e,t){D(e,t)},D=function(e,t){var n=t,r=l.filter((function(t){return t.value===e}))[0].checkedList,a=n.length<r.length,u=a?x(r,n):x(n,r);if(a)if(r.length>2){var o=u.filter((function(t){return t!==e}));o.map((function(e,t){F(e,t+1===o.length)}))}else{var c=Array.from(new Set(0===n.length?[e].concat((0,i.default)(u)):u));c.map((function(e,t){F(e,t+1===c.length)}))}else{var f=0===r.length?[e].concat((0,i.default)(u)):u;f.map((function(e,t){M(e,t+1===f.length)}))}},x=function(e,t){for(var n=[],r=function(){var r=e[a];t.some((function(e){return e===r}))&&0!==t.length||n.push(r)},a=0;a<e.length;a++)r();return n},A=function(e,t){var n=Object.keys(E),r=n.includes(e),a=n.filter((function(t){return g[e].some((function(e){return e.value===t}))})),u=g[e].filter((function(e){if(!a.some((function(t){return t===e.value})))return e})),l=(!r||0!==g[e].length)&&g[e].length===u.length;if(r||(l=!0,u=g[e]),l)n.includes(e)||(u=[].concat((0,i.default)(u),[{value:e}])),u.length>0?u.map((function(e,t){M(e.value,t+1===u.length)})):M(e,!0);else{if(n.includes(e)){var o=a.map((function(e){return{value:e}}));u=[].concat((0,i.default)(o),[{value:e}])}u.length>0?u.map((function(e,t){F(e.value,t+1===u.length)})):F(e,!0)}},M=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={role:{id:t.id},function:{id:e}};d.Axios.post("roleFunction/createRoleFunction",r).then((function(e){n&&S(t.id)}))},F=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=E[e],a=new FormData;a.append("id",r),d.Axios.post("roleFunction/deleteRoleFunction",a).then((function(e){n&&S(t.id)}))};return f.default.createElement("div",{className:"tiklab_promisse"},f.default.createElement(u.default,{pagination:!1,columns:j,dataSource:l,rowKey:function(e){return e.value},bordered:!0}))};t.default=b},265:function(e,t,n){"use strict";n.r(t)},266:function(e,t,n){"use strict";n.r(t)},267:function(e,t,n){"use strict";n.r(t)},284:function(e){e.exports=JSON.parse('{"privilege-feature-name":"功能名称","privilege-feature-code":"功能编码","privilege-add-feature":"添加功能","privilege-orga-name":"组织名称","privilege-add-user":"添加成员","privilege-search":"搜索","privilege-desc":"描述","privilege-user-and-org":"用户名、部门","privilege-user":"用户名","privilege-select-user":"选择用户","privilege-common":{"edit":"编辑","delete":"删除","action":"操作","please-input":"请输入","please-select":"请输入","save":"保存","cancel":"取消"},"privilege-add-node":"新增子节点","privilege-edit-feature":"编辑功能","privilege-point-node":"挂载节点","privilege-point-node-placeholder":"请选择挂载节点","privilege-role":{"addRole":"添加角色","addSystemRole":"添加系统角色","editRole":"编辑角色","roleName":"角色名称","roleDesc":"角色描述","people":"成员","promise":"权限","name":"账号","phone":"手机号","nickname":"昵称","email":"邮箱","type":"类别","orga":"部门","thirdparty":"第三方","internal":"内部","system":"系统","custom":"自定义","org":"组织"}}')},297:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(362)).default;t.default=a},300:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(386)).default;t.default=a},302:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(363)).default;t.default=a},303:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(364)).default;t.default=a},304:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(365)).default;t.default=a},305:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(366)).default;t.default=a},306:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(382)).default;t.default=a},307:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(383)).default;t.default=a},308:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(389)).default;t.default=a},309:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(419);var a=r(n(418)),u=r(n(0));n(267);var l=function(e){var t=e.homePath,n=u.default.createElement(u.default.Fragment,null,"资源不存在或者没有访问权限，",u.default.createElement("span",{className:"tiklab-privilege-back-home",onClick:function(){return e.history.push(t||"/")}},"点击这里"),"返回首页");return u.default.createElement(a.default,{status:"404",title:"404",subTitle:n})};t.default=l},348:function(e,t,n){"use strict";n.r(t);var r=n(284);t.default=r},349:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(40)),u=n(0),l=n(6),i=function(e){var t=e.code,n=e.systemRoleStore,r=e.domainId,i=n.setSystemPermissionsCodes,o=n.setDomainPermissionsCodes,c=n.systemPermissions,f=n.domainPermissions,d=(0,u.useState)(null),s=(0,a.default)(d,2),p=s[0],m=s[1];return(0,u.useEffect)((function(){var e=new FormData,n=r?"permission/findDomainPermissions":"permission/findPermissions",a=(0,l.getUser)();if(a.userId){if(e.append("userId",a.userId),r){if(f.hasOwnProperty(r))return void m(f[r].includes(t));e.append("domainId",r)}else if(c.length>0)return void m(c.includes(t));l.Axios.post(n,e).then((function(e){e.code||(r?o(r,e.data):i(e.data),m(e.data.includes(t)))}))}}),[]),p};t.default=i},352:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.PRIVILEGE_DOMAIN_ROLE_STORE=t.DomainRoleStore=void 0;var a,u,l,i,o,c,f,d,s,p,m,v,b,g,y,h,O,E=r(n(43)),P=r(n(96)),j=r(n(99)),w=r(n(83)),_=r(n(82)),k=(r(n(32)),r(n(100))),S=(r(n(101)),n(2)),R=n(6),D=(a=(0,w.default)((function e(){(0,_.default)(this,e),(0,j.default)(this,"privilegeDomainRole",u,this),(0,j.default)(this,"domainRolePage",l,this),(0,j.default)(this,"createDomainRoleAction",i,this),(0,j.default)(this,"deleteDomainRoleAction",o,this),(0,j.default)(this,"findDomainRoleListAction",c,this),(0,j.default)(this,"findDomainRolePageAction",f,this),(0,j.default)(this,"findDmUserPageAction",d,this),(0,j.default)(this,"setDomainRoleAction",s,this),(0,j.default)(this,"createDmRoleUserAction",p,this),(0,j.default)(this,"createBatchDmRoleUserAction",m,this),(0,j.default)(this,"updateDmRoleUserAction",v,this),(0,j.default)(this,"deleteDmRoleUserAction",b,this),(0,j.default)(this,"findDmRoleUserAction",g,this),(0,j.default)(this,"findDmRoleUserListAction",y,this),(0,j.default)(this,"getAllUserDirAction",h,this),(0,j.default)(this,"findAllUserGroupAction",O,this)})),u=(0,k.default)(a.prototype,"privilegeDomainRole",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,k.default)(a.prototype,"domainRolePage",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{defaultCurrent:1,pageSize:6,total:1}}}),i=(0,k.default)(a.prototype,"createDomainRoleAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRole/createDmRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),o=(0,k.default)(a.prototype,"deleteDomainRoleAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){var n;return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("id",t),e.next=4,R.Axios.post("/dmRole/deleteDmRole",n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),c=(0,k.default)(a.prototype,"findDomainRoleListAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){var n;return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRole/findDmRoleList",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),f=(0,k.default)(a.prototype,"findDomainRolePageAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,P.default)(E.default.mark((function t(n){var r;return E.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.Axios.post("/dmRole/findDmRolePage",n);case 2:return 0===(r=t.sent).code&&(e.domainRolePage.total=r.data.totalPage,e.privilegeDomainRole=r.data.dataList),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d=(0,k.default)(a.prototype,"findDmUserPageAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){var n;return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmUser/findDmUserPage",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),s=(0,k.default)(a.prototype,"setDomainRoleAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRole/setdefaultRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),p=(0,k.default)(a.prototype,"createDmRoleUserAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRoleUser/createDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),m=(0,k.default)(a.prototype,"createBatchDmRoleUserAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRoleUser/createBatchDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),v=(0,k.default)(a.prototype,"updateDmRoleUserAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRoleUser/updateDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),b=(0,k.default)(a.prototype,"deleteDmRoleUserAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){var n;return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("id",t),e.next=4,R.Axios.post("/dmRoleUser/deleteDmRoleUser",n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),g=(0,k.default)(a.prototype,"findDmRoleUserAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRoleUser/findDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),y=(0,k.default)(a.prototype,"findDmRoleUserListAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,P.default)(E.default.mark((function e(t){return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRoleUser/findDmRoleUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),h=(0,k.default)(a.prototype,"getAllUserDirAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,P.default)(E.default.mark((function e(){return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/user/userdir/findAllList");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),O=(0,k.default)(a.prototype,"findAllUserGroupAction",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,P.default)(E.default.mark((function e(){return E.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/usergroup/findAllGroup");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),a);t.DomainRoleStore=D;t.PRIVILEGE_DOMAIN_ROLE_STORE="privilegeDomainRoleStore"},353:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectFeatureStore=t.PRIVILEGE_PROJECT_FEATURE_STORE=void 0;var a,u,l,i,o,c,f,d=r(n(75)),s=r(n(99)),p=r(n(83)),m=r(n(82)),v=r(n(32)),b=r(n(100)),g=(r(n(101)),n(2));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,v.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=(a=(0,p.default)((function e(){(0,m.default)(this,e),(0,s.default)(this,"privilegeProjectTreeData",u,this),(0,s.default)(this,"getDmPrivilegeTree",l,this),(0,s.default)(this,"addDmFeature",i,this),(0,s.default)(this,"addDmChildrenFeature",o,this),(0,s.default)(this,"deleteDmFeature",c,this),(0,s.default)(this,"editDmFeature",f,this)})),u=(0,b.default)(a.prototype,"privilegeProjectTreeData",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,b.default)(a.prototype,"getDmPrivilegeTree",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData=t}}}),i=(0,b.default)(a.prototype,"addDmFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData.push(t)}}}),o=(0,b.default)(a.prototype,"addDmChildrenFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.privilegeProjectTreeData=e.privilegeProjectTreeData.map((function(e){return e.id===n?h(h({},e),{},{children:[t].concat((0,d.default)(e.children))}):e}))}}}),c=(0,b.default)(a.prototype,"deleteDmFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=[];!function e(n,r){n.forEach((function(n,a){n.id!==t.id&&r.push(h(h({},n),{},{children:[]})),n.children&&n.children.length>0&&e(n.children,r[a].children)}))}(e.privilegeProjectTreeData,n),e.privilegeProjectTreeData=n}}}),f=(0,b.default)(a.prototype,"editDmFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=[];!function e(n,r){n.forEach((function(n,a){n.id===t.id?r.push(h(h(h({},n),t),{},{children:[]})):r.push(h(h({},n),{},{children:[]})),n.children&&r[a].children&&e(n.children,r[a].children)}))}(e.privilegeProjectTreeData,n),e.privilegeProjectTreeData=n}}}),a);t.ProjectFeatureStore=O;t.PRIVILEGE_PROJECT_FEATURE_STORE="privilegeProjectFeatureStore"},357:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRoleStore=t.SYSTEM_ROLE_STORE=void 0;var a,u,l,i,o,c,f,d,s,p,m,v,b,g,y,h,O,E,P,j,w,_,k,S=r(n(43)),R=r(n(96)),D=r(n(99)),x=r(n(83)),A=r(n(82)),M=(r(n(32)),r(n(100))),F=(r(n(101)),n(2)),I=n(6),C=(a=(0,x.default)((function e(){(0,A.default)(this,e),(0,D.default)(this,"privilegeSystemRole",u,this),(0,D.default)(this,"systemPermissions",l,this),(0,D.default)(this,"rolePage",i,this),(0,D.default)(this,"domainPermissions",o,this),(0,D.default)(this,"clearAllPermissions",c,this),(0,D.default)(this,"getInitProjectPermissions",f,this),(0,D.default)(this,"getSystemPermissions",d,this),(0,D.default)(this,"getAllUserAction",s,this),(0,D.default)(this,"getUserPageAction",p,this),(0,D.default)(this,"getAllUserDirAction",m,this),(0,D.default)(this,"findRolePageAction",v,this),(0,D.default)(this,"findRoleListAction",b,this),(0,D.default)(this,"setDefaultRoleAction",g,this),(0,D.default)(this,"deleteRoleAction",y,this),(0,D.default)(this,"deleteRoleUserAction",h,this),(0,D.default)(this,"findAllUserGroupAction",O,this),(0,D.default)(this,"findRoleUserListAction",E,this),(0,D.default)(this,"createRoleUserAction",P,this),(0,D.default)(this,"createBatchRoleUserAction",j,this),(0,D.default)(this,"createBatchRoleUserGroupAction",w,this),(0,D.default)(this,"findRoleUserGroupListAction",_,this),(0,D.default)(this,"deleteRoleUserGroupAction",k,this)})),u=(0,M.default)(a.prototype,"privilegeSystemRole",[F.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,M.default)(a.prototype,"systemPermissions",[F.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=(0,M.default)(a.prototype,"rolePage",[F.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{defaultCurrent:1,pageSize:6,total:1}}}),o=(0,M.default)(a.prototype,"domainPermissions",[F.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=(0,M.default)(a.prototype,"clearAllPermissions",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.systemPermissions=[],e.domainPermissions={}}}}),f=(0,M.default)(a.prototype,"getInitProjectPermissions",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&n){var a={userId:t,domainId:n,globalPublic:r},u={};return(0,I.getUser)()&&(0,I.getUser)().tenant&&(u={tenant:(0,I.getUser)().tenant}),I.Axios.post("/permission/findDomainPermissions",a,u).then((function(r){return r.code||(e.domainPermissions["".concat(t,"_").concat(n)]=r.data),r}))}}}}),d=(0,M.default)(a.prototype,"getSystemPermissions",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=new FormData;n.append("userId",t);var r={};return(0,I.getUser)()&&(0,I.getUser)().tenant&&(r={tenant:(0,I.getUser)().tenant}),I.Axios.post("/permission/findPermissions",n,r).then((function(t){return t.code||(e.systemPermissions=t.data),t}))}}}),s=(0,M.default)(a.prototype,"getAllUserAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,R.default)(S.default.mark((function e(){return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/user/user/findAllUser");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),p=(0,M.default)(a.prototype,"getUserPageAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/user/user/findUserPage",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),m=(0,M.default)(a.prototype,"getAllUserDirAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,R.default)(S.default.mark((function e(){return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/user/userdir/findAllList");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),v=(0,M.default)(a.prototype,"findRolePageAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,R.default)(S.default.mark((function t(n,r){var a;return S.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.Axios.post("/role/findRolePage",n,r);case 2:return 0===(a=t.sent).code&&(e.rolePage.total=a.data.totalPage,e.privilegeSystemRole=a.data.dataList),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),b=(0,M.default)(a.prototype,"findRoleListAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){var n;return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/role/findRoleList",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),g=(0,M.default)(a.prototype,"setDefaultRoleAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/role/setdefaultRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),y=(0,M.default)(a.prototype,"deleteRoleAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){var n;return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("id",t),e.next=4,I.Axios.post("/role/deleteRole",n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),h=(0,M.default)(a.prototype,"deleteRoleUserAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){var n;return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("id",t),e.next=4,I.Axios.post("/roleUser/deleteRoleUser",n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),O=(0,M.default)(a.prototype,"findAllUserGroupAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,R.default)(S.default.mark((function e(){return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/usergroup/findAllGroup");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),E=(0,M.default)(a.prototype,"findRoleUserListAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/roleUser/findRoleUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),P=(0,M.default)(a.prototype,"createRoleUserAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t,n){var r;return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("roleId",t),r.append("userId",n),e.next=5,I.Axios.post("/roleUser/pathRoleWithUser",r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),j=(0,M.default)(a.prototype,"createBatchRoleUserAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/roleUser/createBatchRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),w=(0,M.default)(a.prototype,"createBatchRoleUserGroupAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/roleUserGroup/createBatchRoleUserGroup",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),_=(0,M.default)(a.prototype,"findRoleUserGroupListAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Axios.post("/roleUserGroup/findRoleUserGroupList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),k=(0,M.default)(a.prototype,"deleteRoleUserGroupAction",[F.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,R.default)(S.default.mark((function e(t){var n;return S.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("id",t),e.next=4,I.Axios.post("/roleUserGroup/deleteRoleUserGroup",n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a);t.SystemRoleStore=C;t.SYSTEM_ROLE_STORE="systemRoleStore"},358:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectRoleStore=t.PRIVILEGE_PROJECT_ROLE_STORE=void 0;var a,u,l,i=r(n(99)),o=r(n(83)),c=r(n(82)),f=(r(n(32)),r(n(100))),d=(r(n(101)),n(2)),s=(a=(0,o.default)((function e(){(0,c.default)(this,e),(0,i.default)(this,"privilegeProjectRole",u,this),(0,i.default)(this,"getProjectRoles",l,this)})),u=(0,f.default)(a.prototype,"privilegeProjectRole",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,f.default)(a.prototype,"getProjectRoles",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectRole=t}}}),a);t.ProjectRoleStore=s;t.PRIVILEGE_PROJECT_ROLE_STORE="privilegeProjectRoleStore"},359:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.SystemFeatureStore=t.PRIVILEGE_SYSTEM_STORE=void 0;var a,u,l,i,o,c,f,d,s,p=r(n(43)),m=r(n(96)),v=r(n(75)),b=r(n(99)),g=r(n(83)),y=r(n(82)),h=r(n(32)),O=r(n(100)),E=(r(n(101)),n(2)),P=n(6),j=n(155);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(a=(0,g.default)((function e(){(0,y.default)(this,e),(0,b.default)(this,"privilegeSystemTreeData",u,this),(0,b.default)(this,"addFeature",l,this),(0,b.default)(this,"addChildrenFeature",i,this),(0,b.default)(this,"deleteFeature",o,this),(0,b.default)(this,"editFeature",c,this),(0,b.default)(this,"getFunctionListListAction",f,this),(0,b.default)(this,"updateFunctionSortAction",d,this),(0,b.default)(this,"deleteFunctionAction",s,this)})),u=(0,O.default)(a.prototype,"privilegeSystemTreeData",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,O.default)(a.prototype,"addFeature",[E.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeSystemTreeData.push(t)}}}),i=(0,O.default)(a.prototype,"addChildrenFeature",[E.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.privilegeSystemTreeData=e.privilegeSystemTreeData.map((function(e){return e.id===n?_(_({},e),{},{children:[t].concat((0,v.default)(e.children))}):e}))}}}),o=(0,O.default)(a.prototype,"deleteFeature",[E.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=[];!function e(n,r){n.forEach((function(n,a){n.id!==t.id&&r.push(_(_({},n),{},{children:[]})),n.children&&n.children.length>0&&e(n.children,r[a].children)}))}(e.privilegeSystemTreeData,n),e.privilegeSystemTreeData=n}}}),c=(0,O.default)(a.prototype,"editFeature",[E.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=[];!function e(n,r){n.forEach((function(n,a){n.id===t.id?r.push(_(_(_({},n),t),{},{children:[]})):r.push(_(_({},n),{},{children:[]})),n.children&&r[a].children&&e(n.children,r[a].children)}))}(e.privilegeSystemTreeData,n),e.privilegeSystemTreeData=n}}}),f=(0,O.default)(a.prototype,"getFunctionListListAction",[E.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,m.default)(p.default.mark((function t(n){var r,a;return p.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.Axios.post("/function/findFunctionList",n);case 2:return(r=t.sent).code||(a=(0,j.handlerFeaterNode)(r.data),e.privilegeSystemTreeData=a),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d=(0,O.default)(a.prototype,"updateFunctionSortAction",[E.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.Axios.post("/function/updateFunctionSort",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),s=(0,O.default)(a.prototype,"deleteFunctionAction",[E.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){var n;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("id",t),e.next=4,P.Axios.post("/function/deleteFunction",n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a);t.SystemFeatureStore=k;t.PRIVILEGE_SYSTEM_STORE="privilegeSystemStore"},362:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(87)),u=(r(n(0)),n(28)),l=n(6),i=n(53),o=["code","domainId","systemRoleStore"],c=(0,u.inject)(i.SYSTEM_ROLE_STORE)((0,u.observer)((function(e){var t=e.code,n=void 0===t?"":t,r=e.domainId,u=e.systemRoleStore,i=(0,a.default)(e,o),c=u.domainPermissions,f=(0,l.getUser)().userId;try{return n?c["".concat(f,"_").concat(r)]&&c["".concat(f,"_").concat(r)].includes(n)?i.children:null:i.children}catch(e){return c["".concat(f,"_").concat(r)]&&c["".concat(f,"_").concat(r)].includes(n)?i.children:null}})));t.default=c},363:function(e,t,n){"use strict";var r=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(0)),u=n(28),l=n(6),i=n(53),o=n(246);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var f=(0,u.inject)(i.SYSTEM_ROLE_STORE)((0,u.observer)((function(e){var t=e.projectRouters,n=e.outerPath,r=e.notFoundPath,u=e.domainId,i=e.systemRoleStore.domainPermissions,c=e.location.pathname,f=(0,l.getUser)().userId;return(0,a.useEffect)((function(){if(i){var a=i["".concat(f,"_").concat(u)];if(a&&a.length>0){var l=(0,o.SameValue)(a,t,"purviewCode");l&&c===n&&e.history.push(l.id);var d=t.find((function(e){return e.id===c}));if(d)if(d.purviewCode)if(!a.includes(d.purviewCode))return e.history.push(r||"/index/404")}}}),[c,i]),e.children})));t.default=f},364:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(87)),u=(r(n(0)),n(28)),l=n(53),i=["code","disabled","systemRoleStore"],o=(0,u.inject)(l.SYSTEM_ROLE_STORE)((0,u.observer)((function(e){var t=e.code,n=void 0===t?"":t,r=(e.disabled,e.systemRoleStore),u=(0,a.default)(e,i),l=r.systemPermissions;try{return n?l.includes(n)?u.children:null:u.children}catch(e){return l.includes(n)?u.children:null}})));t.default=o},365:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(75)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=n(28),o=n(53),c=n(246);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var d=(0,i.inject)(o.SYSTEM_ROLE_STORE)((0,i.observer)((function(e){var t=e.expandedTree,n=e.setExpandedTree,r=e.applicationRouters,a=e.outerPath,i=e.notFoundPath,o=e.systemRoleStore.systemPermissions,f=e.location.pathname;return(0,l.useEffect)((function(){if(o&&o.length>0){var l=(0,c.links)(r),d=(0,c.SameValue)(o,l,"purviewCode");d&&f===a&&(f=d.id,e.history.push(f));var s=l.find((function(e){return e.id===f}));if(s)if(t&&n([s.type].concat((0,u.default)(t))),s.purviewCode)if(!o.includes(s.purviewCode))return e.history.push(i||"/index/404")}}),[f,o]),e.children})));t.default=d},366:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(43)),l=r(n(94));n(37);var i=r(n(22));n(44);var o=r(n(20));n(41);var c=r(n(31)),f=r(n(98)),d=r(n(96)),s=r(n(32)),p=r(n(97));n(74);var m=r(n(39)),v=r(n(201));n(36);var b=r(n(24));n(114);var g=r(n(76)),y=r(n(40)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),O=n(28),E=n(30),P=n(53),j=n(367),w=n(56);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(251);var R=(0,O.inject)(P.PRIVILEGE_DOMAIN_ROLE_STORE)((0,O.observer)((function(e){var t=(0,E.useTranslation)().t,n=e.privilegeDomainRoleStore,r=e.domainId,a=n.privilegeDomainRole,s=n.deleteDomainRoleAction,O=n.setDomainRoleAction,P=n.findDomainRolePageAction,_=n.domainRolePage,k=(0,h.useState)(!1),R=(0,y.default)(k,2),D=R[0],x=R[1],A=(0,h.useState)({pageSize:12,currentPage:1}),M=(0,y.default)(A,1)[0],F=(0,h.useState)({pageParam:M}),I=(0,y.default)(F,2),C=I[0],T=I[1],L=(0,h.useState)(null),z=(0,y.default)(L,2),U=z[0],N=z[1],B=[{title:"角色名称",dataIndex:"name",width:"40%",ellipsis:!0,render:function(e,t){var n=t.businessType,r=t.role;return 1===n&&1===r.defaultRole?h.default.createElement(b.default,null,h.default.createElement("div",{className:"tiklab_domain_role_name",onClick:function(){return K(t)}},r.name),h.default.createElement(g.default,{color:"#87d068"},"默认"),h.default.createElement(g.default,null,"管理员")):1===r.defaultRole?h.default.createElement(b.default,null,h.default.createElement("div",{className:"tiklab_domain_role_name",onClick:function(){return K(t)}},r.name),h.default.createElement(g.default,{color:"#87d068"},"默认")):1===n?h.default.createElement(b.default,null,h.default.createElement("div",{className:"tiklab_domain_role_name",onClick:function(){return K(t)}},r.name),h.default.createElement(g.default,null,"管理员")):h.default.createElement("div",{className:"tiklab_domain_role_name",onClick:function(){return K(t)}},r.name)}},{title:"成员数",dataIndex:"roleUserList",width:"25%",ellipsis:!0,render:function(e,t){var n=t.dmRoleUserList,r=n&&n.length>0?n.length:0;return"".concat(r,"人")}},{title:"角色类型",dataIndex:["role","group"],width:"25%",ellipsis:!0,render:function(e){return"system"===e?"内置":t("privilege-role.custom")}},{title:"操作",dataIndex:"action",render:function(e,t){var n=t.role,r=t.businessType,a=t.id;return h.default.createElement(b.default,null,0===(null==n?void 0:n.defaultRole)&&h.default.createElement(m.default,{title:"设置默认"},h.default.createElement(v.default,{onClick:function(){return W(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),0===r&&"system"!==n.group&&h.default.createElement(m.default,{title:"删除"},h.default.createElement(p.default,{onClick:function(){return V(a)},style:{fontSize:"var(--tiklab-icon-size-16)"}})))}}];(0,h.useEffect)((function(){G()}),[C]);var G=function(){P(S(S({},C),{},{domainId:r}))},W=function(){var e=(0,d.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:e.sent.code||J();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){N(e)},V=function(){var e=(0,d.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:e.sent.code||J();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){T({pageParam:M})};return h.default.createElement("div",{className:"tiklab_domain_role"},U?h.default.createElement(j.DmRoleDetail,{roleDetailParams:U,domainId:r,close:function(){N(null),J()}}):h.default.createElement("div",{className:"tiklab_domain_role_table"},h.default.createElement(w.TitleAction,{title:"权限",style:{paddingLeft:8}},h.default.createElement(w.Btn,{onClick:function(){return x(!0)},type:"primary",icon:h.default.createElement(f.default,null),title:t("privilege-role.addRole")})),h.default.createElement(i.default,null,h.default.createElement(o.default,{span:24},h.default.createElement(c.default,{columns:B,dataSource:a,rowKey:function(e){return e.id},pagination:!1}),_&&_.total>1&&h.default.createElement(w.Page,{pageCurrent:C.pageParam.currentPage,changPage:function(e){T(S(S({},C),{},{pageParam:{pageSize:12,currentPage:e}}))},page:_})))),h.default.createElement(j.DmRoleCreate,(0,l.default)({},e,{visible:D,domainId:r,handleCancel:function(){return x(!1)},initParam:J})))})));t.default=R},367:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DmRoleCreate",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"DmRoleDetail",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"DmRolePeople",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"DomainRolePromise",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"DomainRoleUserCreate",{enumerable:!0,get:function(){return o.default}});var a=r(n(368)),u=r(n(381)),l=r(n(250)),i=r(n(248)),o=r(n(249))},368:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(52);var a=r(n(26)),u=r(n(32));n(81);var l=r(n(23)),i=r(n(40)),o=r(n(0)),c=n(30),f=n(56);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.visible,n=e.handleCancel,r=e.initParam,u=e.domainId,d=e.privilegeDomainRoleStore.createDomainRoleAction,p=(0,c.useTranslation)().t,m=l.default.useForm(),v=(0,i.default)(m,1)[0],b=o.default.createElement(o.default.Fragment,null,o.default.createElement(f.Btn,{onClick:n,title:"取消",isMar:!0}),o.default.createElement(f.Btn,{onClick:function(){v.submit()},title:"确定",type:"primary"}));return o.default.createElement(f.BaseModal,{title:"添加角色",visible:t,footer:b,onCancel:n,destroyOnClose:!0,cancelText:p("privilege-common.cancel"),okText:p("privilege-common.save")},o.default.createElement(l.default,{form:v,preserve:!1,onFinish:function(e){var t={domainId:u,businessType:0,role:s({},e)};d(t).then((function(e){0===e.code&&(n(),r())}))},layout:"vertical"},o.default.createElement(l.default.Item,{label:p("privilege-role.roleName"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},o.default.createElement(a.default,{placeholder:p("privilege-role.roleName")})),o.default.createElement(l.default.Item,{label:p("privilege-desc"),name:"desc"},o.default.createElement(a.default,{placeholder:p("privilege-desc")}))))};t.default=p},369:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(291);var a=r(n(204)),u=r(n(94)),l=r(n(87)),i=r(n(0));n(370);var o=["children","title","width"],c=function(e){var t=e.children,n=e.title,r=e.width,c=(0,l.default)(e,o);return i.default.createElement(a.default,(0,u.default)({title:n,width:r,style:{maxWidth:"calc(100vw - 120px)",maxHeight:"calc(100vh - 120px)",marginRight:"auto",marginLeft:"auto",position:"absolute",top:60,right:0,left:0,height:"100%",display:"flex",flexDirection:"column"},wrapClassName:"tiklab_modal",closable:!1},c),t)};t.default=c},370:function(e,t,n){"use strict";n.r(t)},371:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(292);var a=r(n(206));n(36);var u=r(n(24)),l=r(n(134)),i=r(n(0)),o=n(112);n(372);var c=function(e){var t=e.routes,n=e.children;return i.default.createElement("div",{className:"privilege-breadcrumb"},i.default.createElement(a.default,{itemRender:function(e,t,n){var r=n.indexOf(e)===n.length-1,a=0===n.indexOf(e);return e.disabled?i.default.createElement("span",null,e.breadcrumbName):a?e.click?i.default.createElement(u.default,null,i.default.createElement(l.default,{onClick:function(){return e.click()},style:{fontSize:"var(--tiklab-font-16)"}}),e.breadcrumbName):i.default.createElement(o.Link,{to:e.path},i.default.createElement(u.default,null,i.default.createElement(l.default,{style:{fontSize:"var(--tiklab-font-16)"}}),e.breadcrumbName)):r?i.default.createElement("span",null,e.breadcrumbName):e.click?i.default.createElement("a",{onClick:function(){return e.click()},style:{cursor:"pointer"}},e.breadcrumbName):e.path?i.default.createElement(o.Link,{to:e.path},e.breadcrumbName):i.default.createElement(i.default.Fragment,null,e.breadcrumbName)},routes:t}),n)};t.default=c},372:function(e,t,n){"use strict";n.r(t)},373:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(296));n(290);var u=r(n(203)),l=r(n(0)),i=n(6);n(374);var o=function(e){var t=e.userInfo,n=void 0===t?void 0:t,r=n||(0,i.getUser)();return l.default.createElement("div",{className:"tiklab-profile"},r.avatar&&"null"!==r.avatar?l.default.createElement(u.default,{src:r.avatar}):r.nickname&&"null"!==r.nickname?l.default.createElement(u.default,null,r.nickname.substring(0,1)):r.name&&"null"!==r.name?l.default.createElement(u.default,null,r.name.substring(0,1)):l.default.createElement(u.default,{size:32,icon:l.default.createElement(a.default,null)}))};t.default=o},374:function(e,t,n){"use strict";n.r(t)},375:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(37);var a=r(n(22));n(44);var u=r(n(20));n(36);var l=r(n(24)),i=r(n(0));n(376);var o=function(e){var t=e.title,n=e.icon,r=e.children,o=e.style,c=void 0===o?{}:o;return i.default.createElement(a.default,null,i.default.createElement(u.default,{span:24},i.default.createElement("div",{className:"tiklab_title",style:c},i.default.createElement(l.default,null,n,i.default.createElement("span",null,t)),r)))};t.default=o},376:function(e,t,n){"use strict";n.r(t)},377:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(134)),u=r(n(295)),l=r(n(0));n(378);var i=function(e){var t=e.pageCurrent,n=e.changPage,r=e.page;return l.default.createElement("div",{className:"user-page"},l.default.createElement("span",{className:"".concat(1===t?"user-page-ban":"user-page-allow"),onClick:function(){return 1===t?null:n(t-1)}},l.default.createElement(a.default,null)),l.default.createElement("span",{className:"user-page-current"},t),l.default.createElement("span",null," / ",r&&r.total),t!==r.total&&r.total?l.default.createElement("span",{className:"user-page-allow",onClick:function(){return n(t+1)}},l.default.createElement(u.default,null)):l.default.createElement("span",{className:"user-page-ban"},l.default.createElement(u.default,null)))};t.default=i},378:function(e,t,n){"use strict";n.r(t)},379:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(36);var a=r(n(24)),u=r(n(0));n(380);var l=function(e){var t=e.icon,n=e.type,r=e.title,l=e.onClick,i=e.isMar,o=e.children;return u.default.createElement("div",{className:"privilege-btn ".concat(n?"privilege-btn-".concat(n):""," ").concat(i?"privilege-btn-mar":""),onClick:l},o||u.default.createElement(a.default,null,t&&u.default.createElement("span",{className:"privilege-btn-icon"},t),r))};t.default=l},380:function(e,t,n){"use strict";n.r(t)},381:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(94));n(37);var u=r(n(22));n(36);var l=r(n(24)),i=r(n(134));n(152);var o=r(n(102)),c=r(n(0)),f=n(30),d=r(n(248)),s=r(n(250)),p=o.default.TabPane,m=function(e){var t=(0,f.useTranslation)().t,n=e.roleDetailParams,r=e.domainId,m=e.bgroup,v=e.close;return c.default.createElement("div",{className:"tiklab_domain_role_detail"},c.default.createElement(l.default,{className:"tiklab_domain_role_detail_up"},c.default.createElement(i.default,{onClick:function(){return v()},className:"details_up_back"}),n.name||"权限详情"),c.default.createElement(u.default,null,c.default.createElement(l.default,null,c.default.createElement("div",{className:"label_item"},c.default.createElement("label",null,"名称:"),c.default.createElement("span",null,n.role.name)),c.default.createElement("div",{className:"label_item"},c.default.createElement("label",null,"类型:"),c.default.createElement("span",null,"system"===n.group?"内置":"自定义")))),c.default.createElement(o.default,{defaultActiveKey:"people"},c.default.createElement(p,{tab:t("privilege-role.people"),key:"people"},c.default.createElement(d.default,(0,a.default)({},e,{group:n.group,dmRoleDetail:n,domainId:r,bgroup:m}))),c.default.createElement(p,{tab:t("privilege-role.promise"),key:"promise"},c.default.createElement(s.default,(0,a.default)({},e,{group:n.group,roleDetail:n,bgroup:m})))))};t.default=m},382:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(41);var u=r(n(31));n(44);var l=r(n(20));n(37);var i=r(n(22));n(52);var o=r(n(26)),c=r(n(211)),f=r(n(87)),d=r(n(75)),s=r(n(32));n(36);var p=r(n(24)),m=r(n(97)),v=r(n(151));n(74);var b=r(n(39)),g=r(n(98)),y=r(n(40)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),O=n(28),E=n(2),P=n(30),j=n(223),w=n(310),_=r(n(252)),k=n(53),S=r(n(253)),R=n(155),D=n(254),x=n(56);n(255);var A=["children","sort"],M=["children","sort"];function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=(0,O.inject)(k.PRIVILEGE_PROJECT_FEATURE_STORE,k.PRIVILEGE_SYSTEM_STORE)((0,O.observer)((function(e){var t=(0,P.useTranslation)().t,n=e.privilegeProjectFeatureStore,r=e.privilegeSystemStore,a=r.deleteFunctionAction,O=r.getFunctionListListAction,k=r.updateFunctionSortAction,F=n.privilegeProjectTreeData,I=n.getDmPrivilegeTree,T=(0,h.useState)(""),L=(0,y.default)(T,2),z=L[0],U=L[1],N=(0,h.useState)(!1),B=(0,y.default)(N,2),G=B[0],W=B[1],K=(0,h.useState)({}),V=(0,y.default)(K,2),J=V[0],Y=V[1],q=(0,h.useState)({}),H=(0,y.default)(q,2),Q=H[0],X=H[1],Z={type:"2",pageParam:{pageSize:99999,currentPage:1}},$=(0,h.useState)(Z),ee=(0,y.default)($,2),te=ee[0],ne=ee[1],re=[{title:t("privilege-feature-name"),dataIndex:"name",key:"name"},{title:t("privilege-feature-code"),dataIndex:"code",key:"code"},{title:"操作",dataIndex:"action",width:"10%",render:function(e,t){return h.default.createElement(p.default,{size:"middle"},!t.parentFunction&&h.default.createElement(b.default,{title:"新增"},h.default.createElement(g.default,{onClick:function(){return ie(t.id)}})),h.default.createElement(b.default,{title:"编辑"},h.default.createElement(v.default,{onClick:function(){return ce(t)}})),!t.children&&h.default.createElement(b.default,{title:"删除"},h.default.createElement(m.default,{onClick:function(){return fe(t)}})))}}];(0,h.useEffect)((function(){ae()}),[te]);var ae=function(){O(te).then((function(e){if(!e.code){var t=le(e.data);I(t)}}))},ue=function(){O(Z).then((function(e){if(!e.code){var t=le(e.data);I(t)}}))},le=function(e){var t=(0,R.sort)(e.map((function(e){return!e.parentFunction&&e})).filter(Boolean)),n=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&e})).filter(Boolean),r=[];return t.forEach((function(e){var t=e.id,a=(0,R.sort)(n.filter((function(e){return e.parentFunction.id===t})));a.length>0?r.push(C(C({},e),{},{children:a})):r.push(e)})),r},ie=(0,h.useCallback)((function(e){U(e),W(!0)}),[]),oe=(0,h.useCallback)((function(){U(""),Y({}),W(!1),ue()}),[]),ce=(0,h.useCallback)((function(e){Y(e),W(!0)}),[]),fe=(0,h.useCallback)((function(e){a(e.id).then((function(e){e.code||ae()}))}),[]),de=(0,h.useCallback)((function(e){var t,n=e.dragId,r=e.dropId,a=e.drag,u=e.drop,l=a.sort,i=-1,o=[],c=[],s={},p={};if(u.children){var m=[],v=Q[r],b=u.children[0];if(v){var g=pe(b.id);s=C(C({},a),{},{parentFunction:g.parentFunction}),l<g.sort?(m=[s].concat((0,d.default)(u.children)),se(m).then((function(e){ue()}))):(i=u.children.findIndex((function(e){return e.id===g.id})),u.children.splice(i,0,a),u.children.forEach((function(e){c.push(e.sort)})),o=(0,D.sortNum)(c),u.children=u.children.map((function(e,t){return C(C({},e),{},{sort:o[t]})})),se(u.children).then((function(e){ue()})))}}if(u.parentFunction){var y=u.parentFunction.id,h=pe(y);i=(t=h.children.filter((function(e){return e.id!==n}))).findIndex((function(e){return e.id===u.id})),t.splice(i,0,C(C({},a),{},{parentFunction:h.children[0].parentFunction})),t.forEach((function(e){c.push(e.sort)})),o=(0,D.sortNum)(c),h.children=t.map((function(e,t){return C(C({},e),{},{sort:o[t]})})),se(h.children).then((function(e){ue()}))}else{a.children;var O=a.sort,E=(0,f.default)(a,A),P=(u.children,u.sort),j=(0,f.default)(u,M);if(a.parentFunction&&!u.parentFunction){a.parentFunction.id;p=C(C({},j),{},{parentFunction:u.parentFunction,sort:O}),s=C(C({},E),{},{parentFunction:u.parentFunction,sort:P}),se([p,s]).then((function(e){ue()}))}else{var w=[C(C({},E),{},{sort:P}),C(C({},j),{},{sort:O})];se(w).then((function(e){ue()}))}}}),[F,Q]),se=function(e){return k({list:e})},pe=(0,h.useCallback)((function(e){var t={};return function n(r){for(var a=0;a<r.length;a++){var u=r[a];if(u.id===e){t=u;break}u.children&&u.children.length>0&&n(u.children)}return t}((0,E.toJS)(F)),t}),[F]);return h.default.createElement("div",{className:"privilege-dm"},h.default.createElement("div",{className:"privilege-dm_content"},h.default.createElement(x.TitleAction,{title:"项目功能管理",style:{paddingLeft:8}},h.default.createElement(x.Btn,{icon:h.default.createElement(g.default,null),type:"primary",onClick:function(){return W(!0)},title:t("privilege-add-feature")})),h.default.createElement(i.default,null,h.default.createElement(l.default,{span:24},h.default.createElement(i.default,{justify:"space-between",style:{paddingBottom:16}},h.default.createElement(o.default,{placeholder:t("privilege-search")+t("privilege-orga-name"),onPressEnter:function(e){return function(e){var t=e.target.value;ne(C(C({},te),{},{name:t}))}(e)},style:{width:240},prefix:h.default.createElement(c.default,null)})))),h.default.createElement(i.default,null,h.default.createElement(l.default,{span:24,id:"project-drag-sorting"},h.default.createElement(j.DndProvider,{backend:w.HTML5Backend},h.default.createElement(u.default,{dataSource:(0,E.toJS)(F),columns:re,rowKey:"id",tableLayout:"fixed",pagination:!1,components:{body:{row:S.default}},onRow:function(e,t){return{record:e,data:(0,E.toJS)(F),index:t,moveRow:de}},expandable:{onExpand:function(e,t){X(C(C({},Q),{},(0,s.default)({},t.id,e)))}}}))))),h.default.createElement(_.default,{data:F,editData:J,visible:G,cancelAdd:oe,parentId:z,urlType:"project"}))})));t.default=T},383:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(37);var u=r(n(22));n(44);var l=r(n(20));n(41);var i=r(n(31)),o=r(n(98)),c=r(n(32)),f=r(n(97)),d=r(n(201));n(74);var s=r(n(39)),p=r(n(151));n(36);var m=r(n(24));n(114);var v=r(n(76)),b=r(n(40)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),y=n(28),h=n(30),O=r(n(256)),E=n(384),P=n(56),j=n(53);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(261);var S=(0,y.inject)(j.PRIVILEGE_PROJECT_ROLE_STORE,j.SYSTEM_ROLE_STORE)((0,y.observer)((function(e){var t=e.privilegeProjectRoleStore,n=e.systemRoleStore,r=e.isBase,a=void 0!==r&&r,c=(0,h.useTranslation)().t,y=t.getProjectRoles,j=t.privilegeProjectRole,w=n.deleteRoleAction,_=n.findRolePageAction,S=n.setDefaultRoleAction,R=n.rolePage,D=(0,g.useState)(!1),x=(0,b.default)(D,2),A=x[0],M=x[1],F=(0,g.useState)({}),I=(0,b.default)(F,2),C=I[0],T=I[1],L=(0,g.useState)(null),z=(0,b.default)(L,2),U=z[0],N=z[1],B=(0,g.useState)(""),G=(0,b.default)(B,2),W=G[0],K=G[1],V=(0,g.useState)({pageSize:10,currentPage:1}),J=(0,b.default)(V,1)[0],Y=(0,g.useState)({pageParam:J}),q=(0,b.default)(Y,2),H=q[0],Q=q[1],X=[{title:"角色名称",dataIndex:"name",width:"40%",ellipsis:!0,render:function(e,t){var n=t.businessType,r=t.defaultRole;return 1===n&&1===r?g.default.createElement(m.default,null,g.default.createElement("div",{className:"tiklab_project_role-name",onClick:function(){return ae(t)}},e),g.default.createElement(v.default,{color:"#87d068"},"默认"),g.default.createElement(v.default,null,"管理员")):1===r?g.default.createElement(m.default,null,g.default.createElement("div",{className:"tiklab_project_role-name",onClick:function(){return ae(t)}},e),g.default.createElement(v.default,{color:"#87d068"},"默认")):1===n?g.default.createElement(m.default,null,g.default.createElement("div",{className:"tiklab_project_role-name",onClick:function(){return ae(t)}},e),g.default.createElement(v.default,null,"管理员")):g.default.createElement("div",{className:"tiklab_project_role-name",onClick:function(){return ae(t)}},e)}},{title:"成员数",dataIndex:"user",width:"25%",ellipsis:!0,render:function(e,t){var n=t.roleUserList,r=n&&n.length>0?n.length:0;return"".concat(r,"人")}},{title:"类型",dataIndex:"group",width:"25%",ellipsis:!0,render:function(e){return"system"===e?"内置":c("privilege-role.custom")}},{title:"操作",dataIndex:"action",render:function(e,t){return a?g.default.createElement(m.default,null,g.default.createElement(s.default,{title:"编辑"},g.default.createElement(p.default,{onClick:function(){return te(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),0===t.defaultRole&&g.default.createElement(s.default,{title:"设置默认"},g.default.createElement(d.default,{onClick:function(){return ee(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),g.default.createElement(s.default,{title:"删除"},g.default.createElement(f.default,{onClick:function(){return $(t.id)},style:{fontSize:"var(--tiklab-icon-size-16)"}}))):g.default.createElement(m.default,null,g.default.createElement(s.default,{title:"编辑"},g.default.createElement(p.default,{onClick:function(){return te(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),0===t.defaultRole&&g.default.createElement(s.default,{title:"设置默认"},g.default.createElement(d.default,{onClick:function(){return ee(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),0===t.businessType&&"system"!==t.group&&g.default.createElement(s.default,{title:"删除"},g.default.createElement(f.default,{onClick:function(){return $(t.id)},style:{fontSize:"var(--tiklab-icon-size-16)"}})))}}];(0,g.useEffect)((function(){Z()}),[H]);var Z=function(){_(k({type:"2",group:"system"},H)).then((function(e){0===e.code&&y(e.data.dataList)}))},$=function(e){w(e).then((function(e){e.code||Q({pageParam:J})}))},ee=function(e){S(e).then((function(e){e.code||Q({pageParam:J})}))},te=function(e){T(e),M(!0)},ne=(0,g.useCallback)((function(){T({}),M(!1)}),[A]),re=function(e){K(e),M(!0)},ae=function(e){N(e)},ue=function(){Q({pageParam:J})};return g.default.createElement("div",{className:"tiklab_project_role"},U?g.default.createElement(E.ProjectRoleDetail,{roleDetailParams:U,close:function(){N(null),ue()}}):g.default.createElement("div",{className:"tiklab_project_role_table"},g.default.createElement(P.TitleAction,{title:"项目角色",style:{paddingLeft:8}},g.default.createElement(m.default,null,a?g.default.createElement(P.Btn,{icon:g.default.createElement(o.default,null),onClick:function(){return re("system")},title:c("privilege-role.addSystemRole")}):g.default.createElement(P.Btn,{icon:g.default.createElement(o.default,null),type:"primary",onClick:function(){return re("custom")},title:c("privilege-role.addRole")}))),g.default.createElement(u.default,null,g.default.createElement(l.default,{span:24},g.default.createElement(i.default,{columns:X,dataSource:j,rowKey:function(e){return e.id},pagination:!1}),R&&R.total>1&&g.default.createElement(P.Page,{pageCurrent:H.pageParam.currentPage,changPage:function(e){Q(k(k({},H),{},{pageParam:{pageSize:10,currentPage:e}}))},page:R})))),g.default.createElement(O.default,{visible:A,cancel:ne,editData:C,group:W,initParam:ue,urlType:"project"}))})));t.default=S},384:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ProjectRoleDetail",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ProjectRoleDetailPeople",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ProjectRoleDetailPromiss",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ProjectRoleUserAdd",{enumerable:!0,get:function(){return i.default}});var a=r(n(385)),u=r(n(260)),l=r(n(257)),i=r(n(258))},385:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(94));n(37);var u=r(n(22));n(36);var l=r(n(24)),i=r(n(134));n(152);var o=r(n(102)),c=r(n(0)),f=n(30),d=r(n(257)),s=r(n(260)),p=o.default.TabPane,m=function(e){var t=e.roleDetailParams,n=e.close,r=(0,f.useTranslation)().t;return c.default.createElement("div",{className:"tiklab_project_role_detail"},c.default.createElement(l.default,{className:"tiklab_project_role_detail_up"},c.default.createElement(i.default,{onClick:function(){return n()},className:"details_up_back"}),t.name||"权限详情"),c.default.createElement(u.default,null,c.default.createElement(l.default,null,c.default.createElement("div",{className:"label_item"},c.default.createElement("label",null,"名称:"),c.default.createElement("span",null,t.name)),c.default.createElement("div",{className:"label_item"},c.default.createElement("label",null,"类型:"),c.default.createElement("span",null,"system"===t.group?"内置":"自定义")))),c.default.createElement(o.default,{defaultActiveKey:"people"},c.default.createElement(p,{tab:r("privilege-role.people"),key:"people"},c.default.createElement(d.default,(0,a.default)({},e,{group:t.group,roleDetail:t}))),c.default.createElement(p,{tab:r("privilege-role.promise"),key:"promise"},c.default.createElement(s.default,(0,a.default)({},e,{group:t.group,roleDetail:t})))))};t.default=m},386:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(37);var u=r(n(22));n(44);var l=r(n(20));n(41);var i=r(n(31)),o=r(n(98)),c=r(n(32)),f=r(n(97)),d=r(n(201));n(74);var s=r(n(39)),p=r(n(151));n(36);var m=r(n(24));n(114);var v=r(n(76)),b=r(n(40)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),y=n(28),h=n(30),O=r(n(256)),E=n(53),P=n(387),j=n(56);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(265);var S=(0,y.inject)(E.SYSTEM_ROLE_STORE)((0,y.observer)((function(e){var t=e.systemRoleStore,n=e.isBase,r=void 0!==n&&n,a=(0,h.useTranslation)().t,c=t.findRolePageAction,y=t.rolePage,E=t.deleteRoleAction,w=t.privilegeSystemRole,_=t.setDefaultRoleAction,S=(0,g.useState)(!1),R=(0,b.default)(S,2),D=R[0],x=R[1],A=(0,g.useState)({}),M=(0,b.default)(A,2),F=M[0],I=M[1],C=(0,g.useState)(""),T=(0,b.default)(C,2),L=T[0],z=T[1],U=(0,g.useState)(null),N=(0,b.default)(U,2),B=N[0],G=N[1],W={pageSize:13,currentPage:1},K=(0,g.useState)({pageParam:W}),V=(0,b.default)(K,2),J=V[0],Y=V[1];(0,g.useEffect)((function(){c(J)}),[J]);var q=[{title:"角色名称",dataIndex:"name",width:"40%",ellipsis:!0,render:function(e,t){var n=t.businessType,r=t.defaultRole;return 1===n&&1===r?g.default.createElement(m.default,null,g.default.createElement("div",{className:"tiklab_system_role_name",onClick:function(){return ee(t)}},e),g.default.createElement(v.default,{color:"#87d068",style:{marginLeft:8,marginRight:0}},"默认"),g.default.createElement(v.default,{style:{marginLeft:8,marginRight:0}},"管理员")):1===r?g.default.createElement(m.default,null,g.default.createElement("div",{className:"tiklab_system_role_name",onClick:function(){return ee(t)}},e),g.default.createElement(v.default,{color:"#87d068",style:{marginLeft:8,marginRight:0}},"默认")):1===n?g.default.createElement(m.default,null,g.default.createElement("div",{className:"tiklab_system_role_name",onClick:function(){return ee(t)}},e),g.default.createElement(v.default,{style:{marginLeft:8,marginRight:0}},"管理员")):g.default.createElement("div",{className:"tiklab_system_role_name",onClick:function(){return ee(t)}},e)}},{title:"成员数",dataIndex:"roleUserList",width:"25%",ellipsis:!0,render:function(e,t){var n=t.roleUserList,r=n&&n.length>0?n.length:0;return"".concat(r,"人")}},{title:"类型",dataIndex:"group",width:"26%",ellipsis:!0,render:function(e){return"system"===e?"内置":a("privilege-role.custom")}},{title:"操作",dataIndex:"action",render:function(e,t){return r?g.default.createElement(m.default,null,g.default.createElement(s.default,{title:"编辑"},g.default.createElement(p.default,{onClick:function(){return Q(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),0===t.defaultRole&&g.default.createElement(s.default,{title:"设置默认"},g.default.createElement(d.default,{onClick:function(){return X(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),g.default.createElement(s.default,{title:"删除"},g.default.createElement(f.default,{onClick:function(){return H(t.id)},style:{fontSize:"var(--tiklab-icon-size-16)"}}))):g.default.createElement(m.default,null,g.default.createElement(s.default,{title:"编辑"},g.default.createElement(p.default,{onClick:function(){return Q(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),0===t.defaultRole&&g.default.createElement(s.default,{title:"设置默认"},g.default.createElement(d.default,{onClick:function(){return X(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),0===t.businessType&&"system"!==t.group&&g.default.createElement(s.default,{title:"删除"},g.default.createElement(f.default,{onClick:function(){return H(t.id)},style:{fontSize:"var(--tiklab-icon-size-16)"}})))}}],H=function(e){E(e).then((function(e){e.code||Y({pageParam:W})}))},Q=function(e){I(e),x(!0)},X=function(e){_(e).then((function(e){e.code||Y({pageParam:W})}))},Z=(0,g.useCallback)((function(){I({}),x(!1)}),[D]),$=function(e){z(e),x(!0)},ee=function(e){G(e)},te=function(){Y({pageParam:W})};return g.default.createElement("div",{className:"tiklab_system_role"},B?g.default.createElement(P.RoleDetail,{roleDetailParams:B,close:function(){G(null),te()}}):g.default.createElement("div",{className:"tiklab_system_role_main"},g.default.createElement(j.TitleAction,{title:"权限",style:{paddingLeft:8}},g.default.createElement(m.default,null,r?g.default.createElement(j.Btn,{icon:g.default.createElement(o.default,null),onClick:function(){return $("system")},title:a("privilege-role.addSystemRole")}):g.default.createElement(j.Btn,{icon:g.default.createElement(o.default,null),type:"primary",onClick:function(){return $("custom")},title:a("privilege-role.addRole")}))),g.default.createElement(u.default,null,g.default.createElement(l.default,{span:24},g.default.createElement(i.default,{columns:q,dataSource:w,rowKey:function(e){return e.id},pagination:!1}),y&&y.total>1&&g.default.createElement(j.Page,{pageCurrent:J.pageParam.currentPage,changPage:function(e){Y(k(k({},J),{},{pageParam:{pageSize:12,currentPage:e}}))},page:y})))),g.default.createElement(O.default,{visible:D,cancel:Z,editData:F,group:L,initParam:te,urlType:"system"}))})));t.default=S},387:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RoleDetail",{enumerable:!0,get:function(){return a.default}});var a=r(n(388));r(n(262)),r(n(263)),r(n(264))},388:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(94));n(37);var u=r(n(22));n(36);var l=r(n(24)),i=r(n(134));n(152);var o=r(n(102)),c=r(n(0)),f=r(n(262)),d=r(n(264)),s=n(30),p=o.default.TabPane,m=function(e){var t=e.roleDetailParams,n=e.close,r=(0,s.useTranslation)().t;return c.default.createElement("div",{className:"tiklab_system_role_detail"},c.default.createElement(l.default,{className:"tiklab_system_role_detail_up"},c.default.createElement(i.default,{onClick:function(){return n()},className:"details_up_back"}),t.name||"权限详情"),c.default.createElement(u.default,null,c.default.createElement(l.default,null,c.default.createElement("div",{className:"label_item"},c.default.createElement("label",null,"名称:"),c.default.createElement("span",null,t.name)),c.default.createElement("div",{className:"label_item"},c.default.createElement("label",null,"类型:"),c.default.createElement("span",null,"system"===t.group?"内置":"自定义")))),c.default.createElement(o.default,{defaultActiveKey:"people"},c.default.createElement(p,{tab:r("privilege-role.people"),key:"people"},c.default.createElement(f.default,(0,a.default)({},e,{group:t.group,roleDetail:t}))),c.default.createElement(p,{tab:r("privilege-role.promise"),key:"promise"},c.default.createElement(d.default,(0,a.default)({},e,{group:t.group,roleDetail:t})))))};t.default=m},389:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(41);var u=r(n(31));n(44);var l=r(n(20));n(37);var i=r(n(22));n(52);var o=r(n(26)),c=r(n(211));n(208);var f=r(n(133)),d=r(n(87)),s=r(n(43)),p=r(n(75)),m=r(n(32)),v=r(n(96));n(36);var b=r(n(24)),g=r(n(97)),y=r(n(151));n(74);var h=r(n(39)),O=r(n(98)),E=r(n(40)),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),j=n(28),w=n(30),_=n(2),k=n(223),S=n(310),R=n(53),D=r(n(253)),x=r(n(252)),A=n(56),M=n(254);n(266);var F=["children","sort"],I=["children","sort"];function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,m.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=(0,j.inject)(R.PRIVILEGE_SYSTEM_STORE)((0,j.observer)((function(e){var t=(0,w.useTranslation)().t,n=e.privilegeSystemStore,r=n.privilegeSystemTreeData,a=n.getFunctionListListAction,j=n.deleteFunctionAction,R=n.updateFunctionSortAction,C=(0,P.useState)(""),T=(0,E.default)(C,2),z=T[0],U=T[1],N=(0,P.useState)(!1),B=(0,E.default)(N,2),G=B[0],W=B[1],K=(0,P.useState)({}),V=(0,E.default)(K,2),J=V[0],Y=V[1],q=(0,P.useState)({}),H=(0,E.default)(q,2),Q=H[0],X=H[1],Z=(0,P.useState)({pageParam:{pageSize:9999,currentPage:1}}),$=(0,E.default)(Z,2),ee=$[0],te=$[1],ne=[{title:t("privilege-feature-name"),dataIndex:"name",key:"name",className:"column_bg_w"},{title:t("privilege-feature-code"),dataIndex:"code",key:"code"},{title:"操作",dataIndex:"action",className:"column_bg_w",width:"10%",render:function(e,t){return P.default.createElement(b.default,{size:"middle"},!t.parentFunction&&P.default.createElement(h.default,{title:"新增"},P.default.createElement(O.default,{onClick:function(){return ae(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),P.default.createElement(h.default,{title:"编辑"},P.default.createElement(y.default,{onClick:function(){return le(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),!t.children&&P.default.createElement(h.default,{title:"删除"},P.default.createElement(g.default,{onClick:function(){return ie(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})))}}];(0,P.useEffect)((function(){(0,v.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:case"end":return e.stop()}}),e)})))()}),[ee]);var re=function(){var e=(0,v.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ee);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=(0,P.useCallback)((function(e){U(e.id),W(!0)}),[]),ue=function(){var e=(0,v.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(""),Y({}),W(!1),e.next=5,re();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(e){Y(e),W(!0)},ie=function(){var e=(0,v.default)(s.default.mark((function e(t){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.id);case 2:if(e.sent.code){e.next=6;break}return e.next=6,re();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=(0,P.useCallback)(function(){var e=(0,v.default)(s.default.mark((function e(t){var n,r,a,u,l,i,o,c,f,m,v,b,g,y,h,O,E,P,j,w,_,k;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dragId,r=t.dropId,a=t.drag,u=t.drop,l=a.sort,i=-1,o=[],c=[],f={},m={},!u.children){e.next=31;break}if([],b=Q[r],g=u.children[0],!b){e.next=31;break}if(y=fe(g.id),f=L(L({},a),{},{parentFunction:y.parentFunction}),!(l<y.sort)){e.next=22;break}return v=[f].concat((0,p.default)(u.children)),e.next=18,ce(v);case 18:return e.next=20,re();case 20:e.next=31;break;case 22:return i=u.children.findIndex((function(e){return e.id===y.id})),u.children.splice(i,0,a),u.children.forEach((function(e){c.push(e.sort)})),o=(0,M.sortNum)(c),u.children=u.children.map((function(e,t){return L(L({},e),{},{sort:o[t]})})),e.next=29,ce(u.children);case 29:return e.next=31,re();case 31:u.parentFunction?(O=u.parentFunction.id,E=fe(O),h=E.children.filter((function(e){return e.id!==n})),i=h.findIndex((function(e){return e.id===u.id})),h.splice(i,0,L(L({},a),{},{parentFunction:E.children[0].parentFunction})),h.forEach((function(e){c.push(e.sort)})),o=(0,M.sortNum)(c),E.children=h.map((function(e,t){return L(L({},e),{},{sort:o[t]})})),ce(E.children).then((function(e){re()}))):(a.children,P=a.sort,j=(0,d.default)(a,F),u.children,w=u.sort,_=(0,d.default)(u,I),a.parentFunction&&!u.parentFunction?(a.parentFunction.id,m=L(L({},_),{},{parentFunction:u.parentFunction,sort:P}),f=L(L({},j),{},{parentFunction:u.parentFunction,sort:w}),ce([m,f]).then((function(e){re()}))):(k=[L(L({},j),{},{sort:w}),L(L({},_),{},{sort:P})],ce(k).then((function(e){re()}))));case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,Q]),ce=function(){var e=(0,v.default)(s.default.mark((function e(t){var n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={list:t},e.next=3,R(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=(0,P.useCallback)((function(e){var t={};return function n(r){for(var a=0;a<r.length;a++){var u=r[a];if(u.id===e){t=u;break}u.children&&u.children.length>0&&n(u.children)}return t}((0,_.toJS)(r)),t}),[r]);return P.default.createElement("div",{className:"systemFeature"},P.default.createElement("div",{className:"systemFeature_content"},P.default.createElement(A.TitleAction,{title:"功能管理",style:{paddingLeft:8}},P.default.createElement(f.default,{onClick:function(){return W(!0)},type:"primary",icon:P.default.createElement(O.default,{style:{fontSize:"var(--tiklab-icon-size-16)"}})},t("privilege-add-feature"))),P.default.createElement(i.default,null,P.default.createElement(l.default,{span:24},P.default.createElement(i.default,{justify:"space-between",style:{paddingBottom:16}},P.default.createElement(o.default,{placeholder:t("privilege-search")+t("privilege-orga-name"),onPressEnter:function(e){return function(e){var t=e.target.value;te(L(L({},ee),{},{name:t}))}(e)},style:{width:300},prefix:P.default.createElement(c.default,{style:{fontSize:"var(--tiklab-icon-size-16)"}})})))),P.default.createElement(i.default,null,P.default.createElement(l.default,{span:24,id:"drag-sorting"},P.default.createElement(k.DndProvider,{backend:S.HTML5Backend},P.default.createElement(u.default,{dataSource:(0,_.toJS)(r),columns:ne,rowKey:"id",tableLayout:"fixed",pagination:!1,components:{body:{row:D.default}},onRow:function(e,t){return{record:e,data:(0,_.toJS)(r),index:t,moveRow:oe}},expandable:{onExpand:function(e,t){X(L(L({},Q),{},(0,m.default)({},t.id,e)))}}}))))),P.default.createElement(x.default,{data:r,editData:J,visible:G,cancelAdd:ue,parentId:z,urlType:"system"}))})));t.default=z},390:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(391)).default;t.default=a},391:function(e,t,n){"use strict";var r=n(19),a=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(40));n(195);var l=r(n(115)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(0)),o=n(28),c=n(392);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n(393);var d=l.default.SubMenu,s=(0,c.scopedClassMaker)("privilege-header"),p=(0,o.observer)((function(e){var t=e.className,n=e.onSelectMenu,r=e.allPromise,a=void 0===r?[]:r,o=(0,i.useState)(e.selectedKeys||[]),c=(0,u.default)(o,2),f=c[0],p=c[1],m=(0,i.useState)(e.openKeys||[]),v=(0,u.default)(m,2),b=v[0],g=v[1];(0,i.useEffect)((function(){e.selectedKeys.toString()!==f.toString()&&p(e.selectedKeys),e.openKeys.toString()!==b.toString()&&g(e.openKeys)}),[e.selectedKeys,e.openKeys]);return i.default.createElement("div",{className:s("menu",{extra:[t].join(" ")})},i.default.createElement(l.default,{theme:"light",mode:"inline",className:"menu-wrap",defaultSelectedKeys:e.defaultSelectedKeys,defaultOpenKeys:e.defaultOpenKeys,openKeys:b,selectedKeys:f,onClick:function(e){p([e.key]),n(e)},onOpenChange:function(e){var t=e.find((function(e){return-1===b.indexOf(e)}));-1===b.indexOf(t)?g([t]):g(t?[t]:[])},forceSubMenuRender:!0},function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t,n){if(t.children&&t.children.length){if(!t.purviewCode)return i.default.createElement(d,{key:"".concat(t.id),title:t.title,icon:t.icon},e(t.children));if(a.includes(t.purviewCode))return i.default.createElement(d,{key:"".concat(t.id),title:t.title,icon:t.icon},e(t.children))}if(!t.purviewCode||a.includes(t.purviewCode))return i.default.createElement(i.Fragment,{key:"".concat(t.id)},t.divider&&i.default.createElement(l.default.Divider,null),i.default.createElement(l.default.Item,{icon:t.icon,key:"".concat(t.id)},t.title))}))}(e.data)))}));t.default=p},392:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.scopedClassMaker=t.default=void 0;var a=r(n(32));var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};t.default=u;t.scopedClassMaker=function(e){return function(t,n){return Object.entries(t instanceof Object?t:(0,a.default)({},t,t)).filter((function(e){return!1!==e[1]})).map((function(e){return e[0]})).map((function(t){return[e,t].filter(Boolean).join("-")})).concat(n&&n.extra||[]).join(" ")}}},393:function(e,t,n){"use strict";n.r(t)},394:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(395)).default;t.default=a},395:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(87));n(195);var u=r(n(115)),l=r(n(0)),i=n(28),o=["allPromise","data"],c=u.default.SubMenu,f=(0,i.observer)((function(e){var t=e.allPromise,n=void 0===t?[]:t,r=e.data,i=void 0===r?[]:r,f=(0,a.default)(e,o);return l.default.createElement(u.default,f,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t,r){if(t.children&&t.children.length&&n.includes(t.purviewCode))return l.default.createElement(c,{key:"".concat(t.id),title:t.title,icon:t.icon},e(t.children));return n.includes(t.purviewCode)&&l.default.createElement(u.default.Item,{icon:t.icon,key:"".concat(t.id)},t.title)}))}(i))}));t.default=f},398:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DomainRole",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MenuAction",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"MenuList",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"NotFound",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"PrivilegeButton",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PrivilegeProjectButton",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ProjectFeature",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ProjectNav",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"ProjectRole",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"SystemFeature",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"SystemNav",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"SystemRole",{enumerable:!0,get:function(){return c.default}});var a=r(n(305)),u=r(n(303)),l=r(n(297)),i=r(n(306)),o=r(n(307)),c=r(n(300)),f=r(n(308)),d=r(n(390)),s=r(n(394)),p=r(n(309)),m=r(n(304)),v=r(n(302))},399:function(e,t,n){},413:function(e,t,n){"use strict";n(265)},430:function(e,t,n){},431:function(e,t,n){},432:function(e,t,n){},437:function(e,t,n){"use strict";n(251)},438:function(e,t,n){"use strict";n(267)},439:function(e,t,n){"use strict";n(266)},440:function(e,t,n){"use strict";n(261)},441:function(e,t,n){"use strict";n(255)},53:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PRIVILEGE_DOMAIN_ROLE_STORE",{enumerable:!0,get:function(){return u.PRIVILEGE_DOMAIN_ROLE_STORE}}),Object.defineProperty(t,"PRIVILEGE_PROJECT_FEATURE_STORE",{enumerable:!0,get:function(){return l.PRIVILEGE_PROJECT_FEATURE_STORE}}),Object.defineProperty(t,"PRIVILEGE_PROJECT_ROLE_STORE",{enumerable:!0,get:function(){return o.PRIVILEGE_PROJECT_ROLE_STORE}}),Object.defineProperty(t,"PRIVILEGE_SYSTEM_STORE",{enumerable:!0,get:function(){return c.PRIVILEGE_SYSTEM_STORE}}),Object.defineProperty(t,"SYSTEM_ROLE_STORE",{enumerable:!0,get:function(){return i.SYSTEM_ROLE_STORE}}),t.privilegeStores=void 0;var a=r(n(32)),u=n(352),l=n(353),i=n(357),o=n(358),c=n(359);var f,d=(f={},(0,a.default)(f,c.PRIVILEGE_SYSTEM_STORE,new c.SystemFeatureStore),(0,a.default)(f,i.SYSTEM_ROLE_STORE,new i.SystemRoleStore),(0,a.default)(f,o.PRIVILEGE_PROJECT_ROLE_STORE,new o.ProjectRoleStore),(0,a.default)(f,l.PRIVILEGE_PROJECT_FEATURE_STORE,new l.ProjectFeatureStore),(0,a.default)(f,u.PRIVILEGE_DOMAIN_ROLE_STORE,new u.DomainRoleStore),f);t.privilegeStores=d},56:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseModal",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BreadCrumb",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Btn",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Profile",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"TitleAction",{enumerable:!0,get:function(){return i.default}});var a=r(n(369)),u=r(n(371)),l=r(n(373)),i=r(n(375)),o=r(n(377)),c=r(n(379))}}]);