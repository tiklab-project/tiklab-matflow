(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{272:function(e,t,n){"use strict";n.r(t),function(e){n(46);var r,l=n(27),i=(n(253),n(195)),o=(n(58),n(7)),a=n(0),c=n.n(a),u=n(363),m=n(778),s=n(248),d=n(204),f=n(994),p=n(17),b=(n(911),n(628)),N=n(359),v="D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\projectSetReDel.js";function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,l,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,l=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw l}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},w=function(e){var t=e.pipelineStore,n=t.deletePipeline,r=t.updatePipeline,p=t.pipelineList,h=t.pipelineId,y=t.pipeline,w=_(Object(a.useState)([]),2),g=w[0],E=w[1],H=_(o.a.useForm(),1)[0],k=[{key:1,title:"修改流水线名称",icon:c.a.createElement(s.a,{__source:{fileName:v,lineNumber:66,columnNumber:19}}),content:c.a.createElement("div",{className:"bottom-rename",__source:{fileName:v,lineNumber:67,columnNumber:22}},c.a.createElement(b.a,{form:H,re:function(){H.validateFields().then((function(t){var n={pipelineId:h,pipelineName:t.pipelineName};r(n).then((function(n){0===n.code&&(y.pipelineName=t.pipelineName,e.history.push("/index/task/".concat(h,"/work")))}))}))},pipelineList:p,layout:"inline",pipeline:y,__source:{fileName:v,lineNumber:68,columnNumber:17}}))},{key:2,title:"删除流水线",icon:c.a.createElement(d.a,{__source:{fileName:v,lineNumber:80,columnNumber:19}}),content:c.a.createElement("div",{className:"bottom-delete",__source:{fileName:v,lineNumber:81,columnNumber:22}},c.a.createElement("div",{style:{color:"#ff0000",paddingBottom:5,fontSize:13},__source:{fileName:v,lineNumber:82,columnNumber:25}},"此操作无法恢复！请慎重操作！"),c.a.createElement(N.a,{onClick:function(){l.a.confirm({title:"删除",icon:c.a.createElement(m.a,{__source:{fileName:v,lineNumber:54,columnNumber:19}}),content:"删除后数据无法恢复",onOk:function(){n({pipelineId:h}).then((function(t){0===t.code&&1===t.data?i.b.info({content:"删除成功",className:"message"}):i.b.error({content:"删除失败",className:"message"}),e.history.push("/index/pipeline")})).catch((function(e){console.log(e)}))},okText:"确认",cancelText:"取消"})},type:"dangerous",title:"删除",__source:{fileName:v,lineNumber:85,columnNumber:25}}))}],j=function(e){return g.some((function(t){return t===e}))},D=function(e){return c.a.createElement("div",{key:e.key,className:"pipelineReDel-li",__source:{fileName:v,lineNumber:112,columnNumber:17}},c.a.createElement("div",{className:"pipelineReDel-li-top ".concat(j(e.key)?"pipelineReDel-li-select":null),onClick:function(){return t=e.key,void(j(t)?E(g.filter((function(e){return e!==t}))):E(g.concat(t)));var t},__source:{fileName:v,lineNumber:113,columnNumber:21}},c.a.createElement("div",{className:"pipelineReDel-li-title",__source:{fileName:v,lineNumber:117,columnNumber:25}},c.a.createElement("span",{className:"pipelineReDel-li-title-icon",__source:{fileName:v,lineNumber:118,columnNumber:29}},e.icon),c.a.createElement("span",{className:"pipelineReDel-li-title-name",__source:{fileName:v,lineNumber:119,columnNumber:29}},e.title)),c.a.createElement("div",{__source:{fileName:v,lineNumber:121,columnNumber:25}},c.a.createElement(f.a,{__source:{fileName:v,lineNumber:122,columnNumber:29}}))),c.a.createElement("div",{className:"".concat(j(e.key)?"pipelineReDel-li-bottom":"pipelineReDel-li-none"),__source:{fileName:v,lineNumber:125,columnNumber:21}},j(e.key)?e.content:null))};return c.a.createElement("div",{className:"pipelineReDel home-limited",__source:{fileName:v,lineNumber:135,columnNumber:9}},c.a.createElement("div",{className:"pipelineReDel-up",__source:{fileName:v,lineNumber:136,columnNumber:13}},c.a.createElement(u.a,{firstItem:y.pipelineName,secondItem:"设置",__source:{fileName:v,lineNumber:137,columnNumber:17}})),c.a.createElement("div",{className:"pipelineReDel-content",__source:{fileName:v,lineNumber:142,columnNumber:13}},c.a.createElement("div",{className:"pipelineReDel-ul",__source:{fileName:v,lineNumber:143,columnNumber:17}},k.map((function(e){return D(e)})))))};y(w,"useState{[expandedTree,setExpandedTree]([])}\nuseForm{[form]}");var g,E,H=Object(p.b)("pipelineStore")(Object(p.c)(w));t.default=H,(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(w,"ProjectSetReDel","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\projectSetReDel.js"),g.register(H,"default","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\projectSetReDel.js")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}.call(this,n(14)(e))},339:function(e,t){e.exports=function(e,t,n,r){var l=n?n.call(r,e,t):void 0;if(void 0!==l)return!!l;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var u=i[c];if(!a(u))return!1;var m=e[u],s=t[u];if(!1===(l=n?n.call(r,m,s,u):void 0)||void 0===l&&m!==s)return!1}return!0}},359:function(e,t,n){"use strict";(function(e){var r,l=n(0),i=n.n(l),o=(n(403),"D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\common\\btn\\btn.js");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c,u=function(e){var t=e.icon,n=e.type,r=e.title,l=e.onClick,a=e.isMar;return i.a.createElement("div",{className:"mf-btn ".concat(n?"mf-btn-".concat(n):""," ").concat(a?"mf-btn-mar":""),onClick:l,__source:{fileName:o,lineNumber:9,columnNumber:9}},i.a.createElement("span",{className:"".concat(t?"mf-btn-icon":""),__source:{fileName:o,lineNumber:13,columnNumber:13}},t&&t),i.a.createElement("span",{__source:{fileName:o,lineNumber:14,columnNumber:13}},r))},m=u;t.a=m,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(u,"Btn","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\common\\btn\\btn.js"),a.register(m,"default","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\common\\btn\\btn.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,n(14)(e))},360:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function l(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function i(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return l(n.overflowY,t)||l(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function o(e,t,n,r,l,i,o,a){return i<e&&o>t||i>e&&o<t?0:i<=e&&a<=n||o>=t&&a>=n?i-e-r:o>t&&a<n||i<e&&a>n?o-t+l:0}var a=function(e,t){var n=window,l=t.scrollMode,a=t.block,c=t.inline,u=t.boundary,m=t.skipOverflowHiddenElements,s="function"==typeof u?u:function(e){return e!==u};if(!r(e))throw new TypeError("Invalid target");for(var d=document.scrollingElement||document.documentElement,f=[],p=e;r(p)&&s(p);){if((p=p.parentElement)===d){f.push(p);break}null!=p&&p===document.body&&i(p)&&!i(document.documentElement)||null!=p&&i(p,m)&&f.push(p)}for(var b=n.visualViewport?n.visualViewport.width:innerWidth,N=n.visualViewport?n.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,_=window.scrollY||pageYOffset,h=e.getBoundingClientRect(),y=h.height,w=h.width,g=h.top,E=h.right,H=h.bottom,k=h.left,j="start"===a||"nearest"===a?g:"end"===a?H:g+y/2,D="center"===c?k+w/2:"end"===c?E:k,L=[],G=0;G<f.length;G++){var S=f[G],R=S.getBoundingClientRect(),C=R.height,I=R.width,M=R.top,O=R.right,T=R.bottom,x=R.left;if("if-needed"===l&&g>=0&&k>=0&&H<=N&&E<=b&&g>=M&&H<=T&&k>=x&&E<=O)return L;var W=getComputedStyle(S),P=parseInt(W.borderLeftWidth,10),V=parseInt(W.borderTopWidth,10),A=parseInt(W.borderRightWidth,10),B=parseInt(W.borderBottomWidth,10),F=0,X=0,Y="offsetWidth"in S?S.offsetWidth-S.clientWidth-P-A:0,z="offsetHeight"in S?S.offsetHeight-S.clientHeight-V-B:0;if(d===S)F="start"===a?j:"end"===a?j-N:"nearest"===a?o(_,_+N,N,V,B,_+j,_+j+y,y):j-N/2,X="start"===c?D:"center"===c?D-b/2:"end"===c?D-b:o(v,v+b,b,P,A,v+D,v+D+w,w),F=Math.max(0,F+_),X=Math.max(0,X+v);else{F="start"===a?j-M-V:"end"===a?j-T+B+z:"nearest"===a?o(M,T,C,V,B+z,j,j+y,y):j-(M+C/2)+z/2,X="start"===c?D-x-P:"center"===c?D-(x+I/2)+Y/2:"end"===c?D-O+A+Y:o(x,O,I,P,A+Y,D,D+w,w);var J=S.scrollLeft,$=S.scrollTop;j+=$-(F=Math.max(0,Math.min($+F,S.scrollHeight-C+z))),D+=J-(X=Math.max(0,Math.min(J+X,S.scrollWidth-I+Y)))}L.push({el:S,top:F,left:X})}return L};function c(e){return e===Object(e)&&0!==Object.keys(e).length}t.a=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(c(t)&&"function"==typeof t.behavior)return t.behavior(n?a(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:c(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,l=e.top,i=e.left;r.scroll&&n?r.scroll({top:l,left:i,behavior:t}):(r.scrollTop=l,r.scrollLeft=i)}))}(a(e,r),r.behavior)}}},363:function(e,t,n){"use strict";(function(e){var r,l=n(0),i=n.n(l),o=(n(364),"D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\common\\breadcrumb\\breadcrumb.js");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c,u=function(e){var t=e.firstItem,n=e.secondItem;return i.a.createElement("div",{className:"breadcrumbContent",__source:{fileName:o,lineNumber:9,columnNumber:13}},i.a.createElement("span",{className:n?"breadcrumbContent-span":"",__source:{fileName:o,lineNumber:10,columnNumber:17}},t),n?i.a.createElement("span",{__source:{fileName:o,lineNumber:13,columnNumber:31}},"  >  ",n):null)},m=u;t.a=m,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(u,"BreadcrumbContent","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\common\\breadcrumb\\breadcrumb.js"),a.register(m,"default","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\common\\breadcrumb\\breadcrumb.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,n(14)(e))},364:function(e,t,n){},403:function(e,t,n){},628:function(e,t,n){"use strict";(function(e){n(58);var r,l=n(7),i=(n(22),n(8)),o=n(0),a=n.n(o),c=n(1044),u=n(1045),m=(n(629),n(359)),s="D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\pipelineName.js";(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=function(e){var t=e.pipelineList,n=e.form,r=e.re,d=e.layout,f=e.pipeline,p=e.powerType,b=e.setPowerType;Object(o.useEffect)((function(){f&&n.setFieldsValue({pipelineName:f.pipelineName})}),[]);var N=[{id:1,title:"公有",icon:a.a.createElement(c.a,{__source:{fileName:s,lineNumber:27,columnNumber:18}}),desc:"互联网上的任何人都可以查看该项目。不支持TFVC等某些功能。"},{id:2,title:"私有",icon:a.a.createElement(u.a,{__source:{fileName:s,lineNumber:33,columnNumber:18}}),desc:"只有您授予访问权限的人才能查看此项目。"}],v=a.a.createElement("div",{className:"pipeline-power",__source:{fileName:s,lineNumber:39,columnNumber:9}},a.a.createElement("div",{className:"pipeline-power-title",__source:{fileName:s,lineNumber:40,columnNumber:13}},"流水线权限"),a.a.createElement("div",{className:"pipeline-power-content",__source:{fileName:s,lineNumber:41,columnNumber:13}},N.map((function(e){return a.a.createElement("div",{key:e.id,className:"pipeline-power-item ".concat(p===e.id?"pipeline-power-select":""),onClick:function(){return b(e.id)},__source:{fileName:s,lineNumber:44,columnNumber:32}},a.a.createElement("div",{className:"power-item",__source:{fileName:s,lineNumber:49,columnNumber:29}},a.a.createElement("div",{__source:{fileName:s,lineNumber:50,columnNumber:33}},a.a.createElement("div",{className:"power-title power-icon",__source:{fileName:s,lineNumber:51,columnNumber:37}},e.icon),a.a.createElement("div",{className:"power-title power-name",__source:{fileName:s,lineNumber:54,columnNumber:37}},e.title)),p===e.id&&a.a.createElement("div",{className:"power-select-show",__source:{fileName:s,lineNumber:60,columnNumber:37}})),a.a.createElement("div",{className:"power-desc",__source:{fileName:s,lineNumber:63,columnNumber:29}},e.desc))}))));return a.a.createElement(l.a,{form:n,autoComplete:"off",layout:d,initialValues:r?null:{pipelinePower:2},__source:{fileName:s,lineNumber:75,columnNumber:9}},a.a.createElement(l.a.Item,{label:"vertical"===d?"流水线名称":"重命名",name:"pipelineName",rules:[{required:!0,message:""},{pattern:/^[\s\u4e00-\u9fa5a-zA-Z0-9_-]{0,}$/,message:"流水线名称不能包含非法字符，如&,%，&，#……等"},{type:"string",max:20,message:"流水线名称过长"},function(e){e.getFieldValue;return{validator:function(e,n){if(!n)return Promise.reject("请输入名称");var r=[];return t&&(r=t&&t.map((function(e){return e.pipelineName}))),r.includes(n)?Promise.reject("名称已经存在"):Promise.resolve()}}}],__source:{fileName:s,lineNumber:81,columnNumber:13}},a.a.createElement(i.a,{allowClear:!0,style:r?{width:416}:null,__source:{fileName:s,lineNumber:112,columnNumber:17}})),"vertical"===d&&v,r&&a.a.createElement(l.a.Item,{__source:{fileName:s,lineNumber:119,columnNumber:17}},a.a.createElement(m.a,{htmlType:"submit",type:"primary",title:"确定",onClick:r,__source:{fileName:s,lineNumber:120,columnNumber:21}})))};d(f,"useEffect{}");var p,b,N=f;t.a=N,(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(f,"PipelineName","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\pipelineName.js"),p.register(N,"default","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\pipelineName.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,n(14)(e))},629:function(e,t,n){},911:function(e,t,n){}}]);