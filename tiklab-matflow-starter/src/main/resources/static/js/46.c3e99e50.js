(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{448:function(e,n,t){"use strict";t(45);var r=t(23),a=t(0),l=t.n(a),i="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\btn\\Btn.js";n.a=function(e){var n=e.icon,t=e.type,a=e.title,u=e.onClick,m=e.isMar;return l.a.createElement("div",{className:"mf-btn ".concat(t?"mf-btn-".concat(t):""," ").concat(m?"mf-btn-mar":""),onClick:u,__source:{fileName:i,lineNumber:18,columnNumber:9}},l.a.createElement(r.default,{__source:{fileName:i,lineNumber:19,columnNumber:13}},n&&l.a.createElement("span",{className:"mf-btn-icon",__source:{fileName:i,lineNumber:21,columnNumber:30}},n),a))}},449:function(e,n,t){"use strict";var r=t(0),a=t.n(r),l="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\emptyText\\EmptyText.js";n.a=function(e){var n=e.title;return a.a.createElement("div",{style:{textAlign:"center"},__source:{fileName:l,lineNumber:13,columnNumber:13}},a.a.createElement("svg",{className:"icon","aria-hidden":"true",style:{height:50,width:50},__source:{fileName:l,lineNumber:14,columnNumber:17}},a.a.createElement("use",{xlinkHref:"#icon-meiyouxiangguan",__source:{fileName:l,lineNumber:15,columnNumber:21}})),a.a.createElement("div",{style:{fontSize:13,color:"#999"},__source:{fileName:l,lineNumber:17,columnNumber:17}},n||"暂无数据"))}},459:function(e,n,t){"use strict";t(45);var r=t(23),a=t(0),l=t.n(a),i=t(236),u="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\breadcrumb\\Breadcrumb.js";n.a=function(e){var n=e.firstItem,t=e.secondItem,a=e.goBack;return l.a.createElement("div",{className:"breadcrumbContent",__source:{fileName:u,lineNumber:16,columnNumber:13}},l.a.createElement(r.default,{__source:{fileName:u,lineNumber:17,columnNumber:17}},a&&l.a.createElement(i.default,{onClick:a,style:{color:"#0063FF"},__source:{fileName:u,lineNumber:18,columnNumber:32}}),l.a.createElement("span",{className:t?"breadcrumbContent-span":"",__source:{fileName:u,lineNumber:19,columnNumber:21}},n),t&&l.a.createElement("span",{__source:{fileName:u,lineNumber:22,columnNumber:36}}," /   ",t)))}},464:function(e,n,t){"use strict";t(52);var r=t(49),a=t(0),l=t.n(a),i=t(380),u=t(6),m="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\Profile\\Profile.js";n.a=function(e){var n=e.userInfo,t=void 0===n?void 0:n,a=t||Object(u.getUser)();return l.a.createElement("div",{className:"tiklab-profile",__source:{fileName:m,lineNumber:27,columnNumber:13}},a.avatar&&"null"!==a.avatar?l.a.createElement(r.default,{src:a.avatar,__source:{fileName:m,lineNumber:13,columnNumber:20}}):a.nickname&&"null"!==a.nickname?l.a.createElement(r.default,{__source:{fileName:m,lineNumber:17,columnNumber:20}},a.nickname.substring(0,1)):a.name&&"null"!==a.name?l.a.createElement(r.default,{__source:{fileName:m,lineNumber:21,columnNumber:20}},a.name.substring(0,1)):l.a.createElement(r.default,{size:32,icon:l.a.createElement(i.default,{__source:{fileName:m,lineNumber:24,columnNumber:40}}),__source:{fileName:m,lineNumber:24,columnNumber:16}}))}},466:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"c",(function(){return c})),t.d(n,"b",(function(){return o}));t(470);var r=t(468),a=t(0),l=t.n(a),i=t(389),u="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\loading\\Loading.js",m=function(e){return l.a.createElement("div",{className:"mf-loading",__source:{fileName:u,lineNumber:14,columnNumber:9}},l.a.createElement("div",{className:"mf-shape",__source:{fileName:u,lineNumber:15,columnNumber:13}}),l.a.createElement("div",{className:"mf-shape",__source:{fileName:u,lineNumber:16,columnNumber:13}}),l.a.createElement("div",{className:"mf-shape",__source:{fileName:u,lineNumber:17,columnNumber:13}}))},c=function(e){var n=e.size;return"table"===e.type?l.a.createElement("div",{style:{textAlign:"center",paddingTop:30},__source:{fileName:u,lineNumber:32,columnNumber:17}},l.a.createElement(r.a,{size:n||"default ",__source:{fileName:u,lineNumber:33,columnNumber:21}})):l.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},__source:{fileName:u,lineNumber:37,columnNumber:13}},l.a.createElement(r.a,{size:n||"default ",__source:{fileName:u,lineNumber:38,columnNumber:17}}))},o=function(e){var n=e.title;return l.a.createElement("div",{className:"mf-server-loading",__source:{fileName:u,lineNumber:51,columnNumber:9}},l.a.createElement("div",{className:"server-loading-content",__source:{fileName:u,lineNumber:52,columnNumber:13}},l.a.createElement(r.a,{indicator:l.a.createElement(i.a,{style:{fontSize:14},__source:{fileName:u,lineNumber:53,columnNumber:34}}),__source:{fileName:u,lineNumber:53,columnNumber:17}}),l.a.createElement("span",{className:"loading-content-title",__source:{fileName:u,lineNumber:54,columnNumber:17}},n)))}},570:function(e,n,t){"use strict";t(80);var r=t(26),a=(t(81),t(34)),l=(t(320),t(256)),i=(t(171),t(33)),u=(t(128),t(35)),m=(t(45),t(23)),c=(t(116),t(20)),o=t(0),s=t.n(o),N=t(412),f=t(413),b=t(318),p=t(319),d=t(61),_=t(6),y=t(448),v=t(321),E=t(449),h="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\pipeline\\pipeline\\components\\PipelineUserAdd.js";function g(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,l=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return l}(e,n)||k(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,n){if(e){if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,n):void 0}}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var O=function(e){var n=e.visible,t=e.setVisible,l=e.yUserList,i=e.nUserList,u=e.setYUserList,m=e.setNUserList,c=e.findUserPage,N=w(Object(o.useState)([]),2),f=N[0],b=N[1],p=w(Object(o.useState)([]),2),d=p[0],_=p[1];Object(o.useEffect)((function(){_([]),b([])}),[n]);var k=function(e){return l&&l.some((function(n){return n.id===e.id}))},j={onChange:function(e,n){b(n),_(e)},getCheckboxProps:function(e){return{disabled:k(e)}},selectedRowKeys:d};return s.a.createElement("div",{className:"pipeline-user-add mf",__source:{fileName:h,lineNumber:102,columnNumber:9}},s.a.createElement(r.default,{placeholder:"名称",prefix:s.a.createElement(v.default,{__source:{fileName:h,lineNumber:105,columnNumber:25}}),onChange:function(e){c({nickname:e.target.value}).then((function(e){0===e.code&&m(e.data&&e.data.dataList)}))},__source:{fileName:h,lineNumber:103,columnNumber:13}}),s.a.createElement("div",{className:"pipeline-user-add-table",__source:{fileName:h,lineNumber:108,columnNumber:13}},s.a.createElement(a.default,{rowKey:function(e){return e.id},rowSelection:j,onRow:function(e){return{onClick:function(){return function(e){k(e)||(d.indexOf(e.id)>=0?(f.splice(f.indexOf(e.id),1),d.splice(d.indexOf(e.id),1)):(d.push(e.id),f.push(e)),_(g(d)),b(g(f)))}(e)}}},columns:[{title:"昵称",dataIndex:"nickname",key:"nickname"}],dataSource:i,pagination:!1,locale:{emptyText:s.a.createElement(E.a,{__source:{fileName:h,lineNumber:122,columnNumber:41}})},__source:{fileName:h,lineNumber:109,columnNumber:17}})),s.a.createElement("div",{className:"pipeline-user-add-btn",__source:{fileName:h,lineNumber:125,columnNumber:13}},s.a.createElement(y.a,{onClick:function(){return t(!1)},title:"取消",isMar:!0,__source:{fileName:h,lineNumber:126,columnNumber:17}}),s.a.createElement(y.a,{onClick:function(){var e=f.map((function(e){return e.id}));u(l.concat(f)),m(i.filter((function(n){return!e.includes(n.id)}))),t(!1)},title:"确定",type:"primary",__source:{fileName:h,lineNumber:127,columnNumber:17}})))},S=t(464),C="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\pipeline\\pipeline\\components\\PipelineAddInfo.js";function x(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,l=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return l}(e,n)||I(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){if(e){if("string"==typeof e)return P(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,n):void 0}}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}n.a=Object(d.observer)((function(e){var n=e.set,t=e.pipelineStore,d=e.setCurrent,v=e.onClick,h=e.setBaseInfo,g=t.pipeline,w=t.pipelineList,k=t.findUserPage,j=t.updatePipeline,I=t.findUserPipeline,P=A(c.default.useForm(),1)[0],U=Object(_.getUser)().userId,L=A(Object(o.useState)(1),2),T=L[0],F=L[1],D=A(Object(o.useState)(1),2),M=D[0],z=D[1],V=A(Object(o.useState)([]),2),B=V[0],R=V[1],$=A(Object(o.useState)([]),2),J=$[0],K=$[1],H=A(Object(o.useState)([]),2),Y=H[0],Z=H[1],q=A(Object(o.useState)(!1),2),G=q[0],Q=q[1];Object(o.useEffect)((function(){n&&g&&(z(g.power),P.setFieldsValue({name:g.name}))}),[g]),Object(o.useEffect)((function(){n||(I(),k().then((function(e){var n=e.data&&e.data.dataList;0===e.code&&(R(n.filter((function(e){return e.id===U}))),K(n.filter((function(e){return e.id!==U}))))})))}),[]),Object(o.useEffect)((function(){var e=[];!n&&B&&B.map((function(n){n.id===U?e.push({id:n.id,adminRole:!0}):e.push({id:n.id,adminRole:!1})})),Z([].concat(e))}),[B]);var W=function(t){if(n){var r={id:g.id,name:""===t.name?g.name:t.name,power:M};j(r).then((function(n){0===n.code&&(""!==t.name&&(g.name=t.name),e.history.push("/index/pipeline/".concat(g.id,"/survey")))}))}else d(1),h({type:T,name:t.name,power:M,userList:Y})},X=[{id:1,title:"全局",icon:s.a.createElement(N.a,{__source:{fileName:C,lineNumber:158,columnNumber:18}}),desc:"公共项目，全部成员可见。不支持TFVC等某些功能。"},{id:2,title:"私有",icon:s.a.createElement(f.a,{__source:{fileName:C,lineNumber:164,columnNumber:18}}),desc:"只有您授予访问权限的人才能查看此项目。"}],ee=s.a.createElement("div",{className:"pipeline-add-type",__source:{fileName:C,lineNumber:170,columnNumber:9}},s.a.createElement("div",{className:"pipeline-type-title",__source:{fileName:C,lineNumber:171,columnNumber:13}},"流水线类型"),s.a.createElement("div",{className:"pipeline-type-ul",__source:{fileName:C,lineNumber:172,columnNumber:13}},s.a.createElement("div",{onClick:function(){return F(1)},className:"".concat(1===T?"pipeline-type-li pipeline-type-select":"pipeline-type-li"),__source:{fileName:C,lineNumber:173,columnNumber:17}},"多任务"),s.a.createElement("div",{onClick:function(){return F(2)},className:"".concat(2===T?"pipeline-type-li pipeline-type-select":"pipeline-type-li"),__source:{fileName:C,lineNumber:178,columnNumber:17}},"多阶段"))),ne=function(e){return s.a.createElement("div",{className:"pipeline-power",__source:{fileName:C,lineNumber:189,columnNumber:17}},s.a.createElement("div",{className:"pipeline-power-title",__source:{fileName:C,lineNumber:190,columnNumber:13}},"流水线权限"),s.a.createElement("div",{className:"pipeline-power-content",__source:{fileName:C,lineNumber:191,columnNumber:13}},e.map((function(e){return s.a.createElement("div",{key:e.id,className:"pipeline-power-item ".concat(n?"pipeline-power-set":"pipeline-power-noSet"," ").concat(M===e.id?"pipeline-power-select":""),onClick:function(){return z(e.id)},__source:{fileName:C,lineNumber:194,columnNumber:32}},s.a.createElement("div",{className:"power-item",__source:{fileName:C,lineNumber:199,columnNumber:29}},s.a.createElement("div",{__source:{fileName:C,lineNumber:200,columnNumber:33}},s.a.createElement("div",{className:"power-title power-icon",__source:{fileName:C,lineNumber:201,columnNumber:37}},e.icon),s.a.createElement("div",{className:"power-title power-name",__source:{fileName:C,lineNumber:202,columnNumber:37}},e.title)),M===e.id&&s.a.createElement("div",{className:"power-select-show",__source:{fileName:C,lineNumber:206,columnNumber:37}})),s.a.createElement("div",{className:"power-desc",__source:{fileName:C,lineNumber:209,columnNumber:29}},e.desc))}))))},te=[{title:"昵称",dataIndex:"nickname",key:"nickname",width:"40%",ellipsis:!0},{title:"名称",dataIndex:"name",key:"name",width:"30%",ellipsis:!0,render:function(e,n){return s.a.createElement(m.default,{__source:{fileName:C,lineNumber:232,columnNumber:25}},s.a.createElement(S.a,{userInfo:n,__source:{fileName:C,lineNumber:233,columnNumber:29}}),e)}},{title:"权限",dataIndex:"power",key:"power",width:"25",ellipsis:!0,render:function(e,n){return s.a.createElement(u.default,{defaultValue:n.id===U?"1":"2",bordered:!1,showarrow:"false",style:{width:120},disabled:n.id===U,onChange:function(e){return function(e,n){"1"===n&&(n=!0),"2"===n&&(n=!1),Y&&Y.map((function(t){t.id===e.id&&(t.adminRole=n)})),Z(x(Y))}(n,e)},__source:{fileName:C,lineNumber:245,columnNumber:17}},s.a.createElement(u.default.Option,{value:"1",__source:{fileName:C,lineNumber:253,columnNumber:21}},"管理员角色"),s.a.createElement(u.default.Option,{value:"2",__source:{fileName:C,lineNumber:254,columnNumber:21}},"默认角色"))}},{title:"操作",dataIndex:"action",key:"action",width:"5%",ellipsis:!0,render:function(e,n){if(n.id!==U)return s.a.createElement(i.default,{title:"移出用户",__source:{fileName:C,lineNumber:266,columnNumber:28}},s.a.createElement(b.default,{onClick:function(){return function(e,n){R(B.filter((function(e){return e.id!==n.id}))),K(J.concat([n]))}(0,n)},__source:{fileName:C,lineNumber:267,columnNumber:25}}))}}],re=function(e){var n;return e&&(n=[{max:30,message:"请输入1~31位以内的名称"},{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_-]{0,}$/,message:"流水线名称不能包含非法字符，如&,%，&，#……等"},function(e){e.getFieldValue;return{validator:function(e,n){var t=[];w&&(t=(w&&w.map((function(e){return e.name}))).filter((function(e){return e!==g.name})));return t.includes(n)?Promise.reject("名称已经存在"):Promise.resolve()}}}]),e||(n=[{required:!0,message:"名称不能为空"},{max:30,message:"请输入1~31位以内的名称"},{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_-]{0,}$/,message:"流水线名称不能包含非法字符，如&,%，&，#……等"},function(e){e.getFieldValue;return{validator:function(e,n){var t=[];return w&&(t=w&&w.map((function(e){return e.name}))),t.includes(n)?Promise.reject("名称已经存在"):Promise.resolve()}}}]),n};return n?s.a.createElement(s.a.Fragment,null,s.a.createElement(c.default,{form:P,autoComplete:"off",layout:"vertical",__source:{fileName:C,lineNumber:366,columnNumber:13}},s.a.createElement(c.default.Item,{label:"流水线名称",name:"name",rules:re(n),__source:{fileName:C,lineNumber:367,columnNumber:17}},s.a.createElement(r.default,{allowClear:!0,style:n?{width:612}:{background:"#fff"},__source:{fileName:C,lineNumber:368,columnNumber:21}}))),ne(X),s.a.createElement(y.a,{onClick:v,title:"取消",isMar:!0,__source:{fileName:C,lineNumber:372,columnNumber:13}}),s.a.createElement(y.a,{type:"primary",title:"确定",onClick:function(){P.validateFields().then((function(e){W(e),P.resetFields()}))},__source:{fileName:C,lineNumber:373,columnNumber:13}})):s.a.createElement(s.a.Fragment,null,s.a.createElement(c.default,{form:P,autoComplete:"off",layout:"vertical",__source:{fileName:C,lineNumber:389,columnNumber:13}},s.a.createElement(c.default.Item,{label:"流水线名称",name:"name",rules:re(n),__source:{fileName:C,lineNumber:390,columnNumber:17}},s.a.createElement(r.default,{allowClear:!0,style:n?{width:612}:{background:"#fff"},__source:{fileName:C,lineNumber:391,columnNumber:21}}))),ee,ne(X),2===M&&s.a.createElement("div",{className:"pipeline-user",__source:{fileName:C,lineNumber:277,columnNumber:13}},s.a.createElement("div",{className:"pipeline-user-title",__source:{fileName:C,lineNumber:278,columnNumber:17}},s.a.createElement("div",{__source:{fileName:C,lineNumber:279,columnNumber:21}},"流水线成员"),s.a.createElement(l.default,{overlay:s.a.createElement(O,{visible:G,setVisible:Q,nUserList:J,yUserList:B,setYUserList:R,setNUserList:K,findUserPage:k,__source:{fileName:C,lineNumber:281,columnNumber:25}}),placement:"bottomRight",visible:G,trigger:["click"],onVisibleChange:function(e){return Q(e)},__source:{fileName:C,lineNumber:280,columnNumber:21}},s.a.createElement(y.a,{title:"添加成员",icon:s.a.createElement(p.default,{__source:{fileName:C,lineNumber:295,columnNumber:51}}),type:"link",__source:{fileName:C,lineNumber:295,columnNumber:25}}))),s.a.createElement("div",{className:"pipeline-user-table",__source:{fileName:C,lineNumber:298,columnNumber:17}},s.a.createElement(a.default,{rowKey:function(e){return e.id},columns:te,dataSource:B,pagination:!1,showHeader:!1,locale:{emptyText:s.a.createElement(E.a,{__source:{fileName:C,lineNumber:305,columnNumber:45}})},__source:{fileName:C,lineNumber:299,columnNumber:21}}))),s.a.createElement(y.a,{onClick:function(){return e.history.push("/index/pipeline")},title:"取消",isMar:!0,__source:{fileName:C,lineNumber:397,columnNumber:13}}),s.a.createElement(y.a,{type:"primary",title:"下一步",onClick:function(){P.validateFields().then((function(e){W(e),P.resetFields()}))},__source:{fileName:C,lineNumber:402,columnNumber:13}}))}))},929:function(e,n,t){"use strict";t.r(n);t(862);var r=t(754),a=t(0),l=t.n(a),i=t(61),u=t(459),m=t(448),c=t(415),o="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\pipeline\\pipeline\\components\\PipelineAddMould.js",s=function(e){var n=e.item,t=e.templateType,r=e.changTemplate,a=function(e){return l.a.createElement("div",{className:"li-step",__source:{fileName:o,lineNumber:15,columnNumber:17}},l.a.createElement("span",{className:"li-step-name",__source:{fileName:o,lineNumber:16,columnNumber:21}},e))};return l.a.createElement("div",{className:"".concat(t===n.type?"pipeline-template-li pipeline-template-select":"pipeline-template-li"),onClick:function(){return r(n.type)},__source:{fileName:o,lineNumber:21,columnNumber:9}},l.a.createElement("div",{__source:{fileName:o,lineNumber:25,columnNumber:13}},l.a.createElement("div",{className:"pipeline-template-li-header",__source:{fileName:o,lineNumber:26,columnNumber:17}},l.a.createElement("span",{className:"li-header-icon",__source:{fileName:o,lineNumber:27,columnNumber:21}},l.a.createElement(c.a,{__source:{fileName:o,lineNumber:27,columnNumber:54}})),l.a.createElement("span",{className:"li-header-name",__source:{fileName:o,lineNumber:28,columnNumber:21}},n.title,"-",n.brand),l.a.createElement("span",{__source:{fileName:o,lineNumber:29,columnNumber:21}},"部署到"),l.a.createElement("span",{className:"li-header-title",__source:{fileName:o,lineNumber:30,columnNumber:21}},n.desc),l.a.createElement("span",{__source:{fileName:o,lineNumber:31,columnNumber:21}},"环境")),l.a.createElement("div",{className:"pipeline-template-li-content",__source:{fileName:o,lineNumber:33,columnNumber:17}},n.zreo?a(n.zreo):null,a(n.first),a(n.second))))},N=t(570),f=t(466),b="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\pipeline\\pipeline\\components\\pipelineAdd.js";function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){y(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,l=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return l}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return E(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}n.default=Object(i.inject)("pipelineStore")(Object(i.observer)((function(e){var n=e.pipelineStore,t=n.createPipeline,i=n.isLoading,c=v(Object(a.useState)(0),2),o=c[0],d=c[1],y=v(Object(a.useState)(1),2),E=y[0],h=y[1],g=v(Object(a.useState)({}),2),w=g[0],k=g[1],j=function(e){h(e)},O=l.a.createElement("div",{className:"pipeline-template",__source:{fileName:b,lineNumber:114,columnNumber:12}},l.a.createElement("div",{className:"template-base",__source:{fileName:b,lineNumber:115,columnNumber:16}},l.a.createElement("span",{__source:{fileName:b,lineNumber:116,columnNumber:20}},"流水线名称："),l.a.createElement("span",{__source:{fileName:b,lineNumber:117,columnNumber:20}},w.name)),l.a.createElement("div",{className:"template-base",__source:{fileName:b,lineNumber:119,columnNumber:16}},l.a.createElement("span",{__source:{fileName:b,lineNumber:120,columnNumber:20}},"流水线类型："),l.a.createElement("span",{__source:{fileName:b,lineNumber:121,columnNumber:20}},1===w.type?"多任务":"多阶段")),l.a.createElement("div",{className:"template-base",__source:{fileName:b,lineNumber:123,columnNumber:16}},l.a.createElement("span",{__source:{fileName:b,lineNumber:124,columnNumber:20}},"流水线权限："),l.a.createElement("span",{__source:{fileName:b,lineNumber:125,columnNumber:20}}," ",1===w.power?"全局":"私有")),l.a.createElement("div",{className:"pipeline-template-ul",__source:{fileName:b,lineNumber:127,columnNumber:16}},l.a.createElement("div",{className:"pipeline-template-title",__source:{fileName:b,lineNumber:128,columnNumber:20}},"流水线模板"),l.a.createElement("div",{className:"".concat(1===E?"pipeline-template-li pipeline-template-select":"pipeline-template-li"),onClick:function(){return j(1)},__source:{fileName:b,lineNumber:129,columnNumber:20}},l.a.createElement("div",{className:"li-self",__source:{fileName:b,lineNumber:133,columnNumber:24}},"自定义")),[{id:2,title:"Java",brand:"Maven",desc:"Linux",first:"Maven构建",second:"部署",type:2131},{id:4,title:"Java",brand:"Maven",desc:"Linux",zreo:"测试",first:"构建",second:"部署",type:112131},{id:6,title:"Node.js",brand:"npm",desc:"Linux",first:"构建",second:"部署",type:2231}].map((function(e,n){return l.a.createElement(s,{item:e,key:e.id,templateType:E,changTemplate:j,__source:{fileName:b,lineNumber:137,columnNumber:36}})})))),S=l.a.createElement(N.a,p({},e,{pipelineStore:n,setCurrent:d,setBaseInfo:k,set:!1,__source:{fileName:b,lineNumber:151,columnNumber:9}})),C=1===o&&l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{onClick:function(){return e.history.push("/index/pipeline")},title:"取消",isMar:!0,__source:{fileName:b,lineNumber:164,columnNumber:13}}),l.a.createElement(m.a,{onClick:function(){return d(0)},title:"上一步",isMar:!0,__source:{fileName:b,lineNumber:169,columnNumber:13}}),l.a.createElement(m.a,{type:"primary",onClick:function(){return n=_(_({},w),{},{template:E}),void t(n).then((function(n){0===n.code&&n.data&&e.history.push("/index/pipeline/".concat(n.data,"/config"))}));var n},title:"确定",__source:{fileName:b,lineNumber:174,columnNumber:13}})),x=[{title:"完善信息",content:S},{title:"选择模板",content:O}];return l.a.createElement("div",{className:"pipeline-add mf",__source:{fileName:b,lineNumber:194,columnNumber:12}},l.a.createElement("div",{className:"pipeline-add-content",__source:{fileName:b,lineNumber:195,columnNumber:9}},l.a.createElement(u.a,{firstItem:"新建流水线",goBack:function(){return e.history.push("/index/pipeline")},__source:{fileName:b,lineNumber:196,columnNumber:13}}),l.a.createElement("div",{className:"steps-top",__source:{fileName:b,lineNumber:197,columnNumber:13}},l.a.createElement(r.a,{current:o,__source:{fileName:b,lineNumber:198,columnNumber:17}},x.map((function(e){return l.a.createElement(r.a.Step,{key:e.title,title:e.title,__source:{fileName:b,lineNumber:200,columnNumber:25}})})))),l.a.createElement("div",{className:"steps-content",__source:{fileName:b,lineNumber:204,columnNumber:13}},x[o].content),l.a.createElement("div",{className:"steps-bottom",__source:{fileName:b,lineNumber:207,columnNumber:13}},C),i&&l.a.createElement(f.a,{__source:{fileName:b,lineNumber:210,columnNumber:28}})))})))}}]);