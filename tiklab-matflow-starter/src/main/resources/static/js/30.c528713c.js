(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{110:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return _}));var r,i=n(0),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=i.createContext(null),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){return i.createElement(a.Provider,{value:this.props.store},this.props.children)},t}(i.Component),o=n(124),c=n.n(o),m=n(213),s=n.n(m),f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var d=function(){return{}};function p(e,t){void 0===t&&(t={});var n=!!e,r=e||d;return function(l){var u=function(t){function u(e,n){var i=t.call(this,e,n)||this;return i.unsubscribe=null,i.handleChange=function(){if(i.unsubscribe){var e=r(i.store.getState(),i.props);i.setState({subscribed:e})}},i.store=i.context,i.state={subscribed:r(i.store.getState(),e),store:i.store,props:e},i}return f(u,t),u.getDerivedStateFromProps=function(t,n){return e&&2===e.length&&t!==n.props?{subscribed:r(n.store.getState(),t),props:t}:{props:t}},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},u.prototype.shouldComponentUpdate=function(e,t){return!c()(this.props,e)||!c()(this.state.subscribed,t.subscribed)},u.prototype.trySubscribe=function(){n&&(this.unsubscribe=this.store.subscribe(this.handleChange),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.render=function(){var e=b(b(b({},this.props),this.state.subscribed),{store:this.store});return i.createElement(l,b({},e,{ref:this.props.miniStoreForwardedRef}))},u.displayName="Connect("+function(e){return e.displayName||e.name||"Component"}(l)+")",u.contextType=a,u}(i.Component);if(t.forwardRef){var o=i.forwardRef((function(e,t){return i.createElement(u,b({},e,{miniStoreForwardedRef:t}))}));return s()(o,l)}return s()(u,l)}}var N=function(){return(N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function _(e){var t=e,n=[];return{setState:function(e){t=N(N({},t),e);for(var r=0;r<n.length;r++)n[r]()},getState:function(){return t},subscribe:function(e){return n.push(e),function(){var t=n.indexOf(e);n.splice(t,1)}}}}},124:function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),o=0;o<l.length;o++){var c=l[o];if(!u(c))return!1;var m=e[c],s=t[c];if(!1===(i=n?n.call(r,m,s,c):void 0)||void 0===i&&m!==s)return!1}return!0}},383:function(e,t,n){"use strict";n(29);var r=n(9),i=n(0),l=n.n(i),a="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\btn\\Btn.js";t.a=function(e){var t=e.icon,n=e.type,i=e.title,u=e.onClick,o=e.isMar;return l.a.createElement("div",{className:"mf-btn ".concat(n?"mf-btn-".concat(n):""," ").concat(o?"mf-btn-mar":""),onClick:u,__source:{fileName:a,lineNumber:18,columnNumber:9}},l.a.createElement(r.default,{__source:{fileName:a,lineNumber:19,columnNumber:13}},t&&l.a.createElement("span",{className:"mf-btn-icon",__source:{fileName:a,lineNumber:21,columnNumber:30}},t),i))}},384:function(e,t,n){"use strict";var r=n(0),i=n.n(r),l="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\emptyText\\EmptyText.js";t.a=function(e){var t=e.title;return i.a.createElement("div",{style:{textAlign:"center"},__source:{fileName:l,lineNumber:13,columnNumber:13}},i.a.createElement("svg",{className:"icon","aria-hidden":"true",style:{height:50,width:50},__source:{fileName:l,lineNumber:14,columnNumber:17}},i.a.createElement("use",{xlinkHref:"#icon-meiyouxiangguan",__source:{fileName:l,lineNumber:15,columnNumber:21}})),i.a.createElement("div",{style:{fontSize:13,color:"#999"},__source:{fileName:l,lineNumber:17,columnNumber:17}},t||"暂无数据"))}},391:function(e,t,n){"use strict";n(29);var r=n(9),i=n(0),l=n.n(i),a=n(205),u="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\breadcrumb\\Breadcrumb.js";t.a=function(e){var t=e.firstItem,n=e.secondItem,i=e.goBack;return l.a.createElement("div",{className:"breadcrumbContent",__source:{fileName:u,lineNumber:16,columnNumber:13}},l.a.createElement(r.default,{__source:{fileName:u,lineNumber:17,columnNumber:17}},i&&l.a.createElement(a.default,{onClick:i,style:{color:"#0063FF"},__source:{fileName:u,lineNumber:18,columnNumber:32}}),l.a.createElement("span",{className:n?"breadcrumbContent-span":"",__source:{fileName:u,lineNumber:19,columnNumber:21}},t),n&&l.a.createElement("span",{__source:{fileName:u,lineNumber:22,columnNumber:36}}," /   ",n)))}},392:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function i(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function l(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return i(n.overflowY,t)||i(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function a(e,t,n,r,i,l,a,u){return l<e&&a>t||l>e&&a<t?0:l<=e&&u<=n||a>=t&&u>=n?l-e-r:a>t&&u<n||l<e&&u>n?a-t+i:0}var u=function(e,t){var n=window,i=t.scrollMode,u=t.block,o=t.inline,c=t.boundary,m=t.skipOverflowHiddenElements,s="function"==typeof c?c:function(e){return e!==c};if(!r(e))throw new TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,b=[],d=e;r(d)&&s(d);){if((d=d.parentElement)===f){b.push(d);break}null!=d&&d===document.body&&l(d)&&!l(document.documentElement)||null!=d&&l(d,m)&&b.push(d)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,N=n.visualViewport?n.visualViewport.height:innerHeight,_=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,h=e.getBoundingClientRect(),v=h.height,E=h.width,g=h.top,w=h.right,k=h.bottom,j=h.left,O="start"===u||"nearest"===u?g:"end"===u?k:g+v/2,S="center"===o?j+E/2:"end"===o?w:j,C=[],x=0;x<b.length;x++){var I=b[x],A=I.getBoundingClientRect(),D=A.height,R=A.width,P=A.top,T=A.right,U=A.bottom,L=A.left;if("if-needed"===i&&g>=0&&j>=0&&k<=N&&w<=p&&g>=P&&k<=U&&j>=L&&w<=T)return C;var M=getComputedStyle(I),F=parseInt(M.borderLeftWidth,10),V=parseInt(M.borderTopWidth,10),W=parseInt(M.borderRightWidth,10),H=parseInt(M.borderBottomWidth,10),B=0,z=0,Y="offsetWidth"in I?I.offsetWidth-I.clientWidth-F-W:0,$="offsetHeight"in I?I.offsetHeight-I.clientHeight-V-H:0;if(f===I)B="start"===u?O:"end"===u?O-N:"nearest"===u?a(y,y+N,N,V,H,y+O,y+O+v,v):O-N/2,z="start"===o?S:"center"===o?S-p/2:"end"===o?S-p:a(_,_+p,p,F,W,_+S,_+S+E,E),B=Math.max(0,B+y),z=Math.max(0,z+_);else{B="start"===u?O-P-V:"end"===u?O-U+H+$:"nearest"===u?a(P,U,D,V,H+$,O,O+v,v):O-(P+D/2)+$/2,z="start"===o?S-L-F:"center"===o?S-(L+R/2)+Y/2:"end"===o?S-T+W+Y:a(L,T,R,F,W+Y,S,S+E,E);var K=I.scrollLeft,X=I.scrollTop;O+=X-(B=Math.max(0,Math.min(X+B,I.scrollHeight-D+$))),S+=K-(z=Math.max(0,Math.min(K+z,I.scrollWidth-R+Y)))}C.push({el:I,top:B,left:z})}return C};function o(e){return e===Object(e)&&0!==Object.keys(e).length}t.a=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(o(t)&&"function"==typeof t.behavior)return t.behavior(n?u(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:o(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,l=e.left;r.scroll&&n?r.scroll({top:i,left:l,behavior:t}):(r.scrollTop=i,r.scrollLeft=l)}))}(u(e,r),r.behavior)}}},394:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return m}));n(399);var r=n(397),i=n(0),l=n.n(i),a=n(219),u="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\loading\\Loading.js",o=function(e){return l.a.createElement("div",{className:"mf-loading",__source:{fileName:u,lineNumber:14,columnNumber:9}},l.a.createElement("div",{className:"mf-shape",__source:{fileName:u,lineNumber:15,columnNumber:13}}),l.a.createElement("div",{className:"mf-shape",__source:{fileName:u,lineNumber:16,columnNumber:13}}),l.a.createElement("div",{className:"mf-shape",__source:{fileName:u,lineNumber:17,columnNumber:13}}))},c=function(e){var t=e.size;return"table"===e.type?l.a.createElement("div",{style:{textAlign:"center",paddingTop:30},__source:{fileName:u,lineNumber:32,columnNumber:17}},l.a.createElement(r.a,{size:t||"default ",__source:{fileName:u,lineNumber:33,columnNumber:21}})):l.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},__source:{fileName:u,lineNumber:37,columnNumber:13}},l.a.createElement(r.a,{size:t||"default ",__source:{fileName:u,lineNumber:38,columnNumber:17}}))},m=function(e){var t=e.title;return l.a.createElement("div",{className:"mf-server-loading",__source:{fileName:u,lineNumber:51,columnNumber:9}},l.a.createElement("div",{className:"server-loading-content",__source:{fileName:u,lineNumber:52,columnNumber:13}},l.a.createElement(r.a,{indicator:l.a.createElement(a.a,{style:{fontSize:14},__source:{fileName:u,lineNumber:53,columnNumber:34}}),__source:{fileName:u,lineNumber:53,columnNumber:17}}),l.a.createElement("span",{className:"loading-content-title",__source:{fileName:u,lineNumber:54,columnNumber:17}},t)))}},493:function(e,t,n){"use strict";n(52);var r=n(22),i=(n(49),n(26)),l=(n(136),n(96)),a=(n(86),n(23)),u=(n(109),n(47)),o=(n(29),n(9)),c=(n(80),n(18)),m=n(0),s=n.n(m),f=n(839),b=n(840),d=n(279),p=n(220),N=n(34),_=n(2),y=n(383),h=n(394),v=n(278),E=n(384),g="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\pipeline\\pipeline\\components\\PipelineUserAdd.js";function w(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,l=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return l}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.visible,n=e.setVisible,l=e.yUserList,a=e.nUserList,u=e.setYUserList,o=e.setNUserList,c=e.findUserPage,f=k(Object(m.useState)([]),2),b=f[0],d=f[1],p=k(Object(m.useState)([]),2),N=p[0],_=p[1];Object(m.useEffect)((function(){_([]),d([])}),[t]);var h=function(e){return l&&l.some((function(t){return t.id===e.id}))},j={onChange:function(e,t){d(t),_(e)},getCheckboxProps:function(e){return{disabled:h(e)}},selectedRowKeys:N};return s.a.createElement("div",{className:"pipeline-user-add mf",__source:{fileName:g,lineNumber:102,columnNumber:9}},s.a.createElement(r.default,{placeholder:"名称",prefix:s.a.createElement(v.default,{__source:{fileName:g,lineNumber:105,columnNumber:25}}),onChange:function(e){c({nickname:e.target.value}).then((function(e){0===e.code&&o(e.data&&e.data.dataList)}))},__source:{fileName:g,lineNumber:103,columnNumber:13}}),s.a.createElement("div",{className:"pipeline-user-add-table",__source:{fileName:g,lineNumber:108,columnNumber:13}},s.a.createElement(i.default,{rowKey:function(e){return e.id},rowSelection:j,onRow:function(e){return{onClick:function(){return function(e){h(e)||(N.indexOf(e.id)>=0?(b.splice(b.indexOf(e.id),1),N.splice(N.indexOf(e.id),1)):(N.push(e.id),b.push(e)),_(w(N)),d(w(b)))}(e)}}},columns:[{title:"昵称",dataIndex:"nickname",key:"nickname"}],dataSource:a,pagination:!1,locale:{emptyText:s.a.createElement(E.a,{__source:{fileName:g,lineNumber:122,columnNumber:41}})},__source:{fileName:g,lineNumber:109,columnNumber:17}})),s.a.createElement("div",{className:"pipeline-user-add-btn",__source:{fileName:g,lineNumber:125,columnNumber:13}},s.a.createElement(y.a,{onClick:function(){return n(!1)},title:"取消",isMar:!0,__source:{fileName:g,lineNumber:126,columnNumber:17}}),s.a.createElement(y.a,{onClick:function(){var e=b.map((function(e){return e.id}));u(l.concat(b)),o(a.filter((function(t){return!e.includes(t.id)}))),n(!1)},title:"确定",type:"primary",__source:{fileName:g,lineNumber:127,columnNumber:17}})))},C="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\pipeline\\pipeline\\components\\PipelineAddInfo.js";function x(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,l=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return l}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=Object(N.inject)("pipelineStore")(Object(N.observer)((function(e){var t=e.set,n=e.pipelineStore,N=e.setCurrent,v=e.templateLis,g=e.templateType,w=e.pipelineType,k=e.onClick,j=n.pipeline,O=n.pipelineList,A=n.findUserPage,D=n.createPipeline,R=n.isLoading,P=n.updatePipeline,T=n.findUserPipeline,U=I(c.default.useForm(),1)[0],L=Object(_.getUser)().userId,M=I(Object(m.useState)(1),2),F=M[0],V=M[1],W=I(Object(m.useState)([]),2),H=W[0],B=W[1],z=I(Object(m.useState)([]),2),Y=z[0],$=z[1],K=I(Object(m.useState)([]),2),X=K[0],J=K[1],Z=I(Object(m.useState)(!1),2),q=Z[0],G=Z[1];Object(m.useEffect)((function(){t&&j&&(V(j.power),U.setFieldsValue({name:j.name}))}),[j]),Object(m.useEffect)((function(){t||(T(),A().then((function(e){var t=e.data&&e.data.dataList;0===e.code&&(B(t.filter((function(e){return e.id===L}))),$(t.filter((function(e){return e.id!==L}))))})))}),[]),Object(m.useEffect)((function(){var e=[];!t&&H&&H.map((function(t){t.id===L?e.push({id:t.id,adminRole:!0}):e.push({id:t.id,adminRole:!1})})),J([].concat(e))}),[H]);var Q=[{id:1,title:"全局",icon:s.a.createElement(f.a,{__source:{fileName:C,lineNumber:159,columnNumber:18}}),desc:"公共项目，全部成员可见。不支持TFVC等某些功能。"},{id:2,title:"私有",icon:s.a.createElement(b.a,{__source:{fileName:C,lineNumber:165,columnNumber:18}}),desc:"只有您授予访问权限的人才能查看此项目。"}],ee=[{title:"昵称",dataIndex:"nickname",key:"nickname",width:"40%",ellipsis:!0},{title:"名称",dataIndex:"name",key:"name",width:"30%",ellipsis:!0,render:function(e,t){return s.a.createElement(o.default,{__source:{fileName:C,lineNumber:215,columnNumber:25}},e)}},{title:"权限",dataIndex:"power",key:"power",width:"25",ellipsis:!0,render:function(e,t){return s.a.createElement(u.default,{defaultValue:t.id===L?"1":"2",bordered:!1,showarrow:"false",style:{width:120},disabled:t.id===L,onChange:function(e){return function(e,t){"1"===t&&(t=!0),"2"===t&&(t=!1),X&&X.map((function(n){n.id===e.id&&(n.adminRole=t)})),J(x(X))}(t,e)},__source:{fileName:C,lineNumber:228,columnNumber:17}},s.a.createElement(u.default.Option,{value:"1",__source:{fileName:C,lineNumber:236,columnNumber:21}},"管理员角色"),s.a.createElement(u.default.Option,{value:"2",__source:{fileName:C,lineNumber:237,columnNumber:21}},"默认角色"))}},{title:"操作",dataIndex:"action",key:"action",width:"5%",ellipsis:!0,render:function(e,t){if(t.id!==L)return s.a.createElement(a.default,{title:"移出用户",__source:{fileName:C,lineNumber:249,columnNumber:28}},s.a.createElement(d.default,{onClick:function(){return function(e,t){B(H.filter((function(e){return e.id!==t.id}))),$(Y.concat([t]))}(0,t)},__source:{fileName:C,lineNumber:250,columnNumber:25}}))}}];return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.default,{form:U,autoComplete:"off",layout:"vertical",__source:{fileName:C,lineNumber:349,columnNumber:13}},s.a.createElement(c.default.Item,{label:"流水线名称",name:"name",rules:function(e){var t;return e&&(t=[{max:30,message:"请输入1~31位以内的名称"},{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_-]{0,}$/,message:"流水线名称不能包含非法字符，如&,%，&，#……等"},function(e){e.getFieldValue;return{validator:function(e,t){var n=[];O&&(n=(O&&O.map((function(e){return e.name}))).filter((function(e){return e!==j.name})));return n.includes(t)?Promise.reject("名称已经存在"):Promise.resolve()}}}]),e||(t=[{required:!0,message:"名称不能为空"},{max:30,message:"请输入1~31位以内的名称"},{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_-]{0,}$/,message:"流水线名称不能包含非法字符，如&,%，&，#……等"},function(e){e.getFieldValue;return{validator:function(e,t){var n=[];return O&&(n=O&&O.map((function(e){return e.name}))),n.includes(t)?Promise.reject("名称已经存在"):Promise.resolve()}}}]),t}(t),__source:{fileName:C,lineNumber:350,columnNumber:17}},s.a.createElement(r.default,{allowClear:!0,style:t?{width:612}:{background:"#fff"},__source:{fileName:C,lineNumber:351,columnNumber:21}}))),function(e){return s.a.createElement("div",{className:"pipeline-power",__source:{fileName:C,lineNumber:172,columnNumber:17}},s.a.createElement("div",{className:"pipeline-power-title",__source:{fileName:C,lineNumber:173,columnNumber:13}},"流水线权限"),s.a.createElement("div",{className:"pipeline-power-content",__source:{fileName:C,lineNumber:174,columnNumber:13}},e.map((function(e){return s.a.createElement("div",{key:e.id,className:"pipeline-power-item ".concat(t?"pipeline-power-set":"pipeline-power-noSet"," ").concat(F===e.id?"pipeline-power-select":""),onClick:function(){return V(e.id)},__source:{fileName:C,lineNumber:177,columnNumber:32}},s.a.createElement("div",{className:"power-item",__source:{fileName:C,lineNumber:182,columnNumber:29}},s.a.createElement("div",{__source:{fileName:C,lineNumber:183,columnNumber:33}},s.a.createElement("div",{className:"power-title power-icon",__source:{fileName:C,lineNumber:184,columnNumber:37}},e.icon),s.a.createElement("div",{className:"power-title power-name",__source:{fileName:C,lineNumber:185,columnNumber:37}},e.title)),F===e.id&&s.a.createElement("div",{className:"power-select-show",__source:{fileName:C,lineNumber:189,columnNumber:37}})),s.a.createElement("div",{className:"power-desc",__source:{fileName:C,lineNumber:192,columnNumber:29}},e.desc))}))))}(Q),!t&&2===F&&s.a.createElement("div",{className:"pipeline-user",__source:{fileName:C,lineNumber:260,columnNumber:13}},s.a.createElement("div",{className:"pipeline-user-title",__source:{fileName:C,lineNumber:261,columnNumber:17}},s.a.createElement("div",{__source:{fileName:C,lineNumber:262,columnNumber:21}},"流水线成员"),s.a.createElement(l.default,{overlay:s.a.createElement(S,{visible:q,setVisible:G,nUserList:Y,yUserList:H,setYUserList:B,setNUserList:$,findUserPage:A,__source:{fileName:C,lineNumber:264,columnNumber:25}}),placement:"bottomRight",visible:q,trigger:["click"],onVisibleChange:function(e){return G(e)},__source:{fileName:C,lineNumber:263,columnNumber:21}},s.a.createElement(y.a,{title:"添加成员",icon:s.a.createElement(p.default,{__source:{fileName:C,lineNumber:278,columnNumber:51}}),type:"link",__source:{fileName:C,lineNumber:278,columnNumber:25}}))),s.a.createElement("div",{className:"pipeline-user-table",__source:{fileName:C,lineNumber:281,columnNumber:17}},s.a.createElement(i.default,{rowKey:function(e){return e.id},columns:ee,dataSource:H,pagination:!1,showHeader:!1,locale:{emptyText:s.a.createElement(E.a,{__source:{fileName:C,lineNumber:288,columnNumber:45}})},__source:{fileName:C,lineNumber:282,columnNumber:21}}))),t?s.a.createElement(y.a,{onClick:k,title:"取消",isMar:!0,__source:{fileName:C,lineNumber:361,columnNumber:17}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,{onClick:function(){return e.history.push("/index/pipeline")},title:"取消",isMar:!0,__source:{fileName:C,lineNumber:364,columnNumber:21}}),s.a.createElement(y.a,{onClick:function(){return N(1)},title:"上一步",isMar:!0,__source:{fileName:C,lineNumber:365,columnNumber:21}})),s.a.createElement(y.a,{type:"primary",title:"确认",onClick:function(){U.validateFields().then((function(n){!function(n){if(t){var r={id:j.id,name:""===n.name?j.name:n.name,power:F};P(r).then((function(t){0===t.code&&(""!==n.name&&(j.name=n.name),e.history.push("/index/pipeline/".concat(j.id,"/survey")))}))}else{var i={type:w,template:0===g?1:v[g-1].type,name:n.name,power:F,userList:X};D(i).then((function(t){0===t.code&&t.data&&e.history.push("/index/pipeline/".concat(t.data,"/config"))}))}}(n),U.resetFields()}))},__source:{fileName:C,lineNumber:368,columnNumber:13}}),R&&s.a.createElement(h.a,{__source:{fileName:C,lineNumber:378,columnNumber:28}}))})))},824:function(e,t,n){"use strict";n.r(t);n(342);var r=n(228),i=(n(57),n(51)),l=n(0),a=n.n(l),u=n(241),o=n(287),c=n(279),m=n(504),s=n(501),f=n(34),b=n(383),d=n(391),p=n(493),N=n(394),_="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\pipeline\\setting\\basicInfo\\PipelineBasicInfo.js";function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,l=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=Object(f.inject)("pipelineStore")(Object(f.observer)((function(e){var t=e.pipelineStore,n=t.deletePipeline,f=t.pipeline,v=t.isLoading,E=h(Object(l.useState)([]),2),g=E[0],w=E[1],k=h(Object(l.useState)(1),2),j=k[0],O=k[1];Object(l.useEffect)((function(){f&&O(f&&f.power)}),[f]);var S=function(){n(f.id).then((function(t){e.history.push("/index/pipeline")}))},C=[{key:1,title:"流水线信息",desc:"更新流水线信息",icon:a.a.createElement(o.default,{__source:{fileName:_,lineNumber:66,columnNumber:19}}),enCode:"pipeline_update",content:a.a.createElement("div",{className:"bottom-rename",__source:{fileName:_,lineNumber:68,columnNumber:22}},a.a.createElement(p.a,y({},e,{powerType:j,setPowerType:O,set:!0,onClick:function(){return I(1)},__source:{fileName:_,lineNumber:69,columnNumber:25}})))},{key:2,title:"流水线删除",desc:"删除流水线",icon:a.a.createElement(c.default,{__source:{fileName:_,lineNumber:82,columnNumber:19}}),enCode:"pipeline_delete",content:a.a.createElement("div",{className:"bottom-delete",__source:{fileName:_,lineNumber:84,columnNumber:22}},a.a.createElement("div",{style:{color:"#ff0000",paddingBottom:5,fontSize:13},__source:{fileName:_,lineNumber:85,columnNumber:25}},"此操作无法恢复！请慎重操作！"),a.a.createElement(b.a,{onClick:function(){return I(2)},title:"取消",isMar:!0,__source:{fileName:_,lineNumber:88,columnNumber:25}}),a.a.createElement(b.a,{onClick:function(){i.default.confirm({title:"删除",icon:a.a.createElement(u.a,{__source:{fileName:_,lineNumber:44,columnNumber:19}}),content:"删除后数据无法恢复",onOk:function(){return S()},okText:"确认",cancelText:"取消"})},type:"dangerous",title:"删除",__source:{fileName:_,lineNumber:93,columnNumber:25}}))}],x=function(e){return g.some((function(t){return t===e}))},I=function(e){x(e)?w(g.filter((function(t){return t!==e}))):w(g.concat(e))},A=function(e){return a.a.createElement(r.a,{code:e.enCode,key:e.key,domainId:f.id,__source:{fileName:_,lineNumber:149,columnNumber:17}},function(e){return a.a.createElement("div",{key:e.key,className:"pipelineReDel-li",__source:{fileName:_,lineNumber:126,columnNumber:16}},a.a.createElement("div",{className:"pipelineReDel-li-top ".concat(x(e.key)?"pipelineReDel-li-select":""),onClick:function(){return I(e.key)},__source:{fileName:_,lineNumber:127,columnNumber:13}},a.a.createElement("div",{className:"pipelineReDel-li-icon",__source:{fileName:_,lineNumber:130,columnNumber:17}},e.icon),a.a.createElement("div",{className:"pipelineReDel-li-center",__source:{fileName:_,lineNumber:131,columnNumber:17}},a.a.createElement("div",{className:"pipelineReDel-li-title",__source:{fileName:_,lineNumber:132,columnNumber:21}},e.title),!x(e.key)&&a.a.createElement("div",{className:"pipelineReDel-li-desc",__source:{fileName:_,lineNumber:135,columnNumber:25}},e.desc)),a.a.createElement("div",{className:"pipelineReDel-li-down",__source:{fileName:_,lineNumber:138,columnNumber:17}},x(e.key)?a.a.createElement(m.a,{__source:{fileName:_,lineNumber:139,columnNumber:49}}):a.a.createElement(s.a,{__source:{fileName:_,lineNumber:139,columnNumber:66}}))),a.a.createElement("div",{className:"".concat(x(e.key)?"pipelineReDel-li-bottom":"pipelineReDel-li-none"),__source:{fileName:_,lineNumber:142,columnNumber:13}},x(e.key)&&e.content))}(e))};return a.a.createElement("div",{className:"pipelineReDel mf-home-limited mf",__source:{fileName:_,lineNumber:155,columnNumber:9}},a.a.createElement("div",{className:"pipelineReDel-up",__source:{fileName:_,lineNumber:156,columnNumber:13}},a.a.createElement(d.a,{firstItem:"流水线信息",__source:{fileName:_,lineNumber:157,columnNumber:17}})),a.a.createElement("div",{className:"pipelineReDel-content",__source:{fileName:_,lineNumber:159,columnNumber:13}},a.a.createElement("div",{className:"pipelineReDel-ul",__source:{fileName:_,lineNumber:160,columnNumber:17}},C.map((function(e){return A(e)})))),v&&a.a.createElement(N.a,{__source:{fileName:_,lineNumber:167,columnNumber:30}}))})))}}]);