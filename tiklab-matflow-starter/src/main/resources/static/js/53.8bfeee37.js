(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{263:function(e,t,r){"use strict";r.r(t),function(e){r(34);var n,l=r(15),i=(r(35),r(21)),o=(r(242),r(181)),a=(r(57),r(6)),u=r(0),c=r.n(u),m=r(370),s=r(763),d=r(237),f=r(192),p=r(979),b=r(16),N=(r(899),r(617)),v="D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\projectSetReDel.js";function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){a=!0,l=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},w=function(e){var t=e.pipelineStore,r=t.deletePipeline,n=t.updatePipeline,b=t.pipelineList,_=t.pipelineId,y=t.pipeline,w=t.setPipelineName,g=h(Object(u.useState)([]),2),E=g[0],j=g[1],k=h(a.a.useForm(),1)[0],D=[{key:1,title:"修改流水线名称",icon:c.a.createElement(d.a,{__source:{fileName:v,lineNumber:65,columnNumber:19}}),content:c.a.createElement("div",{className:"bottom-rename",__source:{fileName:v,lineNumber:66,columnNumber:22}},c.a.createElement(N.a,{form:k,re:function(t){var r={pipelineId:_,pipelineName:t.pipelineName};n(r).then((function(r){0===r.code&&(w(t.pipelineName),e.history.push("/index/task/".concat(_,"/work")))})).catch((function(e){console.log(e)}))},pipelineList:b,layout:"inline",pipeline:y,__source:{fileName:v,lineNumber:67,columnNumber:17}}))},{key:2,title:"删除流水线",icon:c.a.createElement(f.a,{__source:{fileName:v,lineNumber:79,columnNumber:19}}),content:c.a.createElement("div",{className:"bottom-delete",__source:{fileName:v,lineNumber:80,columnNumber:22}},c.a.createElement("div",{style:{color:"#ff0000",paddingBottom:5,fontSize:13},__source:{fileName:v,lineNumber:81,columnNumber:25}},"此操作无法恢复！请慎重操作！"),c.a.createElement(l.a,{type:"primary",danger:!0,onClick:function(){i.a.confirm({title:"删除",icon:c.a.createElement(s.a,{__source:{fileName:v,lineNumber:53,columnNumber:19}}),content:"删除后数据无法恢复",onOk:function(){r({pipelineId:_}).then((function(t){0===t.code&&1===t.data?o.b.info({content:"删除成功",className:"message"}):o.b.error({content:"删除失败",className:"message"}),e.history.push("/index/pipeline")})).catch((function(e){console.log(e)}))},okText:"确认",cancelText:"取消"})},__source:{fileName:v,lineNumber:84,columnNumber:25}},"删除"))}],H=function(e){return E.some((function(t){return t===e}))},L=function(e){return c.a.createElement("div",{key:e.key,className:"pipelineReDel-li",__source:{fileName:v,lineNumber:109,columnNumber:17}},c.a.createElement("div",{className:"pipelineReDel-li-top ".concat(H(e.key)?"pipelineReDel-li-select":null),onClick:function(){return t=e.key,void(H(t)?j(E.filter((function(e){return e!==t}))):j(E.concat(t)));var t},__source:{fileName:v,lineNumber:110,columnNumber:21}},c.a.createElement("div",{className:"pipelineReDel-li-title",__source:{fileName:v,lineNumber:114,columnNumber:25}},c.a.createElement("span",{className:"pipelineReDel-li-title-icon",__source:{fileName:v,lineNumber:115,columnNumber:29}},e.icon),c.a.createElement("span",{className:"pipelineReDel-li-title-name",__source:{fileName:v,lineNumber:116,columnNumber:29}},e.title)),c.a.createElement("div",{__source:{fileName:v,lineNumber:118,columnNumber:25}},c.a.createElement(p.a,{__source:{fileName:v,lineNumber:119,columnNumber:29}}))),c.a.createElement("div",{className:"".concat(H(e.key)?"pipelineReDel-li-bottom":"pipelineReDel-li-none"),__source:{fileName:v,lineNumber:122,columnNumber:21}},H(e.key)?e.content:null))};return c.a.createElement("div",{className:"pipelineReDel",__source:{fileName:v,lineNumber:132,columnNumber:9}},c.a.createElement(m.a,{firstItem:y.pipelineName,secondItem:"设置",__source:{fileName:v,lineNumber:133,columnNumber:13}}),c.a.createElement("div",{className:"pipelineReDel-content",__source:{fileName:v,lineNumber:134,columnNumber:13}},c.a.createElement("div",{className:"pipelineReDel-ul",__source:{fileName:v,lineNumber:135,columnNumber:17}},D.map((function(e){return L(e)})))))};y(w,"useState{[expandedTree,setExpandedTree]([])}\nuseForm{[form]}");var g,E,j=Object(b.b)("pipelineStore")(Object(b.c)(w));t.default=j,(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(w,"ProjectSetReDel","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\projectSetReDel.js"),g.register(j,"default","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\projectSetReDel.js")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}.call(this,r(18)(e))},337:function(e,t){e.exports=function(e,t,r,n){var l=r?r.call(n,e,t):void 0;if(void 0!==l)return!!l;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),u=0;u<i.length;u++){var c=i[u];if(!a(c))return!1;var m=e[c],s=t[c];if(!1===(l=r?r.call(n,m,s,c):void 0)||void 0===l&&m!==s)return!1}return!0}},358:function(e,t,r){"use strict";function n(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function l(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function i(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return l(r.overflowY,t)||l(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function o(e,t,r,n,l,i,o,a){return i<e&&o>t||i>e&&o<t?0:i<=e&&a<=r||o>=t&&a>=r?i-e-n:o>t&&a<r||i<e&&a>r?o-t+l:0}var a=function(e,t){var r=window,l=t.scrollMode,a=t.block,u=t.inline,c=t.boundary,m=t.skipOverflowHiddenElements,s="function"==typeof c?c:function(e){return e!==c};if(!n(e))throw new TypeError("Invalid target");for(var d=document.scrollingElement||document.documentElement,f=[],p=e;n(p)&&s(p);){if((p=p.parentElement)===d){f.push(p);break}null!=p&&p===document.body&&i(p)&&!i(document.documentElement)||null!=p&&i(p,m)&&f.push(p)}for(var b=r.visualViewport?r.visualViewport.width:innerWidth,N=r.visualViewport?r.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,_=e.getBoundingClientRect(),y=_.height,w=_.width,g=_.top,E=_.right,j=_.bottom,k=_.left,D="start"===a||"nearest"===a?g:"end"===a?j:g+y/2,H="center"===u?k+w/2:"end"===u?E:k,L=[],G=0;G<f.length;G++){var S=f[G],R=S.getBoundingClientRect(),I=R.height,O=R.width,C=R.top,M=R.right,T=R.bottom,x=R.left;if("if-needed"===l&&g>=0&&k>=0&&j<=N&&E<=b&&g>=C&&j<=T&&k>=x&&E<=M)return L;var W=getComputedStyle(S),P=parseInt(W.borderLeftWidth,10),V=parseInt(W.borderTopWidth,10),A=parseInt(W.borderRightWidth,10),B=parseInt(W.borderBottomWidth,10),F=0,X=0,Y="offsetWidth"in S?S.offsetWidth-S.clientWidth-P-A:0,z="offsetHeight"in S?S.offsetHeight-S.clientHeight-V-B:0;if(d===S)F="start"===a?D:"end"===a?D-N:"nearest"===a?o(h,h+N,N,V,B,h+D,h+D+y,y):D-N/2,X="start"===u?H:"center"===u?H-b/2:"end"===u?H-b:o(v,v+b,b,P,A,v+H,v+H+w,w),F=Math.max(0,F+h),X=Math.max(0,X+v);else{F="start"===a?D-C-V:"end"===a?D-T+B+z:"nearest"===a?o(C,T,I,V,B+z,D,D+y,y):D-(C+I/2)+z/2,X="start"===u?H-x-P:"center"===u?H-(x+O/2)+Y/2:"end"===u?H-M+A+Y:o(x,M,O,P,A+Y,H,H+w,w);var J=S.scrollLeft,$=S.scrollTop;D+=$-(F=Math.max(0,Math.min($+F,S.scrollHeight-I+z))),H+=J-(X=Math.max(0,Math.min(J+X,S.scrollWidth-O+Y)))}L.push({el:S,top:F,left:X})}return L};function u(e){return e===Object(e)&&0!==Object.keys(e).length}t.a=function(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(u(t)&&"function"==typeof t.behavior)return t.behavior(r?a(e,t):[]);if(r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:u(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,l=e.top,i=e.left;n.scroll&&r?n.scroll({top:l,left:i,behavior:t}):(n.scrollTop=l,n.scrollLeft=i)}))}(a(e,n),n.behavior)}}},370:function(e,t,r){"use strict";(function(e){var n,l=r(0),i=r.n(l),o=(r(371),"D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\common\\breadcrumb\\breadcrumb.js");(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,u,c=function(e){var t=e.firstItem,r=e.secondItem;return i.a.createElement("div",{className:"breadcrumbContent",__source:{fileName:o,lineNumber:9,columnNumber:13}},i.a.createElement("span",{className:r?"breadcrumbContent-span":"",__source:{fileName:o,lineNumber:10,columnNumber:17}},t),r?i.a.createElement("span",{__source:{fileName:o,lineNumber:13,columnNumber:31}},"  >  ",r):null)},m=c;t.a=m,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(c,"BreadcrumbContent","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\common\\breadcrumb\\breadcrumb.js"),a.register(m,"default","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\common\\breadcrumb\\breadcrumb.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r(18)(e))},371:function(e,t,r){},617:function(e,t,r){"use strict";(function(e){r(34);var n,l=r(15),i=(r(57),r(6)),o=(r(23),r(8)),a=r(0),u=r.n(a),c=r(1029),m=r(1030),s=(r(618),"D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\pipelineName.js");(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=function(e){var t=e.pipelineList,r=e.form,n=e.re,d=e.layout,f=e.pipeline,p=e.powerType,b=e.setPowerType;Object(a.useEffect)((function(){f&&r.setFieldsValue({pipelineName:f.pipelineName})}),[]);var N=[{id:1,title:"公有",icon:u.a.createElement(c.a,{__source:{fileName:s,lineNumber:26,columnNumber:18}}),desc:"互联网上的任何人都可以查看该项目。不支持TFVC等某些功能。"},{id:2,title:"私有",icon:u.a.createElement(m.a,{__source:{fileName:s,lineNumber:32,columnNumber:18}}),desc:"只有您授予访问权限的人才能查看此项目。"}],v=u.a.createElement("div",{className:"pipeline-power",__source:{fileName:s,lineNumber:38,columnNumber:9}},u.a.createElement("div",{className:"pipeline-power-title",__source:{fileName:s,lineNumber:39,columnNumber:13}},"流水线权限"),u.a.createElement("div",{className:"pipeline-power-content",__source:{fileName:s,lineNumber:40,columnNumber:13}},N.map((function(e){return u.a.createElement("div",{key:e.id,className:"pipeline-power-item ".concat(p===e.id?"pipeline-power-select":""),onClick:function(){return b(e.id)},__source:{fileName:s,lineNumber:43,columnNumber:32}},u.a.createElement("div",{className:"power-item",__source:{fileName:s,lineNumber:48,columnNumber:29}},u.a.createElement("div",{__source:{fileName:s,lineNumber:49,columnNumber:33}},u.a.createElement("div",{className:"power-title power-icon",__source:{fileName:s,lineNumber:50,columnNumber:37}},e.icon),u.a.createElement("div",{className:"power-title power-name",__source:{fileName:s,lineNumber:53,columnNumber:37}},e.title)),p===e.id&&u.a.createElement("div",{className:"power-select-show",__source:{fileName:s,lineNumber:59,columnNumber:37}})),u.a.createElement("div",{className:"power-desc",__source:{fileName:s,lineNumber:62,columnNumber:29}},e.desc))}))));return u.a.createElement(i.a,{form:r,onFinish:n,autoComplete:"off",layout:d,initialValues:n?null:{pipelinePower:2},__source:{fileName:s,lineNumber:74,columnNumber:9}},u.a.createElement(i.a.Item,{label:"vertical"===d?"流水线名称":"重命名",name:"pipelineName",rules:[{required:!0,message:""},{pattern:/^[\s\u4e00-\u9fa5a-zA-Z0-9_-]{0,}$/,message:"流水线名称不能包含非法字符，如&,%，&，#……等"},{type:"string",max:20,message:"流水线名称过长"},function(e){e.getFieldValue;return{validator:function(e,r){if(!r)return Promise.reject("请输入名称");var n=[];return t&&(n=t&&t.map((function(e){return e.pipelineName}))),n.includes(r)?Promise.reject("名称已经存在"):Promise.resolve()}}}],__source:{fileName:s,lineNumber:81,columnNumber:13}},u.a.createElement(o.a,{allowClear:!0,style:n?{width:416}:null,__source:{fileName:s,lineNumber:112,columnNumber:17}})),"vertical"===d&&v,n&&u.a.createElement(i.a.Item,{__source:{fileName:s,lineNumber:119,columnNumber:17}},u.a.createElement(l.a,{type:"primary",htmlType:"submit",__source:{fileName:s,lineNumber:120,columnNumber:21}},"确定")))};d(f,"useEffect{}");var p,b,N=f;t.a=N,(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(f,"PipelineName","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\pipelineName.js"),p.register(N,"default","D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\projectSet\\reDel\\pipelineName.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,r(18)(e))},618:function(e,t,r){},899:function(e,t,r){}}]);