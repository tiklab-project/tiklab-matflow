(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{499:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i="D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\common\\loading\\loading.js";t.a=function(e){return a.a.createElement("div",{className:"mf-container",__source:{fileName:i,lineNumber:6,columnNumber:9}},a.a.createElement("div",{className:"mf-shape",__source:{fileName:i,lineNumber:7,columnNumber:13}}),a.a.createElement("div",{className:"mf-shape",__source:{fileName:i,lineNumber:8,columnNumber:13}}),a.a.createElement("div",{className:"mf-shape",__source:{fileName:i,lineNumber:9,columnNumber:13}}))}},808:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(226),o=n(31),c=n(7),l=n(333),u=(n(140),n(93)),m=n(834),s=n(835),f=n(643),N=n(731),b=n(826),p="D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\project\\common\\projectAside.js";function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=Object(o.c)((function(e){var t=e.pipelineStore,n=e.configStore,i=e.setIsLoading,o=e.location.pathname,c=d(Object(r.useState)(""),2),l=c[0],_=c[1],y=t.lastPath,v=t.setLastPath,h=t.pipelineList,E=t.pipelineId,g=t.pipeline,j=n.setTaskFormDrawer;Object(r.useEffect)((function(){v(o.substring(o.lastIndexOf("/")+1)),_(o)}),[o]);var S=[{to:"/index/task/".concat(E,"/survey"),title:"概况",icon:a.a.createElement(m.a,{__source:{fileName:p,lineNumber:33,columnNumber:18}}),key:"2"},{to:"/index/task/".concat(E,"/config"),title:"配置",icon:a.a.createElement(s.a,{__source:{fileName:p,lineNumber:39,columnNumber:19}}),key:"3"},{to:"/index/task/".concat(E,"/structure"),title:"历史",icon:a.a.createElement(f.a,{__source:{fileName:p,lineNumber:45,columnNumber:19}}),key:"4"}],k=function(t){return a.a.createElement("div",{onClick:function(){!function(t){j(!1),E!==t.id&&(i(!0),0===o.indexOf("/index/task/".concat(E,"/assembly"))?e.history.push("/index/task/".concat(t.id,"/assembly/").concat(y)):e.history.push("/index/task/".concat(t.id,"/").concat(y)),setTimeout((function(){return i(!1)}),150))}(t)},key:t.id,className:"pipeline-opt-item",__source:{fileName:p,lineNumber:70,columnNumber:17}},a.a.createElement("span",{className:"pipeline-opt-icon mf-icon-".concat(t.color),__source:{fileName:p,lineNumber:71,columnNumber:21}},t.name.substring(0,1).toUpperCase()),a.a.createElement("span",{className:"pipeline-opt-name",__source:{fileName:p,lineNumber:74,columnNumber:21}},t.name))},w=a.a.createElement("div",{className:"pipeline-opt",__source:{fileName:p,lineNumber:82,columnNumber:9}},a.a.createElement("div",{className:"pipeline-opt-title",__source:{fileName:p,lineNumber:83,columnNumber:13}},"切换流水线"),a.a.createElement("div",{className:"pipeline-opt-group",__source:{fileName:p,lineNumber:84,columnNumber:13}},h&&h.map((function(e){return k(e)})))),O=function(t){return a.a.createElement("div",{key:t.key,className:"aside_content ".concat(l===t.to?"aside_active":""),onClick:function(){return function(t){e.history.push(t)}(t.to)},__source:{fileName:p,lineNumber:96,columnNumber:18}},a.a.createElement("div",{className:"aside_content_icon",__source:{fileName:p,lineNumber:100,columnNumber:21}},t.icon),a.a.createElement("div",{className:"aside_content_title",__source:{fileName:p,lineNumber:103,columnNumber:21}},t.title))};return a.a.createElement("div",{className:"aside",__source:{fileName:p,lineNumber:108,columnNumber:10}},a.a.createElement("div",{className:"content",__source:{fileName:p,lineNumber:109,columnNumber:14}},a.a.createElement(u.a,{overlayStyle:{top:"48px",left:"80px"},overlay:w,trigger:["click"],overlayClassName:"aside-dropdown",__source:{fileName:p,lineNumber:110,columnNumber:18}},a.a.createElement("div",{className:"aside_chang",onClick:function(e){return e.preventDefault()},__source:{fileName:p,lineNumber:116,columnNumber:22}},a.a.createElement("span",{className:"dropdowns_icon mf-icon-".concat(g.color),__source:{fileName:p,lineNumber:119,columnNumber:27}},g&&g.name.substring(0,1).toUpperCase()),a.a.createElement("span",{__source:{fileName:p,lineNumber:122,columnNumber:26}},a.a.createElement(N.a,{__source:{fileName:p,lineNumber:123,columnNumber:30}})))),S.map((function(e){return O(e)}))),a.a.createElement("div",{className:"project-sys",onClick:function(){return e.history.push("/index/task/".concat(E,"/assembly/set"))},__source:{fileName:p,lineNumber:134,columnNumber:14}},a.a.createElement("div",{className:"aside_content_icon",__source:{fileName:p,lineNumber:137,columnNumber:18}},a.a.createElement(b.a,{__source:{fileName:p,lineNumber:138,columnNumber:22}})),a.a.createElement("div",{__source:{fileName:p,lineNumber:140,columnNumber:18}},"设置")))})),v=n(499),h="D:\\idea\\pipeline\\tiklab-matflow-ui\\src\\modules\\project\\common\\project.js";function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=Object(o.b)("pipelineStore","configStore",l.SYSTEM_ROLE_STORE)(Object(o.c)((function(e){var t=e.route,n=e.match,o=e.pipelineStore,l=e.systemRoleStore,u=e.configStore,m=o.findAllPipelineStatus,s=o.setPipelineId,f=o.setPipeline,N=l.getInitProjectPermissions,b=n.params.id,p=Object(c.getUser)().userId;Object(r.useEffect)((function(){s(b),m(p).then((function(t){var n=t.data;0===t.code&&n&&(d(n)?n&&n.map((function(e){e.id===b&&(f(e),N(p,b,1===e.power))})):e.history.push("/404"))}))}),[b]);var d=function(e){return e&&e.some((function(e){return e.id===b}))};Object(r.useEffect)((function(){return function(){return f("")}}),[b]);var _=g(Object(r.useState)(!1),2),j=_[0],S=_[1];return a.a.createElement("div",{className:"project",__source:{fileName:h,lineNumber:50,columnNumber:9}},a.a.createElement(y,E({},e,{pipelineStore:o,configStore:u,setIsLoading:S,__source:{fileName:h,lineNumber:51,columnNumber:13}})),j?a.a.createElement(v.a,{__source:{fileName:h,lineNumber:58,columnNumber:29}}):a.a.createElement("div",{className:"project-content",__source:{fileName:h,lineNumber:59,columnNumber:17}},Object(i.a)(t.routes)))})))}}]);