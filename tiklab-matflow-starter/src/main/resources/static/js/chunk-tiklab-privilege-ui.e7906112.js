(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{117:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={"privilege-feature-name":"功能名称","privilege-feature-code":"功能编码","privilege-add-feature":"添加功能","privilege-orga-name":"组织名称","privilege-add-user":"添加用户","privilege-search":"搜索","privilege-desc":"描述","privilege-user-and-org":"用户名、部门","privilege-user":"用户名","privilege-select-user":"选择用户","privilege-common":{edit:"编辑",delete:"删除",action:"操作","please-input":"请输入","please-select":"请输入"},"privilege-add-node":"新增子节点","privilege-edit-feature":"编辑功能","privilege-point-node":"挂载节点","privilege-point-node-placeholder":"请选择挂载节点","privilege-role":{addRole:"添加角色",addSystemRole:"添加系统角色",editRole:"编辑角色",roleName:"角色名称",roleDesc:"角色描述",people:"成员",promise:"权限",name:"姓名",phone:"手机号",email:"邮箱",type:"类别",orga:"部门",thirdparty:"第三方",internal:"内部",system:"系统",custom:"自定义"}}},25:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return y}));var n,a,i,o,l,c,u,s,f=r(0),d=r(4);function p(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var y=(a=v((n=b((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"privilegeSystemRole",a,this),p(this,"systemPermissions",i,this),p(this,"domainPermissions",o,this),p(this,"getRoles",l,this),p(this,"clearAllPermissions",c,this),p(this,"getInitProjectPermissions",u,this),p(this,"getSystemPermissions",s,this)}))).prototype,"privilegeSystemRole",[f.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=v(n.prototype,"systemPermissions",[f.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=v(n.prototype,"domainPermissions",[f.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=v(n.prototype,"getRoles",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeSystemRole=t}}}),c=v(n.prototype,"clearAllPermissions",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.systemPermissions=[],e.domainPermissions={}}}}),u=v(n.prototype,"getInitProjectPermissions",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){if(!e.domainPermissions[r]&&t&&r){var n=new FormData;n.append("userId",t),n.append("domainId",r);var a={};return Object(d.getUser)()&&Object(d.getUser)().tenant&&(a={tenant:Object(d.getUser)().tenant}),d.Axios.post("permission/findDomainPermissions",n,a).then((function(t){return t.code||(e.domainPermissions[r]=t.data),t}))}}}}),s=v(n.prototype,"getSystemPermissions",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=new FormData;r.append("userId",t);var n={};return Object(d.getUser)()&&Object(d.getUser)().tenant&&(n={tenant:Object(d.getUser)().tenant}),d.Axios.post("permission/findPermissions",r,n).then((function(t){return t.code||(e.systemPermissions=t.data),t}))}}}),n),g="systemRoleStore"},26:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return O}));var n,a,i,o,l,c,u,s=r(0);function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=(a=h((n=y((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"privilegeSystemTreeData",a,this),b(this,"getPrivilegeTree",i,this),b(this,"addFeature",o,this),b(this,"addChildrenFeature",l,this),b(this,"deleteFeature",c,this),b(this,"editFeature",u,this)}))).prototype,"privilegeSystemTreeData",[s.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=h(n.prototype,"getPrivilegeTree",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeSystemTreeData=t}}}),o=h(n.prototype,"addFeature",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeSystemTreeData.push(t)}}}),l=h(n.prototype,"addChildrenFeature",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.privilegeSystemTreeData=e.privilegeSystemTreeData.map((function(e){return e.id===r?m(m({},e),{},{children:[t].concat(f(e.children))}):e}))}}}),c=h(n.prototype,"deleteFeature",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[];!function e(r,n){r.forEach((function(r,a){r.id!==t.id&&n.push(m(m({},r),{},{children:[]})),r.children&&r.children.length>0&&e(r.children,n[a].children)}))}(e.privilegeSystemTreeData,r),e.privilegeSystemTreeData=r}}}),u=h(n.prototype,"editFeature",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[];!function e(r,n){r.forEach((function(r,a){r.id===t.id?n.push(m(m(m({},r),t),{},{children:[]})):n.push(m(m({},r),{},{children:[]})),r.children&&n[a].children&&e(r.children,n[a].children)}))}(e.privilegeSystemTreeData,r),e.privilegeSystemTreeData=r}}}),n),j="privilegeSystemStore"},27:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return f}));var n,a,i,o=r(0);function l(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var f=(a=s((n=u((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"privilegeProjectRole",a,this),l(this,"getProjectRoles",i,this)}))).prototype,"privilegeProjectRole",[o.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=s(n.prototype,"getProjectRoles",[o.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectRole=t}}}),n),d="privilegeProjectRoleStore"},28:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return O}));var n,a,i,o,l,c,u,s=r(0);function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=(a=h((n=y((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"privilegeProjectTreeData",a,this),b(this,"getDmPrivilegeTree",i,this),b(this,"addDmFeature",o,this),b(this,"addDmChildrenFeature",l,this),b(this,"deleteDmFeature",c,this),b(this,"editDmFeature",u,this)}))).prototype,"privilegeProjectTreeData",[s.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=h(n.prototype,"getDmPrivilegeTree",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData=t}}}),o=h(n.prototype,"addDmFeature",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData.push(t)}}}),l=h(n.prototype,"addDmChildrenFeature",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.privilegeProjectTreeData=e.privilegeProjectTreeData.map((function(e){return e.id===r?m(m({},e),{},{children:[t].concat(f(e.children))}):e}))}}}),c=h(n.prototype,"deleteDmFeature",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[];!function e(r,n){r.forEach((function(r,a){r.id!==t.id&&n.push(m(m({},r),{},{children:[]})),r.children&&r.children.length>0&&e(r.children,n[a].children)}))}(e.privilegeProjectTreeData,r),e.privilegeProjectTreeData=r}}}),u=h(n.prototype,"editDmFeature",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[];!function e(r,n){r.forEach((function(r,a){r.id===t.id?n.push(m(m(m({},r),t),{},{children:[]})):n.push(m(m({},r),{},{children:[]})),r.children&&n[a].children&&e(r.children,n[a].children)}))}(e.privilegeProjectTreeData,r),e.privilegeProjectTreeData=r}}}),n),j="privilegeProjectFeatureStore"},635:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(441);var n=r(438),a=r(1),i=r.n(a),o=r(42),l=function(e){var t=e.routes;return i.a.createElement("div",{className:"privilege-breadcrumb"},i.a.createElement(n.a,{itemRender:function(e,t,r,n){var a=r.indexOf(e)===r.length-1;return e.disabled?i.a.createElement("span",null,e.breadcrumbName):a?e.click?i.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.click()}},e.breadcrumbName):i.a.createElement("span",null,e.breadcrumbName):e.click?i.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.click()}},e.breadcrumbName):i.a.createElement(o.Link,{to:e.path},e.breadcrumbName)},routes:t,separator:">"}))}},681:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(1);var n=r(52),a=r(25),i=["code","disabled","systemRoleStore"];function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=Object(n.b)(a.a)(Object(n.c)((function(e){var t=e.code,r=void 0===t?"":t;e.disabled;var n=e.systemRoleStore,a=o(e,i),l=n.systemPermissions;try{return l.includes(r)?a.children:null}catch(e){return l.includes(r)?a.children:null}})))},699:function(e,t,r){},702:function(e,t,r){},77:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n,a,i,o=r(0);function l(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var f=(a=s((n=u((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"privilegeDomainRole",a,this),l(this,"getDomainRoles",i,this)}))).prototype,"privilegeDomainRole",[o.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=s(n.prototype,"getDomainRoles",[o.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeDomainRole=t}}}),n),d=r(28),p=r(25),m=r(27),b=r(26);function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y,g=(v(y={},b.a,new b.b),v(y,p.a,new p.b),v(y,m.a,new m.b),v(y,d.a,new d.b),v(y,"privilegeDomainRoleStore",new f),y)},853:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));r(308);var n=r(306),a=(r(867),r(852)),i=(r(248),r(247)),o=(r(245),r(244)),l=r(1),c=r.n(l),u=r(698),s=r(4);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m={labelCol:{span:6},wrapperCol:{span:18}},b=function(e){var t=e.visible,r=e.cancelAdd,p=e.editData,b=void 0===p?{}:p,v=e.parentId,y=void 0===v?"":v,g=e.urlType,h=void 0===g?"system":g,O=e.data,j=void 0===O?[]:O,w=d(o.a.useForm(),1)[0],E=Object(u.a)().t,S=d(Object(l.useState)([]),2);S[0];var P=S[1];Object(l.useEffect)((function(){t&&D()}),[t]),Object(l.useEffect)((function(){"{}"!==JSON.stringify(b)&&(w.setFieldsValue({code:b.code}),w.setFieldsValue({name:b.name}),w.setFieldsValue({parent:b.parentFunction?b.parentFunction.id:b.parentFunction})),y&&w.setFieldsValue({parent:y})}),[b,y]);var A,D=function(){var e=new FormData;e.append("type","system"===h?"1":"2"),s.Axios.post("function/findFunctionListByParentId",e).then((function(e){e.code||P(e.data)}))},I=function(){w.resetFields(),r()};return c.a.createElement(n.a,{title:"{}"!==JSON.stringify(b)?E("privilege-edit-feature"):E("privilege-add-feature"),visible:t,onOk:function(){w.submit()},onCancel:I,closable:!1,forceRender:!0,destroyOnClose:!0},c.a.createElement(o.a,f({},m,{form:w,onFinish:function(e){if("{}"===JSON.stringify(b)){var t={name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===h?"1":"2"};s.Axios.post("function/createFunction",t).then((function(e){e.code||I()}))}else{var r={id:b.id,name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===h?"1":"2"};s.Axios.post("function/updateFunction",r).then((function(e){e.code||I()}))}},preserve:!1}),c.a.createElement(o.a.Item,{label:E("privilege-feature-name"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.a.createElement(i.a,null)),c.a.createElement(o.a.Item,{label:E("privilege-feature-code"),name:"code",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.a.createElement(i.a,null)),c.a.createElement(o.a.Item,{label:E("privilege-point-node"),name:"parent"},c.a.createElement(a.a,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:(A=[],function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var a={title:t.name,value:t.id,disabled:n};if(t.id===b.id&&(a.disabled=!0),r.push(a),t.children&&t.children.length>0)return e(t.children,a.children=[],a.disabled)}))}(j,A),A),placeholder:E("privilege-point-node-placeholder"),disabled:y||b.children&&b.children.length>0}))))}},854:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r(973);var n=r(934),a=(r(676),r(677)),i=(r(248),r(247)),o=r(1),l=r.n(o),c=r(991),u=r(967);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.data,r=e.onSearch,f=e.actions,d=e.onEdit,p=e.onDelete,m=e.onDetail,b=e.children,v=e.ListComp,y=e.userProduction,g=void 0===y||y,h=e.isSpace,O=void 0!==h&&h,j=s(Object(o.useState)(""),2),w=j[0],E=j[1];return l.a.createElement("div",{className:"privilegeLayout"},l.a.createElement("div",{className:"left"},O?l.a.createElement("div",{className:"search_1"},l.a.createElement(i.a,{placeholder:"搜索名称",style:{marginRight:8},onPressEnter:function(e){return r(e)},value:w,onChange:function(e){return E(e.target.value)}}),f):l.a.createElement("div",{className:"search"},l.a.createElement(i.a,{placeholder:"搜索名称",onPressEnter:function(e){return r(e)},value:w,onChange:function(e){return E(e.target.value)}}),f),t?l.a.createElement(a.b,{dataSource:t,renderItem:function(e){return l.a.createElement(a.b.Item,{key:e.id,actions:g&&p?[l.a.createElement(c.a,{onClick:function(){return d(e)}}),l.a.createElement(u.a,{onClick:function(){return p(e.id)}})]:p?[l.a.createElement(u.a,{onClick:function(){return p(e.id)}})]:[]},l.a.createElement("div",{className:"listName",onClick:function(){return m(e)}},e.name))}}):l.a.createElement(l.a.Fragment,null,v)),l.a.createElement(n.a,{type:"vertical",style:{height:"100%"}}),l.a.createElement("div",{className:"right"},b))}},855:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));r(308);var n=r(306),a=(r(248),r(247)),i=(r(245),r(244)),o=r(1),l=r.n(o),c=r(698),u=r(4);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v={labelCol:{span:6},wrapperCol:{span:18}},y=function(e){var t=Object(c.a)().t,r=e.visible,f=e.cancel,p=e.editData,b=void 0===p?{}:p,y=e.group,g=void 0===y?"system":y,h=e.urlType,O=void 0===h?"system":h;if(!["system","project"].includes(O))throw Error("use RoleAdd Component must have urlType props, value:'system'、 'project'");var j=m(i.a.useForm(),1)[0];Object(o.useEffect)((function(){j.setFieldsValue({desc:b.desc}),j.setFieldsValue({name:b.name})}),[b]);var w=function(){j.resetFields(),f()};return l.a.createElement(n.a,{title:"{}"!==JSON.stringify(b)?t("privilege-role.editRole"):t("privilege-role.addRole"),visible:r,onOk:function(){j.submit()},onCancel:w,closable:!1,forceRender:!0,destroyOnClose:!0},l.a.createElement(i.a,s({},v,{form:j,preserve:!1,onFinish:function(e){var t="role/createRole",r=d(d({},e),{},{group:g,type:"system"===O?"1":"2"});"{}"!==JSON.stringify(b)&&(t="role/updateRole",r=d(d({},e),{},{group:g,id:b.id,type:"system"===O?"1":"2"})),u.Axios.post(t,r).then((function(e){e.code||w()}))}}),l.a.createElement(i.a.Item,{label:t("privilege-role.roleName"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},l.a.createElement(a.a,null)),l.a.createElement(i.a.Item,{label:t("privilege-desc"),name:"desc"},l.a.createElement(a.a,null))))},g=Object(o.memo)(y)},861:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));r(291);var n=r(292),a=(r(304),r(305)),i=(r(227),r(219)),o=(r(248),r(247)),l=(r(394),r(379)),c=(r(414),r(426)),u=r(1),s=r.n(u),f=r(698),d=r(866),p=r(994),m=r(965),b=r(991),v=r(967);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w,E=(w="privilege-tree",function(e,t){return Object.entries(e instanceof Object?e:(r={},n=e,a=e,n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r)).filter((function(e){return!1!==e[1]})).map((function(e){return e[0]})).map((function(e){return[w,e].filter(Boolean).join("-")})).concat(t&&t.extra||[]).join(" ");var r,n,a}),S=function(e){var t=e.defaultExpandedKeys,r=void 0===t?[]:t,y=e.data,h=void 0===y?[]:y,j=e.defaultCurrent,w=void 0===j?"":j,S=e.onSelect,P=e.onDelete,A=e.onEdit,D=e.classNameTree,I=e.addClick,k=e.onAddChildrenTree,C=e.setTreeParams,F=e.treeParams,z=Object(f.a)().t,x=O(Object(u.useState)(r),2),T=x[0],N=x[1],R=O(Object(u.useState)(w),2),U=R[0],L=R[1];Object(u.useMemo)((function(){L(w)}),[w]);var J=function(e){return T.some((function(t){return t===e}))},M=function(e){J(e)?N(T.filter((function(t){return t!==e}))):N(T.concat(e))},$=function(e){S&&("function"==typeof S&&S(e),L(e.id))},K=function(e){P&&("function"==typeof P?P(e):console.error("onDelete 是函数方法"))},B=function(e){A&&("function"==typeof A?A(e):console.error("onEdit 是函数方法"))},V=function(e){k(e.id)};return s.a.createElement("div",{className:E("wrap",{extra:[D].join(" ")})},s.a.createElement(n.a,null,s.a.createElement(a.a,{span:24},s.a.createElement("div",{className:"tree-item-wrap-tools"},s.a.createElement(o.a,{placeholder:z("privilege-search")+z("privilege-orga-name"),onPressEnter:function(e){return function(e){var t=e.target.value;C(g(g({},F),{},{name:t}))}(e)}}),s.a.createElement(i.a,{type:"primary",onClick:function(){I(!0)}},"+",z("privilege-add-feature"))))),s.a.createElement("div",{className:"privilege-tree"},s.a.createElement("div",{className:"tree"},function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length?t.map((function(t,r){return t.children&&t.children.length?s.a.createElement("li",{key:t.id},s.a.createElement("div",{className:"tree-children"},J(t.id)?s.a.createElement(d.a,{onClick:function(){return M(t.id)}}):s.a.createElement(p.a,{onClick:function(){return M(t.id)}}),s.a.createElement("div",{className:U===t.id?"tree-item-wrap tree-active":"tree-item-wrap"},s.a.createElement("span",{className:"tree-node",onClick:function(){return $(t)}},s.a.createElement(l.a,{placement:"top",title:t.name},t.name)),s.a.createElement("div",{className:"tree-item-action"},s.a.createElement(m.a,{onClick:function(){return V(t)}}),!t.default&&s.a.createElement(b.a,{onClick:function(){return B(t)}}),!t.children&&s.a.createElement(v.a,{onClick:function(){return K(t)}})))),s.a.createElement("ul",{className:J(t.id)?null:"tree-node-hidden"},e(t.children))):s.a.createElement("li",{key:t.id},s.a.createElement("div",{className:"tree-item"},s.a.createElement("div",{className:U===t.id?"tree-item-wrap tree-active":"tree-item-wrap"},s.a.createElement("span",{className:"tree-node",onClick:function(){return $(t)}},s.a.createElement(l.a,{placement:"top",title:t.name},t.name)),s.a.createElement("div",{className:"tree-item-action"},s.a.createElement(m.a,{onClick:function(){return V(t)}}),!t.default&&s.a.createElement(b.a,{onClick:function(){return B(t)}}),!t.default&&s.a.createElement(v.a,{onClick:function(){return K(t)}})))))})):s.a.createElement("div",{className:"tree-empty"},s.a.createElement(c.a,{description:s.a.createElement("span",null,"组织树结构为空，你需要创建一个")}))}(h))))}},939:function(e,t,r){"use strict";r.d(t,"a",(function(){return H}));r(414);var n=r(426),a=(r(678),r(674)),i=(r(624),r(625)),o=(r(227),r(219)),l=r(1),c=r.n(l),u=r(52),s=r(698),f=r(4),d=r(635),p=r(855),m=(r(701),r(695)),b=(r(436),r(433)),v=(r(291),r(292)),y=(r(304),r(305)),g=(r(248),r(247)),h=(r(308),r(306)),O=(r(245),r(244));function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A=function(e){var t=Object(s.a)().t,r=e.visible,n=e.onCancel,a=e.id,i=void 0===a?"":a,u=e.addSelectedRowKeys,d=e.userIDWidthId,p=e.userDir,m=S(Object(l.useState)([]),2),j=m[0],E=m[1],P=S(Object(l.useState)([]),2),A=P[0],D=P[1],I=S(Object(l.useState)(10),1)[0],k=S(Object(l.useState)(1),2),C=k[0],F=k[1],z=S(Object(l.useState)(0),2),x=z[0],T=z[1],N=S(Object(l.useState)({pageParam:{pageSize:I,currentPage:C}}),2),R=N[0],U=N[1];Object(l.useEffect)((function(){L(R)}),[R]),Object(l.useEffect)((function(){E(u)}),[u]);var L=function(e){f.Axios.post("user/findUserPage",e).then((function(e){e.code||(T(e.data.totalRecord),D(e.data.dataList))}))},J=function(){U({pageParam:{pageSize:I,currentPage:1}}),E([]),F(1),T(0),n()},M=[{title:t("privilege-role.name"),dataIndex:"name",key:"name",width:"20%",ellipsis:!0},{title:t("privilege-role.phone"),dataIndex:"phone",key:"phone",width:"20%",ellipsis:!0},{title:t("privilege-role.email"),dataIndex:"email",key:"email",width:"20%",ellipsis:!0},{title:t("privilege-role.org"),dataIndex:"org",key:"org",width:"20%",ellipsis:!0},{title:t("privilege-role.type"),dataIndex:"userType",key:"userType",width:"10%",ellipsis:!0,render:function(e){var t=p.findIndex((function(t){return t.id==e}));return t>-1?p[t].name:"--"}}],$={selectedRowKeys:j,onChange:function(e){E(e)},onSelect:function(e){var t,r="roleUser/deleteRoleUser";j.some((function(t){return t===e.id}))?(t=new FormData).append("id",d[e.id]):(t={role:{id:i},user:{id:e.id}},r="roleUser/createRoleUser"),f.Axios.post(r,t)}};return c.a.createElement(h.a,{title:t("privilege-select-user"),visible:r,onOk:function(){J()},onCancel:J,closable:!1,width:1200},c.a.createElement(v.a,{style:{paddingBottom:16}},c.a.createElement(y.a,{span:24},c.a.createElement(O.a,{layout:"inline",onFinish:function(e){var t=e.name,r=w(w({},R),{},{name:t,pageParam:{pageSize:I,currentPage:1}});U(r)}},c.a.createElement(O.a.Item,{name:"name",label:t("privilege-user")},c.a.createElement(g.a,null)),c.a.createElement(O.a.Item,null,c.a.createElement(o.a,{type:"primary",htmlType:"submit"},t("privilege-search")))))),c.a.createElement(v.a,null,c.a.createElement(y.a,{span:24},c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(b.a,{columns:M,dataSource:A,rowSelection:$,rowKey:function(e){return e.id},pagination:{current:C,pageSize:I,total:x,onChange:function(e){F(e);var t=w(w({},t),{},{pageParam:{pageSize:I,currentPage:e}});U(t)}}})))))};function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){var t=e.roleDetail,r=Object(s.a)().t,n=I(Object(l.useState)([]),2),a=n[0],u=n[1];Object(l.useEffect)((function(){return d(),function(){return u([])}}),[]);var d=function(){f.Axios.post("/userdir/findAllList").then((function(e){e.code||u(e.data)}))},p=[{title:r("privilege-role.name"),dataIndex:["user","name"]},{title:r("privilege-role.phone"),dataIndex:["user","phone"]},{title:r("privilege-role.email"),dataIndex:["user","email"]},{title:r("privilege-role.type"),dataIndex:["user","userType"],render:function(e){var t=a.findIndex((function(t){return t.id==e}));return t>-1?a[t].name:"--"}},{title:r("privilege-common.action"),key:"action",render:function(e,t){return c.a.createElement(i.b,{size:"middle"},c.a.createElement("a",{onClick:function(){return T(t.id)}},r("privilege-common.delete")))}}],m=I(Object(l.useState)([]),2),h=m[0],O=m[1],j=I(Object(l.useState)(!1),2),w=j[0],E=j[1],S=I(Object(l.useState)([]),2),P=S[0],k=S[1],C=I(Object(l.useState)({}),2),F=C[0],z=C[1];Object(l.useEffect)((function(){t&&x({roleId:t.id})}),[t]);var x=function(e){f.Axios.post("roleUser/findRoleUserList",e).then((function(e){if(!e.code){O(e.data);var t=e.data.map((function(e){return e.user.id})),r=e.data.reduce((function(e,t){return e[t.user.id]=t.id,e}),{});k(t),z(r)}}))},T=function(e){var r=new FormData;r.append("id",e),f.Axios.post("roleUser/deleteRoleUser",r).then((function(e){e.code||x({roleId:t.id})}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{style:{padding:"16px 0"},justify:"space-between"},c.a.createElement(y.a,{span:6},c.a.createElement(g.a,{placeholder:r("privilege-search")+r("privilege-user-and-org"),onPressEnter:function(e){var r=e.target.value;x({roleId:t.id,name:r})}})),c.a.createElement(o.a,{onClick:function(){E(!0)}},"+",r("privilege-add-user"))),c.a.createElement(v.a,null,c.a.createElement(y.a,{span:24},c.a.createElement(b.a,{columns:p,dataSource:h,rowKey:function(e){return e.id}}))),c.a.createElement(A,D({},e,{visible:w,onCancel:function(){return E(!1),void x({roleId:t.id})},id:t.id,addSelectedRowKeys:P,userIDWidthId:F,userDir:a})))},F=(r(454),r(439));function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=F.a.Group,M=function(e){var t=e.roleDetail,r=e.group,n=R(Object(l.useState)([]),2),a=n[0],i=n[1],o=R(Object(l.useState)({}),2),u=o[0],s=o[1],d=R(Object(l.useState)({}),2),p=d[0],m=d[1];Object(l.useEffect)((function(){t&&b()}),[t]);var b=function(){f.Axios.post("/function/findFunctionList",{group:r}).then((function(e){if(!e.code){var r=v(e.data);i(r.result),s(r.resultChild),g(t.id,!0,r.result,r.resultChild)}}))},v=function(e){var t=e.map((function(e){return!e.parentFunction&&{value:e.id,label:e.name}})).filter(Boolean),r=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&{value:e.id,label:e.name,parent:e.parentFunction.id}})).filter(Boolean),n=[],a={};return t.forEach((function(e){var t=e.value,i=r.filter((function(e){return e.parent===t}));n.push({value:e.value,label:e.label,indeterminate:!1,checkedList:[],checkAll:!1}),a[e.value]=i})),{result:n,resultChild:a}},y=function(e){var t=e.filter((function(e){return e.function&&e.function.parentFunction})).map((function(e){return{parentID:e.function.parentFunction.id,id:e.function.id}})),r=e.filter((function(e){return!e.function.parentFunction})).map((function(e){return e.function.id})),n={};return r.forEach((function(e){var r=t.map((function(t){if(t.parentID===e)return t.id})).filter(Boolean);n[e]=[].concat(N(r),[e])})),n},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={roleId:e};f.Axios.post("roleFunction/findRoleFunctionList",o).then((function(e){if(!e.code){var o=y(e.data),l=e.data.reduce((function(e,t){return e[t.function.id]=t.id,e}),{}),c=t?n:u,s=(t?r:a).map((function(e){var t=o[e.value]?o[e.value]:[],r=0===c[e.value].length,n=t.length===c[e.value].length+1&&0!==t.length,a=n?!n:!!t.length&&t.length<c[e.value].length+1;return r&&1===t.length&&(n=!0,a=!1),x(x({},e),{},{checkedList:t,indeterminate:a,checkAll:n})}));m(l),i(s)}}))},h=function(e,t){var r=t,n=a.filter((function(t){return t.value===e}))[0].checkedList,i=r.length<n.length,o=i?O(n,r):O(r,n);if(i)if(n.length>2){var l=o.filter((function(t){return t!==e}));l.map((function(e,t){w(e,t+1===l.length)}))}else{var c=Array.from(new Set(0===r.length?[e].concat(N(o)):o));c.map((function(e,t){w(e,t+1===c.length)}))}else{var u=0===n.length?[e].concat(N(o)):o;u.map((function(e,t){j(e,t+1===u.length)}))}},O=function(e,t){for(var r=[],n=function(n){var a=e[n];t.some((function(e){return e===a}))&&0!==t.length||r.push(a)},a=0;a<e.length;a++)n(a);return r},j=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={role:{id:t.id},function:{id:e}};f.Axios.post("roleFunction/createRoleFunction",n).then((function(e){r&&g(t.id)}))},w=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=p[e],a=new FormData;a.append("id",n),f.Axios.post("roleFunction/deleteRoleFunction",a).then((function(e){r&&g(t.id)}))};return c.a.createElement(c.a.Fragment,null,a.map((function(e){return c.a.createElement("div",{key:e.value},c.a.createElement(F.a,{indeterminate:e.indeterminate,onChange:function(t){return function(e,t){var r=Object.keys(p),n=r.includes(e),a=r.filter((function(t){return u[e].some((function(e){return e.value===t}))})),i=u[e].filter((function(e){if(!a.some((function(t){return t===e.value})))return e})),o=(!n||0!==u[e].length)&&u[e].length===i.length;if(n||(o=!0,i=u[e]),o)r.includes(e)||(i=[].concat(N(i),[{value:e}])),i.length>0?i.map((function(e,t){j(e.value,t+1===i.length)})):j(e,!0);else{if(r.includes(e)){var l=a.map((function(e){return{value:e}}));i=[].concat(N(l),[{value:e}])}i.length>0?i.map((function(e,t){w(e.value,t+1===i.length)})):w(e,!0)}}(e.value)},checked:e.checkAll},e.label),c.a.createElement("br",null),"       ",c.a.createElement(J,{options:u[e.value],value:e.checkedList,onChange:function(t){return function(e,t){h(e,t)}(e.value,t)}}))})))};function $(){return($=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var K=m.a.TabPane,B=function(e){var t=e.roleDetailParams,r=Object(s.a)().t;return c.a.createElement("div",{className:"role-detail"},c.a.createElement(m.a,{type:"card",defaultActiveKey:"people"},c.a.createElement(K,{tab:r("privilege-role.people"),key:"people"},c.a.createElement(C,$({},e,{group:t.group,roleDetail:t}))),c.a.createElement(K,{tab:r("privilege-role.promise"),key:"promise"},c.a.createElement(M,$({},e,{group:t.group,roleDetail:t})))))},V=r(854),W=r(25);function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H=Object(u.b)(W.a)(Object(u.c)((function(e){var t=Object(s.a)().t,r=e.systemRoleStore,u=r.getRoles,m=r.privilegeSystemRole,b=q(Object(l.useState)(!1),2),v=b[0],y=b[1],g=q(Object(l.useState)({}),2),h=g[0],O=g[1],j=q(Object(l.useState)(99),1)[0],w=q(Object(l.useState)(1),2),E=w[0],S=w[1],P=q(Object(l.useState)(0),2);P[0];var A=P[1],D=q(Object(l.useState)(""),2),I=D[0],k=D[1],C=q(Object(l.useState)({}),2),F=C[0],z=C[1],x={pageParam:{pageSize:j,currentPage:E}},T=q(Object(l.useState)(x),2),N=T[0],R=T[1];Object(l.useEffect)((function(){U(N)}),[N]);var U=function(e){f.Axios.post("role/findRolePage",e).then((function(e){if(!e.code){u(e.data.dataList),A(e.data.totalRecord);var t=e.data.dataList;if("{}"!==JSON.stringify(F)){var r=t.filter((function(e){return e.id===F.id}));z(r.length>0?r[0]:{})}else z(t.length>0?t[0]:{})}}))},L=Object(l.useCallback)((function(){O({}),y(!1),U(N)}),[v]),J=c.a.createElement(i.b,null,!1,c.a.createElement(o.a,{onClick:function(){return k("custom"),void y(!0)}},"+",t("privilege-role.addRole")));return c.a.createElement(V.a,{onSearch:function(e){R({name:e.target.value,pageParam:{pageSize:j,currentPage:1}}),S(1)},actions:J,onEdit:function(e){O(e),y(!0)},onDelete:function(e){var t=new FormData;t.append("id",e),f.Axios.post("role/deleteRole",t).then((function(e){e.code||U(N)}))},onDetail:function(e){z(e)},data:m,userProduction:!1},c.a.createElement(c.a.Fragment,null,c.a.createElement(a.b,{title:c.a.createElement(d.a,{routes:[{disabled:!0,breadcrumbName:"角色管理 "},{path:"first",breadcrumbName:"角色列表"}]}),bordered:!0,column:1,labelStyle:{width:160}},"{}"!==JSON.stringify(F)&&c.a.createElement(a.b.Item,{label:t("privilege-role.roleName")},F.name),"{}"!==JSON.stringify(F)&&c.a.createElement(a.b.Item,{label:t("privilege-role.type")},function(e){switch(e){case"1":return t("privilege-role.system");case"2":default:return t("privilege-role.custom")}}(F.type)),"{}"!==JSON.stringify(F)&&c.a.createElement(a.b.Item,{label:"角色分组"},function(e){switch(e){case"system":return"系统级";case"custom":return"项目级";default:return"项目域"}}(F.group)),"{}"!==JSON.stringify(F)&&c.a.createElement(a.b.Item,{label:t("privilege-role.roleDesc")},F.desc),"{}"===JSON.stringify(F)&&c.a.createElement(a.b.Item,null,c.a.createElement(n.a,{description:c.a.createElement("span",null,"角色列表，你需要创建一个")}))),"{}"!==JSON.stringify(F)&&c.a.createElement(B,{roleDetailParams:F})),c.a.createElement(p.a,{visible:v,cancel:L,editData:h,group:I,urlType:"system"}))})))},940:function(e,t,r){"use strict";r.d(t,"a",(function(){return ne}));r(414);var n=r(426),a=(r(678),r(674)),i=(r(676),r(677)),o=(r(291),r(292)),l=(r(227),r(219)),c=(r(304),r(305)),u=(r(307),r(377)),s=r(1),f=r.n(s),d=r(52),p=r(4),m=r(698),b=r(991),v=r(855),y=r(635),g=(r(701),r(695)),h=(r(436),r(433)),O=(r(248),r(247)),j=(r(624),r(625)),w=(r(308),r(306)),E=(r(245),r(244));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e){var t=Object(m.a)().t,r=e.visible,n=e.onCancel,a=e.id,i=void 0===a?"":a,u=e.addSelectedRowKeys,d=e.userIDWidthId;e.domainId;var b=D(Object(s.useState)([]),2),v=b[0],y=b[1],g=D(Object(s.useState)([]),2),j=g[0],S=g[1],A=D(Object(s.useState)(10),1)[0],I=D(Object(s.useState)(1),2),k=I[0],C=I[1],F=D(Object(s.useState)(0),2),z=F[0],x=F[1],T={pageParam:{pageSize:A,currentPage:k}},N=D(Object(s.useState)(T),2),R=N[0],U=N[1];Object(s.useEffect)((function(){L(R)}),[R]),Object(s.useEffect)((function(){y(u)}),[u]);var L=function(e){p.Axios.post("user/findUserPage",e).then((function(e){e.code||(x(e.data.totalRecord),S(e.data.dataList))}))},J=function(){U({pageParam:{pageSize:A,currentPage:1}}),y([]),C(1),x(0),n()},M=[{title:t("privilege-role.name"),dataIndex:"name",key:"name",width:"20%",ellipsis:!0},{title:t("privilege-role.phone"),dataIndex:"phone",key:"phone",width:"20%",ellipsis:!0},{title:t("privilege-role.email"),dataIndex:"email",key:"email",width:"20%",ellipsis:!0},{title:t("privilege-role.orga"),dataIndex:"org",key:"org",width:"20%",ellipsis:!0},{title:t("privilege-role.type"),dataIndex:"userType",key:"userType",width:"10%",ellipsis:!0,render:function(e){switch(e){case 2:return t("privilege-role.thirdparty");case 1:return t("privilege-role.internal");default:return"--"}}}],$={selectedRowKeys:v,onChange:function(e){y(e)},onSelect:function(e){var t,r="roleUser/deleteRoleUser";v.some((function(t){return t===e.id}))?(t=new FormData).append("id",d[e.id]):(t={role:{id:i},user:{id:e.id}},r="roleUser/createRoleUser"),p.Axios.post(r,t)}};return f.a.createElement(w.a,{title:t("privilege-select-user"),visible:r,onOk:function(){J()},onCancel:J,closable:!1,width:1200,destroyOnClose:!0},f.a.createElement(o.a,null,f.a.createElement(c.a,{span:24},f.a.createElement(E.a,{layout:"inline",onFinish:function(e){},preserve:!1},f.a.createElement(E.a.Item,{name:"name",label:t("privilege-user")},f.a.createElement(O.a,null)),f.a.createElement(E.a.Item,null,f.a.createElement(l.a,{type:"primary",htmlType:"submit"},t("privilege-search")))))),f.a.createElement(o.a,null,f.a.createElement(c.a,{span:24},f.a.createElement("div",{style:{width:"100%"}},f.a.createElement(h.a,{columns:M,dataSource:j,rowSelection:$,rowKey:function(e){return e.id},pagination:{current:k,pageSize:A,total:z,onChange:function(e){C(e);var t=P(P({},t),{},{pageParam:{pageSize:A,currentPage:e}});U(t)}}})))))};function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=function(e){var t=e.roleDetail,r=Object(m.a)().t,n=F(Object(s.useState)([]),2),a=n[0],i=n[1];Object(s.useEffect)((function(){return u(),function(){return i([])}}),[]);var u=function(){p.Axios.post("/userdir/findAllList").then((function(e){e.code||i(e.data)}))},d=[{title:r("privilege-role.name"),dataIndex:["user","name"]},{title:r("privilege-role.phone"),dataIndex:["user","phone"]},{title:r("privilege-role.email"),dataIndex:["user","email"]},{title:r("privilege-role.type"),dataIndex:["user","userType"],render:function(e){var t=a.findIndex((function(t){return t.id===e}));return t>-1?a[t].name:"--"}},{title:r("privilege-common.action"),key:"action",render:function(e,t){return f.a.createElement(j.b,{size:"middle"},f.a.createElement("a",{onClick:function(){return T(t.id)}},r("privilege-common.delete")))}}],b=F(Object(s.useState)([]),2),v=b[0],y=b[1],g=F(Object(s.useState)(!1),2),w=g[0],E=g[1],S=F(Object(s.useState)([]),2),P=S[0],A=S[1],D=F(Object(s.useState)({}),2),I=D[0],z=D[1];Object(s.useEffect)((function(){t&&x({roleId:t.id})}),[t]);var x=function(e){p.Axios.post("roleUser/findRoleUserList",e).then((function(e){if(!e.code){y(e.data);var t=e.data.map((function(e){return e.user.id})),r=e.data.reduce((function(e,t){return e[t.user.id]=t.id,e}),{});A(t),z(r)}}))},T=function(e){var r=new FormData;r.append("id",e),p.Axios.post("roleUser/deleteRoleUser",r).then((function(e){e.code||x({roleId:t.id})}))};return f.a.createElement(f.a.Fragment,null,f.a.createElement(o.a,{style:{padding:"16px 0"},justify:"space-between"},f.a.createElement(c.a,{span:6},f.a.createElement(O.a,{placeholder:r("privilege-search")+r("privilege-user-and-org"),onPressEnter:function(e){var r=e.target.value;x({roleId:t.id,name:r})}})),f.a.createElement(l.a,{onClick:function(){E(!0)}},"+",r("privilege-add-user"))),f.a.createElement(o.a,null,f.a.createElement(c.a,{span:24},f.a.createElement(h.a,{columns:d,dataSource:v,rowKey:function(e){return e.id}}))),f.a.createElement(k,C({},e,{visible:w,onCancel:function(){return E(!1),void x({roleId:t.id})},id:t.id,addSelectedRowKeys:P,userIDWidthId:I,userDir:a})))},T=(r(454),r(439));function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K=T.a.Group,B=function(e){var t=e.roleDetail;e.group;var r=J(Object(s.useState)([]),2),n=r[0],a=r[1],i=J(Object(s.useState)({}),2),o=i[0],l=i[1],c=J(Object(s.useState)({}),2),u=c[0],d=c[1];Object(s.useEffect)((function(){t&&m()}),[t]);var m=function(){p.Axios.post("/function/findFunctionList",{type:"2"}).then((function(e){if(!e.code){var r=b(e.data);a(r.result),l(r.resultChild),y(t.id,!0,r.result,r.resultChild)}}))},b=function(e){var t=e.map((function(e){return!e.parentFunction&&{value:e.id,label:e.name}})).filter(Boolean),r=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&{value:e.id,label:e.name,parent:e.parentFunction.id}})).filter(Boolean),n=[],a={};return t.forEach((function(e){var t=e.value,i=r.filter((function(e){return e.parent===t}));n.push({value:e.value,label:e.label,indeterminate:!1,checkedList:[],checkAll:!1}),a[e.value]=i})),{result:n,resultChild:a}},v=function(e){var t=e.filter((function(e){return e.function&&e.function.parentFunction})).map((function(e){return{parentID:e.function.parentFunction.id,id:e.function.id}})),r=e.filter((function(e){return!e.function.parentFunction})).map((function(e){return e.function.id})),n={};return r.forEach((function(e){var r=t.map((function(t){if(t.parentID===e)return t.id})).filter(Boolean);n[e]=[].concat(L(r),[e])})),n},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l={roleId:e};p.Axios.post("roleFunction/findRoleFunctionList",l).then((function(e){if(!e.code){var l=v(e.data),c=e.data.reduce((function(e,t){return e[t.function.id]=t.id,e}),{}),u=t?i:o,s=(t?r:n).map((function(e){var t=l[e.value]?l[e.value]:[],r=0===u[e.value].length,n=t.length===u[e.value].length+1&&0!==t.length,a=n?!n:!!t.length&&t.length<u[e.value].length+1;return r&&1===t.length&&(n=!0,a=!1),R(R({},e),{},{checkedList:t,indeterminate:a,checkAll:n})}));d(c),a(s)}}))},g=function(e,t){var r=t,a=n.filter((function(t){return t.value===e}))[0].checkedList,i=r.length<a.length,o=i?h(a,r):h(r,a);if(i)if(a.length>2){var l=o.filter((function(t){return t!==e}));l.map((function(e,t){j(e,t+1===l.length)}))}else{var c=Array.from(new Set(0===r.length?[e].concat(L(o)):o));c.map((function(e,t){j(e,t+1===c.length)}))}else{var u=0===a.length?[e].concat(L(o)):o;u.map((function(e,t){O(e,t+1===u.length)}))}},h=function(e,t){for(var r=[],n=function(n){var a=e[n];t.some((function(e){return e===a}))&&0!==t.length||r.push(a)},a=0;a<e.length;a++)n(a);return r},O=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={role:{id:t.id},function:{id:e}};p.Axios.post("roleFunction/createRoleFunction",n).then((function(e){r&&y(t.id)}))},j=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=u[e],a=new FormData;a.append("id",n),p.Axios.post("roleFunction/deleteRoleFunction",a).then((function(e){r&&y(t.id)}))};return f.a.createElement(f.a.Fragment,null,n.map((function(e){return f.a.createElement("div",{key:e.value},f.a.createElement(T.a,{indeterminate:e.indeterminate,onChange:function(t){return function(e,t){var r=Object.keys(u),n=r.includes(e),a=r.filter((function(t){return o[e].some((function(e){return e.value===t}))})),i=o[e].filter((function(e){if(!a.some((function(t){return t===e.value})))return e})),l=(!n||0!==o[e].length)&&o[e].length===i.length;if(n||(l=!0,i=o[e]),l)r.includes(e)||(i=[].concat(L(i),[{value:e}])),i.length>0?i.map((function(e,t){O(e.value,t+1===i.length)})):O(e,!0);else{if(r.includes(e)){var c=a.map((function(e){return{value:e}}));i=[].concat(L(c),[{value:e}])}i.length>0?i.map((function(e,t){j(e.value,t+1===i.length)})):j(e,!0)}}(e.value)},checked:e.checkAll},e.label),f.a.createElement("br",null),"       ",f.a.createElement(K,{options:o[e.value],value:e.checkedList,onChange:function(t){return function(e,t){g(e,t)}(e.value,t)}}))})))};function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var W=g.a.TabPane,q=function(e){var t=e.roleDetailParams,r=Object(m.a)().t;return f.a.createElement("div",{className:"projectRole-detail"},f.a.createElement(g.a,{type:"card",defaultActiveKey:"people"},f.a.createElement(W,{tab:r("privilege-role.people"),key:"people"},f.a.createElement(x,V({},e,{group:t.group,roleDetail:t}))),f.a.createElement(W,{tab:r("privilege-role.promise"),key:"promise"},f.a.createElement(B,V({},e,{group:t.group,roleDetail:t})))))},G=r(854),H=r(27),_=["group"];function Q(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var re=u.a.Option,ne=Object(d.b)(H.a)(Object(d.c)((function(e){var t=Object(m.a)().t,r=e.privilegeProjectRoleStore,d=r.getProjectRoles,g=r.privilegeProjectRole,h=ee(Object(s.useState)(!1),2),O=h[0],j=h[1],w=ee(Object(s.useState)({}),2),E=w[0],S=w[1],P=ee(Object(s.useState)(99),1)[0],A=ee(Object(s.useState)(1),2),D=A[0],I=A[1],k=ee(Object(s.useState)(0),2);k[0];var C=k[1],F=ee(Object(s.useState)({}),2),z=F[0],x=F[1],T={scope:1,pageParam:{pageSize:P,currentPage:D},type:"2"},N=ee(Object(s.useState)(T),2),R=N[0],U=N[1];Object(s.useEffect)((function(){L(R)}),[R]);var L=function(e){p.Axios.post("role/findRolePage",e).then((function(e){if(0===e.code){d(e.data.dataList),C(e.data.totalRecord);var t=e.data.dataList;if("{}"!==JSON.stringify(z)){var r=t.filter((function(e){return e.id===z.id}));x(r.length>0?r[0]:{})}else x(t.length>0?t[0]:{})}}))},J=Object(s.useCallback)((function(){S({}),j(!1),L(R)}),[O]),M=f.a.createElement(o.a,{justify:"space-between"},f.a.createElement(c.a,{span:12},f.a.createElement(u.a,{placeholder:"请选择类型",allowClear:!0,onChange:function(e){if(e)U(Y(Y({},R),{},{group:e}));else{R.group;var t=Q(R,_);U(Y({},t))}},style:{width:"100%"}},f.a.createElement(re,{value:"system"},t("privilege-role.system")),f.a.createElement(re,{value:"custom"},t("privilege-role.custom")))),f.a.createElement(l.a,{onClick:function(){j(!0)}},"+",t("privilege-role.addRole"))),$=function(e){x(e)},K=f.a.createElement(i.b,{dataSource:g,renderItem:function(e){return f.a.createElement(i.b.Item,{key:e.id,actions:"project"===e.group?[f.a.createElement(b.a,{onClick:function(){return function(e){S(e),j(!0)}(e)}})]:[]},f.a.createElement("div",{className:"listName",onClick:function(){return $(e)}},e.name))}});return f.a.createElement(G.a,{onSearch:function(e){U({name:e.target.value,pageParam:{pageSize:P,currentPage:1},type:"2"}),I(1)},actions:M,onDetail:$,ListComp:K},f.a.createElement(f.a.Fragment,null,f.a.createElement(a.b,{title:f.a.createElement(y.a,{routes:[{disabled:!0,breadcrumbName:"角色管理 "},{path:"first",breadcrumbName:"角色列表"}]}),bordered:!0,column:1,labelStyle:{width:160}},"{}"!==JSON.stringify(z)&&f.a.createElement(a.b.Item,{label:t("privilege-role.roleName")},z.name),"{}"!==JSON.stringify(z)&&f.a.createElement(a.b.Item,{label:"角色分组"},function(e){switch(e){case"system":return"系统级";case"project":return"项目级";default:return"项目域"}}(z.group)),"{}"!==JSON.stringify(z)&&f.a.createElement(a.b.Item,{label:t("privilege-role.type")},function(e){switch(e){case"1":return t("privilege-role.system");case"2":default:return t("privilege-role.custom")}}(z.type)),"{}"!==JSON.stringify(z)&&f.a.createElement(a.b.Item,{label:t("privilege-role.roleDesc")},z.desc),"{}"===JSON.stringify(z)&&f.a.createElement(a.b.Item,null,f.a.createElement(n.a,{description:f.a.createElement("span",null,"项目角色列表，你需要创建一个")}))),"{}"!==JSON.stringify(z)&&f.a.createElement(q,{roleDetailParams:z})),f.a.createElement(v.a,{visible:O,cancel:J,editData:E,group:"project",urlType:"project"}))})))},956:function(e,t,r){},957:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));r(291);var n=r(292),a=(r(304),r(305)),i=r(1),o=r.n(i),l=r(52),c=r(4),u=r(853),s=r(861),f=(r(414),r(426)),d=(r(678),r(674)),p=r(698),m=r(635);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t=e.data,r=Object(p.a)().t;return o.a.createElement("div",{className:"systemFeature-detail"},o.a.createElement(d.b,{title:o.a.createElement(m.a,b({},e,{routes:[{disabled:!0,breadcrumbName:"功能管理 "},{path:"first",breadcrumbName:"功能详情"}]})),bordered:!0,column:1,labelStyle:{width:160}},t.name&&o.a.createElement(d.b.Item,{label:r("privilege-feature-name")},t.name),t.code&&o.a.createElement(d.b.Item,{label:r("privilege-feature-code")},t.code),!t.name&&o.a.createElement(d.b.Item,null,o.a.createElement(f.a,{description:o.a.createElement("span",null,"组织树结构为空，你需要创建一个")}))))},y=r(26);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=Object(l.b)(y.a)(Object(l.c)((function(e){var t=e.privilegeSystemStore,r=t.privilegeSystemTreeData,l=t.getPrivilegeTree,f=w(Object(i.useState)(""),2),d=f[0],p=f[1],m=w(Object(i.useState)(!1),2),b=m[0],y=m[1],h=w(Object(i.useState)({}),2),j=h[0],E=h[1],S=w(Object(i.useState)({}),2),P=S[0],A=S[1],D=w(Object(i.useState)(""),2),I=D[0],k=D[1],C={pageSize:99999,currentPage:1},F=w(Object(i.useState)(C),2),z=F[0],x=F[1];Object(i.useEffect)((function(){T()}),[z]);var T=function(){c.Axios.post("function/findFunctionList",z).then((function(e){if(!e.code){var t=N(e.data);l(t),t.length>0?(A(t[0]),k(t[0].id)):(A({}),k(""))}}))},N=function(e){return function e(t,r){for(var n=[],a=0;a<t.length;a++){var i=t[a];if(i.parentFunction===r||i.parentFunction&&i.parentFunction.id===r){var o=O(O({},i),{},{children:[]});o.children=e(t,i.id),n.push(o)}}return n}(e,null)},R=Object(i.useCallback)((function(e){var t=new FormData;A(e),k(e.id),t.append("id",e.id)}),[]),U=Object(i.useCallback)((function(e){p(e),y(!0)}),[]),L=Object(i.useCallback)((function(){p(""),E({}),y(!1),c.Axios.post("function/findFunctionList",C).then((function(e){if(!e.code){var t=N(e.data);if(l(t),t.length>0){var r=t.filter((function(e){return e.id===I}));r.length>0&&A(r[0])}}}))}),[]),J=Object(i.useCallback)((function(e){E(e),y(!0)}),[]),M=Object(i.useCallback)((function(e){var t=new FormData;t.append("id",e.id),c.Axios.post("function/deleteFunction",t).then((function(e){e.code||T()}))}),[]);return o.a.createElement("div",{className:"systemFeature"},o.a.createElement(n.a,{className:"systemFeature-wrap"},o.a.createElement(a.a,{span:24},o.a.createElement("div",{className:"systemFeature-parent"},o.a.createElement(s.a,{data:r,onSelect:R,addClick:y,onDelete:M,onEdit:J,onAddChildrenTree:U,defaultCurrent:I,setTreeParams:x,treeParams:z}),o.a.createElement(v,g({},e,{data:P}))))),o.a.createElement(u.a,{data:r,editData:j,visible:b,cancelAdd:L,parentId:d,urlType:"system"}))})))},958:function(e,t,r){},959:function(e,t,r){},960:function(e,t,r){},961:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));r(291);var n=r(292),a=(r(304),r(305)),i=r(1),o=r.n(i),l=r(52),c=r(4),u=r(853),s=r(861),f=(r(414),r(426)),d=(r(678),r(674)),p=r(698),m=r(635);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t=Object(p.a)().t,r=e.data;return o.a.createElement("div",{className:"dmFeatureDetail-detail"},o.a.createElement(d.b,{title:o.a.createElement(m.a,b({},e,{routes:[{disabled:!0,breadcrumbName:"功能管理 "},{path:"first",breadcrumbName:"功能详情"}]})),bordered:!0,column:1,labelStyle:{width:160}},r.name&&o.a.createElement(d.b.Item,{label:t("privilege-feature-name")},r.name),r.code&&o.a.createElement(d.b.Item,{label:t("privilege-feature-code")},r.code),!r.name&&o.a.createElement(d.b.Item,null,o.a.createElement(f.a,{description:o.a.createElement("span",null,"组织树结构为空，你需要创建一个")}))))},y=r(28);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=Object(l.b)(y.a)(Object(l.c)((function(e){var t=e.privilegeProjectFeatureStore,r=t.privilegeProjectTreeData,l=t.getDmPrivilegeTree,f=w(Object(i.useState)(""),2),d=f[0],p=f[1],m=w(Object(i.useState)(!1),2),b=m[0],y=m[1],h=w(Object(i.useState)({}),2),j=h[0],E=h[1],S=w(Object(i.useState)({}),2),P=S[0],A=S[1],D=w(Object(i.useState)(""),2),I=D[0],k=D[1],C={pageSize:99999,currentPage:1,type:"2"},F=w(Object(i.useState)(C),2),z=F[0],x=F[1];Object(i.useEffect)((function(){T()}),[z]);var T=function(){c.Axios.post("function/findFunctionList",z).then((function(e){if(!e.code){var t=N(e.data);l(t),t.length>0?(A(t[0]),k(t[0].id)):(A({}),k(""))}}))},N=function(e){var t=e.map((function(e){return!e.parentFunction&&e})).filter(Boolean),r=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&e})).filter(Boolean),n=[];return t.forEach((function(e){var t=e.id,a=r.filter((function(e){return e.parentFunction.id===t}));n.push(O(O({},e),{},{children:a}))})),n},R=Object(i.useCallback)((function(e){var t=new FormData;A(e),k(e.id),t.append("id",e.id)}),[]),U=Object(i.useCallback)((function(e){p(e),y(!0)}),[]),L=Object(i.useCallback)((function(){p(""),E({}),y(!1),c.Axios.post("function/findFunctionList",C).then((function(e){if(!e.code){var t=N(e.data);if(l(t),t.length>0){var r=t.filter((function(e){return e.id===I}));r.length>0&&A(r[0])}}}))}),[]),J=Object(i.useCallback)((function(e){E(e),y(!0)}),[]),M=Object(i.useCallback)((function(e){var t=new FormData;t.append("id",e.id),c.Axios.post("function/deleteFunction",t).then((function(e){e.code||T()}))}),[]);return o.a.createElement("div",{className:"privilege-dm"},o.a.createElement(n.a,{className:"privilege-dm-wrap"},o.a.createElement(a.a,{span:24},o.a.createElement("div",{className:"privilege-dm-parent"},o.a.createElement(s.a,{data:r,onSelect:R,addClick:y,onDelete:M,onEdit:J,onAddChildrenTree:U,defaultCurrent:I,setTreeParams:x,treeParams:z}),o.a.createElement(v,g({},e,{data:P}))))),o.a.createElement(u.a,{data:r,editData:j,visible:b,cancelAdd:L,parentId:d,urlType:"project"}))})))}}]);