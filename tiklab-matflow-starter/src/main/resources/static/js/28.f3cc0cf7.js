(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{108:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d}));var r,i=n(0),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=i.createContext(null),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return i.createElement(u.Provider,{value:this.props.store},this.props.children)},t}(i.Component),c=n(121),o=n.n(c),m=n(211),s=n.n(m),f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var N=function(){return{}};function p(e,t){void 0===t&&(t={});var n=!!e,r=e||N;return function(a){var l=function(t){function l(e,n){var i=t.call(this,e,n)||this;return i.unsubscribe=null,i.handleChange=function(){if(i.unsubscribe){var e=r(i.store.getState(),i.props);i.setState({subscribed:e})}},i.store=i.context,i.state={subscribed:r(i.store.getState(),e),store:i.store,props:e},i}return f(l,t),l.getDerivedStateFromProps=function(t,n){return e&&2===e.length&&t!==n.props?{subscribed:r(n.store.getState(),t),props:t}:{props:t}},l.prototype.componentDidMount=function(){this.trySubscribe()},l.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},l.prototype.shouldComponentUpdate=function(e,t){return!o()(this.props,e)||!o()(this.state.subscribed,t.subscribed)},l.prototype.trySubscribe=function(){n&&(this.unsubscribe=this.store.subscribe(this.handleChange),this.handleChange())},l.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},l.prototype.render=function(){var e=b(b(b({},this.props),this.state.subscribed),{store:this.store});return i.createElement(a,b({},e,{ref:this.props.miniStoreForwardedRef}))},l.displayName="Connect("+function(e){return e.displayName||e.name||"Component"}(a)+")",l.contextType=u,l}(i.Component);if(t.forwardRef){var c=i.forwardRef((function(e,t){return i.createElement(l,b({},e,{miniStoreForwardedRef:t}))}));return s()(c,a)}return s()(l,a)}}var _=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function d(e){var t=e,n=[];return{setState:function(e){t=_(_({},t),e);for(var r=0;r<n.length;r++)n[r]()},getState:function(){return t},subscribe:function(e){return n.push(e),function(){var t=n.indexOf(e);n.splice(t,1)}}}}},121:function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),u=Object.keys(t);if(a.length!==u.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var o=a[c];if(!l(o))return!1;var m=e[o],s=t[o];if(!1===(i=n?n.call(r,m,s,o):void 0)||void 0===i&&m!==s)return!1}return!0}},381:function(e,t,n){"use strict";n(30);var r=n(9),i=n(0),a=n.n(i),u="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\btn\\Btn.js";t.a=function(e){var t=e.icon,n=e.type,i=e.title,l=e.onClick,c=e.isMar;return a.a.createElement("div",{className:"mf-btn ".concat(n?"mf-btn-".concat(n):""," ").concat(c?"mf-btn-mar":""),onClick:l,__source:{fileName:u,lineNumber:18,columnNumber:9}},a.a.createElement(r.default,{__source:{fileName:u,lineNumber:19,columnNumber:13}},t&&a.a.createElement("span",{className:"mf-btn-icon",__source:{fileName:u,lineNumber:21,columnNumber:30}},t),i))}},382:function(e,t,n){"use strict";var r=n(0),i=n.n(r),a="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\emptyText\\EmptyText.js";t.a=function(e){var t=e.title;return i.a.createElement("div",{style:{textAlign:"center"},__source:{fileName:a,lineNumber:13,columnNumber:13}},i.a.createElement("svg",{className:"icon","aria-hidden":"true",style:{height:50,width:50},__source:{fileName:a,lineNumber:14,columnNumber:17}},i.a.createElement("use",{xlinkHref:"#icon-meiyouxiangguan",__source:{fileName:a,lineNumber:15,columnNumber:21}})),i.a.createElement("div",{style:{fontSize:13,color:"#999"},__source:{fileName:a,lineNumber:17,columnNumber:17}},t||"暂无数据"))}},389:function(e,t,n){"use strict";n(30);var r=n(9),i=n(0),a=n.n(i),u=n(203),l="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\breadcrumb\\Breadcrumb.js";t.a=function(e){var t=e.firstItem,n=e.secondItem,i=e.goBack;return a.a.createElement("div",{className:"breadcrumbContent",__source:{fileName:l,lineNumber:16,columnNumber:13}},a.a.createElement(r.default,{__source:{fileName:l,lineNumber:17,columnNumber:17}},i&&a.a.createElement(u.default,{onClick:i,style:{color:"#0063FF"},__source:{fileName:l,lineNumber:18,columnNumber:32}}),a.a.createElement("span",{className:n?"breadcrumbContent-span":"",__source:{fileName:l,lineNumber:19,columnNumber:21}},t),n&&a.a.createElement("span",{__source:{fileName:l,lineNumber:22,columnNumber:36}}," /   ",n)))}},432:function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=function(e){var t=e.text,n=e.colors;return i.a.createElement("span",{className:"mf-listname-icon ".concat(n?"mf-icon-".concat(n):"mf-icon-1"),__source:{fileName:"D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\list\\ListIcon.js",lineNumber:13,columnNumber:13}},t&&t.substring(0,1).toUpperCase())}},433:function(e,t,n){"use strict";var r=n(0),i=n.n(r),a="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\common\\tabs\\Tabs.js";t.a=function(e){var t=e.tabLis,n=e.type,r=e.onClick;return i.a.createElement("div",{className:"mf-tabs",__source:{fileName:a,lineNumber:15,columnNumber:9}},t.map((function(e){return i.a.createElement("div",{key:e.id,className:"mf-tab ".concat(n===e.id?"mf-active-tab":""),onClick:function(){return r(e)},__source:{fileName:a,lineNumber:18,columnNumber:21}},e.title)})))}},813:function(e,t,n){"use strict";n.r(t);n(61);var r=n(25),i=n(0),a=n.n(i),u=n(219),l=n(276),c=n(45),o=n(24),m=(n(46),n(27)),s=(n(397),n(395)),f=(n(87),n(22)),b=(n(30),n(9)),N=(n(75),n(21)),p=n(845),_=n(846),d=n(218),h=n(847),E=n(570),v=n(382),y=n(432),g=n.p+"images/pip_success.svg",k=n.p+"images/pip_error.svg",w=n.p+"images/pip_fog.svg",x=n.p+"images/pip_halt.svg",j="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\pipeline\\pipeline\\components\\PipelineTable.js",O=Object(o.inject)("historyStore")(Object(o.observer)((function(e){var t=e.historyStore,n=e.pipelineStore,r=t.execStart,i=t.execStop,u=n.pipelineList,l=n.updateFollow,c=n.fresh,o=n.setFresh,O=function(e,t){0===e.code?N.default.info("".concat(t,"成功"),.5):N.default.info(e.msg,.5)},C=function(e,t,n){return a.a.createElement("div",{__source:{fileName:j,lineNumber:89,columnNumber:9}},a.a.createElement("div",{__source:{fileName:j,lineNumber:90,columnNumber:13}},"执行人：",n),a.a.createElement("div",{__source:{fileName:j,lineNumber:91,columnNumber:13}},"执行状态：",e),a.a.createElement("div",{__source:{fileName:j,lineNumber:92,columnNumber:13}},"执行时间：",t))},S=[{title:"流水线名称",dataIndex:"name",key:"name",width:"35%",ellipsis:!0,render:function(t,n){return a.a.createElement("span",{className:"pipelineTable-name",onClick:function(){return function(t,n){return e.history.push("/index/pipeline/".concat(n.id,"/survey"))}(0,n)},__source:{fileName:j,lineNumber:104,columnNumber:25}},a.a.createElement(y.a,{text:t,colors:n.color,__source:{fileName:j,lineNumber:105,columnNumber:29}}),a.a.createElement("span",{__source:{fileName:j,lineNumber:106,columnNumber:29}},t))}},{title:"最近构建信息",dataIndex:"lastBuildTime",key:"lastBuildTime",width:"25%",ellipsis:!0,render:function(e,t){switch(t.buildStatus){case"success":return a.a.createElement(f.default,{title:C("成功",e,t.execUser.name),__source:{fileName:j,lineNumber:119,columnNumber:33}},a.a.createElement(b.default,{__source:{fileName:j,lineNumber:120,columnNumber:37}},a.a.createElement("img",{src:g,alt:"log",className:"imgs",__source:{fileName:j,lineNumber:121,columnNumber:41}}),e));case"error":return a.a.createElement(f.default,{title:C("失败",e,t.execUser.name),__source:{fileName:j,lineNumber:126,columnNumber:33}},a.a.createElement(b.default,{__source:{fileName:j,lineNumber:127,columnNumber:37}},a.a.createElement("img",{src:k,alt:"log",className:"imgs",__source:{fileName:j,lineNumber:128,columnNumber:41}}),e));case"run":return a.a.createElement(f.default,{title:C("运行中",e,t.execUser.name),__source:{fileName:j,lineNumber:133,columnNumber:32}},a.a.createElement(b.default,{__source:{fileName:j,lineNumber:134,columnNumber:37}},a.a.createElement("img",{src:w,alt:"log",className:"imgs",__source:{fileName:j,lineNumber:135,columnNumber:41}}),e));case"wait":return a.a.createElement(f.default,{title:C("待构建","待构建","无"),__source:{fileName:j,lineNumber:140,columnNumber:33}},a.a.createElement(b.default,{__source:{fileName:j,lineNumber:141,columnNumber:37}},a.a.createElement("img",{src:w,alt:"log",className:"imgs",__source:{fileName:j,lineNumber:142,columnNumber:41}}),"待构建"));case"halt":return a.a.createElement(f.default,{title:C("终止",e,t.execUser.name),__source:{fileName:j,lineNumber:147,columnNumber:34}},a.a.createElement(b.default,{__source:{fileName:j,lineNumber:148,columnNumber:37}},a.a.createElement("img",{src:x,alt:"log",className:"imgs",__source:{fileName:j,lineNumber:149,columnNumber:41}}),e))}}},{title:"负责人",dataIndex:["user","nickname"],key:"user",width:"15%",ellipsis:!0,render:function(e,t){return a.a.createElement(b.default,{__source:{fileName:j,lineNumber:163,columnNumber:25}},e)}},{title:"可见范围",dataIndex:"power",key:"power",width:"15%",ellipsis:!0,render:function(e,t){switch(e){case 1:return a.a.createElement(b.default,{__source:{fileName:j,lineNumber:178,columnNumber:33}},a.a.createElement(p.a,{__source:{fileName:j,lineNumber:179,columnNumber:37}}),"全局");case 2:return a.a.createElement(b.default,{__source:{fileName:j,lineNumber:183,columnNumber:33}},a.a.createElement(_.a,{__source:{fileName:j,lineNumber:184,columnNumber:37}}),"私有")}}},{title:"操作",dataIndex:"action",key:"action",width:"10%",ellipsis:!0,render:function(t,n){return a.a.createElement(b.default,{__source:{fileName:j,lineNumber:198,columnNumber:21}},a.a.createElement(f.default,{title:"运行",__source:{fileName:j,lineNumber:199,columnNumber:25}},a.a.createElement("span",{className:"pipelineTable-state",onClick:function(){return function(e){2===e.state?i(e.id).then((function(){o(!c)})):r(e.id).then((function(){o(!c)}))}(n)},__source:{fileName:j,lineNumber:200,columnNumber:29}},2===n.state?a.a.createElement(s.a,{indicator:a.a.createElement(d.a,{className:"actions-se",spin:!0,__source:{fileName:j,lineNumber:203,columnNumber:54}}),__source:{fileName:j,lineNumber:203,columnNumber:37}}):a.a.createElement(h.a,{className:"actions-se",__source:{fileName:j,lineNumber:205,columnNumber:37}}))),a.a.createElement(f.default,{title:"历史",__source:{fileName:j,lineNumber:209,columnNumber:25}},a.a.createElement("span",{className:"pipelineTable-history",onClick:function(){return function(t){return e.history.push("/index/pipeline/".concat(t.id,"/structure"))}(n)},__source:{fileName:j,lineNumber:210,columnNumber:29}},a.a.createElement(E.a,{className:"actions-se",__source:{fileName:j,lineNumber:211,columnNumber:33}}))),a.a.createElement(f.default,{title:"收藏",__source:{fileName:j,lineNumber:214,columnNumber:25}},a.a.createElement("span",{className:"pipelineTable-collect",onClick:function(){return function(e){l({id:e.id}).then((function(t){0===e.collect?O(t,"收藏"):O(t,"取消"),o(!c)}))}(n)},__source:{fileName:j,lineNumber:215,columnNumber:29}},0===n.collect?a.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:j,lineNumber:218,columnNumber:37}},a.a.createElement("use",{xlinkHref:"#icon-xingxing-kong",__source:{fileName:j,lineNumber:219,columnNumber:41}})):a.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:j,lineNumber:222,columnNumber:37}},a.a.createElement("use",{xlinkHref:"#icon-xingxing1",__source:{fileName:j,lineNumber:223,columnNumber:41}})))))}}];return a.a.createElement("div",{className:"pipelineTable",__source:{fileName:j,lineNumber:234,columnNumber:13}},a.a.createElement(m.default,{bordered:!1,columns:S,dataSource:u,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:a.a.createElement(v.a,{title:"暂无流水线",__source:{fileName:j,lineNumber:241,columnNumber:41}})},__source:{fileName:j,lineNumber:235,columnNumber:17}}))}))),C=n(389),S=n(381),T=n(433),P="D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\pipeline\\pipeline\\components\\Pipeline.js";function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=Object(c.o)(Object(o.inject)("pipelineStore")(Object(o.observer)((function(e){var t=e.pipelineStore,n=t.fresh,c=t.findUserPipeline,o=t.findAllFollow,m=t.findLike,s=t.listType,f=t.setListType;Object(i.useEffect)((function(){1===s?c():o()}),[n,s]);return a.a.createElement("div",{className:"pipeline",__source:{fileName:P,lineNumber:69,columnNumber:9}},a.a.createElement("div",{className:"pipeline-content mf-home-limited mf",__source:{fileName:P,lineNumber:70,columnNumber:13}},a.a.createElement("div",{className:"pipeline-top pipeline-flex",__source:{fileName:P,lineNumber:71,columnNumber:17}},a.a.createElement(C.a,{firstItem:"流水线",__source:{fileName:P,lineNumber:72,columnNumber:21}}),a.a.createElement(S.a,{onClick:function(){e.history.push("/index/pipeline/new")},type:"primary",title:"新建流水线",icon:a.a.createElement(u.default,{__source:{fileName:P,lineNumber:73,columnNumber:83}}),__source:{fileName:P,lineNumber:73,columnNumber:21}})),a.a.createElement("div",{className:"pipeline-type",__source:{fileName:P,lineNumber:75,columnNumber:17}},a.a.createElement(T.a,{type:s,tabLis:[{id:1,title:"所有流水线"},{id:2,title:"我收藏的"}],onClick:function(e){f(e.id)},__source:{fileName:P,lineNumber:76,columnNumber:21}}),a.a.createElement("div",{className:"pipeline-type-input",__source:{fileName:P,lineNumber:77,columnNumber:21}},a.a.createElement(r.default,{allowClear:!0,placeholder:"流水线名称",onChange:function(e){m(e.target.value)},prefix:a.a.createElement(l.default,{__source:{fileName:P,lineNumber:82,columnNumber:37}}),style:{width:200},__source:{fileName:P,lineNumber:78,columnNumber:25}}))),a.a.createElement(O,U({},e,{pipelineStore:t,__source:{fileName:P,lineNumber:87,columnNumber:17}}))))}))))}}]);