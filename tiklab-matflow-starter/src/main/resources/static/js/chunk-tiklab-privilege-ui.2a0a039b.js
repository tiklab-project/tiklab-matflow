(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{144:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={"privilege-feature-name":"功能名称","privilege-feature-code":"功能编码","privilege-add-feature":"添加功能","privilege-orga-name":"组织名称","privilege-add-user":"添加用户","privilege-search":"搜索","privilege-desc":"描述","privilege-user-and-org":"用户名、部门","privilege-user":"用户名","privilege-select-user":"选择用户","privilege-common":{edit:"编辑",delete:"删除",action:"操作","please-input":"请输入","please-select":"请输入"},"privilege-add-node":"新增子节点","privilege-edit-feature":"编辑功能","privilege-point-node":"挂载节点","privilege-point-node-placeholder":"请选择挂载节点","privilege-role":{addRole:"添加角色",addSystemRole:"添加系统角色",editRole:"编辑角色",roleName:"角色名称",roleDesc:"角色描述",people:"成员",promise:"权限",name:"姓名",phone:"手机号",email:"邮箱",type:"类别",orga:"部门",thirdparty:"第三方",internal:"内部",system:"系统",custom:"自定义"}}},27:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return y}));var n,a,i,o,l,c,u,f,s=r(0),d=r(3);function p(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var y=(a=v((n=b((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"privilegeSystemRole",a,this),p(this,"systemPermissions",i,this),p(this,"domainPermissions",o,this),p(this,"getRoles",l,this),p(this,"clearAllPermissions",c,this),p(this,"getInitProjectPermissions",u,this),p(this,"getSystemPermissions",f,this)}))).prototype,"privilegeSystemRole",[s.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=v(n.prototype,"systemPermissions",[s.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=v(n.prototype,"domainPermissions",[s.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=v(n.prototype,"getRoles",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeSystemRole=t}}}),c=v(n.prototype,"clearAllPermissions",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.systemPermissions=[],e.domainPermissions={}}}}),u=v(n.prototype,"getInitProjectPermissions",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){if(!e.domainPermissions[r]&&t&&r){var n=new FormData;n.append("userId",t),n.append("domainId",r);var a={};return Object(d.e)()&&Object(d.e)().tenant&&(a={tenant:Object(d.e)().tenant}),d.a.post("permission/findDomainPermissions",n,a).then((function(t){return t.code||(e.domainPermissions[r]=t.data),t}))}}}}),f=v(n.prototype,"getSystemPermissions",[s.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=new FormData;r.append("userId",t);var n={};return Object(d.e)()&&Object(d.e)().tenant&&(n={tenant:Object(d.e)().tenant}),d.a.post("permission/findPermissions",r,n).then((function(t){return t.code||(e.systemPermissions=t.data),t}))}}}),n),g="systemRoleStore"},28:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return O}));var n,a,i,o,l,c,u,f=r(0);function s(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=(a=h((n=y((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"privilegeSystemTreeData",a,this),b(this,"getPrivilegeTree",i,this),b(this,"addFeature",o,this),b(this,"addChildrenFeature",l,this),b(this,"deleteFeature",c,this),b(this,"editFeature",u,this)}))).prototype,"privilegeSystemTreeData",[f.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=h(n.prototype,"getPrivilegeTree",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeSystemTreeData=t}}}),o=h(n.prototype,"addFeature",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeSystemTreeData.push(t)}}}),l=h(n.prototype,"addChildrenFeature",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.privilegeSystemTreeData=e.privilegeSystemTreeData.map((function(e){return e.id===r?m(m({},e),{},{children:[t].concat(s(e.children))}):e}))}}}),c=h(n.prototype,"deleteFeature",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[];!function e(r,n){r.forEach((function(r,a){r.id!==t.id&&n.push(m(m({},r),{},{children:[]})),r.children&&r.children.length>0&&e(r.children,n[a].children)}))}(e.privilegeSystemTreeData,r),e.privilegeSystemTreeData=r}}}),u=h(n.prototype,"editFeature",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[];!function e(r,n){r.forEach((function(r,a){r.id===t.id?n.push(m(m(m({},r),t),{},{children:[]})):n.push(m(m({},r),{},{children:[]})),r.children&&n[a].children&&e(r.children,n[a].children)}))}(e.privilegeSystemTreeData,r),e.privilegeSystemTreeData=r}}}),n),j="privilegeSystemStore"},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return s}));var n,a,i,o=r(0);function l(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var s=(a=f((n=u((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"privilegeProjectRole",a,this),l(this,"getProjectRoles",i,this)}))).prototype,"privilegeProjectRole",[o.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=f(n.prototype,"getProjectRoles",[o.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectRole=t}}}),n),d="privilegeProjectRoleStore"},30:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return O}));var n,a,i,o,l,c,u,f=r(0);function s(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=(a=h((n=y((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"privilegeProjectTreeData",a,this),b(this,"getDmPrivilegeTree",i,this),b(this,"addDmFeature",o,this),b(this,"addDmChildrenFeature",l,this),b(this,"deleteDmFeature",c,this),b(this,"editDmFeature",u,this)}))).prototype,"privilegeProjectTreeData",[f.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=h(n.prototype,"getDmPrivilegeTree",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData=t}}}),o=h(n.prototype,"addDmFeature",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData.push(t)}}}),l=h(n.prototype,"addDmChildrenFeature",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.privilegeProjectTreeData=e.privilegeProjectTreeData.map((function(e){return e.id===r?m(m({},e),{},{children:[t].concat(s(e.children))}):e}))}}}),c=h(n.prototype,"deleteDmFeature",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[];!function e(r,n){r.forEach((function(r,a){r.id!==t.id&&n.push(m(m({},r),{},{children:[]})),r.children&&r.children.length>0&&e(r.children,n[a].children)}))}(e.privilegeProjectTreeData,r),e.privilegeProjectTreeData=r}}}),u=h(n.prototype,"editDmFeature",[f.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[];!function e(r,n){r.forEach((function(r,a){r.id===t.id?n.push(m(m(m({},r),t),{},{children:[]})):n.push(m(m({},r),{},{children:[]})),r.children&&n[a].children&&e(r.children,n[a].children)}))}(e.privilegeProjectTreeData,r),e.privilegeProjectTreeData=r}}}),n),j="privilegeProjectFeatureStore"},360:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(812);var n=r(776),a=r(1),i=r.n(a),o=r(56),l=function(e){var t=e.routes;return i.a.createElement("div",{className:"privilege-breadcrumb"},i.a.createElement(n.a,{itemRender:function(e,t,r,n){var a=r.indexOf(e)===r.length-1;return e.disabled?i.a.createElement("span",null,e.breadcrumbName):a?e.click?i.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.click()}},e.breadcrumbName):i.a.createElement("span",null,e.breadcrumbName):e.click?i.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.click()}},e.breadcrumbName):i.a.createElement(o.b,{to:e.path},e.breadcrumbName)},routes:t,separator:">"}))}},380:function(e,t,r){},519:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(1);var n=r(54),a=r(27),i=["code","disabled","systemRoleStore"];function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=Object(n.b)(a.a)(Object(n.c)((function(e){var t=e.code,r=void 0===t?"":t;e.disabled;var n=e.systemRoleStore,a=o(e,i),l=n.systemPermissions;try{return l.includes(r)?a.children:null}catch(e){return l.includes(r)?a.children:null}})))},531:function(e,t,r){},668:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));r(328);var n=r(327),a=(r(693),r(667)),i=(r(239),r(238)),o=(r(244),r(243)),l=r(1),c=r.n(l),u=r(111),f=r(3);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m={labelCol:{span:6},wrapperCol:{span:18}},b=function(e){var t=e.visible,r=e.cancelAdd,p=e.editData,b=void 0===p?{}:p,v=e.parentId,y=void 0===v?"":v,g=e.urlType,h=void 0===g?"system":g,O=e.data,j=void 0===O?[]:O,w=d(o.a.useForm(),1)[0],E=Object(u.a)().t,S=d(Object(l.useState)([]),2);S[0];var P=S[1];Object(l.useEffect)((function(){t&&I()}),[t]),Object(l.useEffect)((function(){"{}"!==JSON.stringify(b)&&(w.setFieldsValue({code:b.code}),w.setFieldsValue({name:b.name}),w.setFieldsValue({parent:b.parentFunction?b.parentFunction.id:b.parentFunction})),y&&w.setFieldsValue({parent:y})}),[b,y]);var D,I=function(){var e=new FormData;e.append("type","system"===h?"1":"2"),f.a.post("function/findFunctionListByParentId",e).then((function(e){e.code||P(e.data)}))},A=function(){w.resetFields(),r()};return c.a.createElement(n.a,{title:"{}"!==JSON.stringify(b)?E("privilege-edit-feature"):E("privilege-add-feature"),visible:t,onOk:function(){w.submit()},onCancel:A,closable:!1,forceRender:!0,destroyOnClose:!0},c.a.createElement(o.a,s({},m,{form:w,onFinish:function(e){if("{}"===JSON.stringify(b)){var t={name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===h?"1":"2"};f.a.post("function/createFunction",t).then((function(e){e.code||A()}))}else{var r={id:b.id,name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===h?"1":"2"};f.a.post("function/updateFunction",r).then((function(e){e.code||A()}))}},preserve:!1}),c.a.createElement(o.a.Item,{label:E("privilege-feature-name"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.a.createElement(i.a,null)),c.a.createElement(o.a.Item,{label:E("privilege-feature-code"),name:"code",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.a.createElement(i.a,null)),c.a.createElement(o.a.Item,{label:E("privilege-point-node"),name:"parent"},c.a.createElement(a.a,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:(D=[],function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var a={title:t.name,value:t.id,disabled:n};if(t.id===b.id&&(a.disabled=!0),r.push(a),t.children&&t.children.length>0)return e(t.children,a.children=[],a.disabled)}))}(j,D),D),placeholder:E("privilege-point-node-placeholder"),disabled:y||b.children&&b.children.length>0}))))}},669:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r(689);var n=r(670),a=(r(596),r(597)),i=(r(239),r(238)),o=r(1),l=r.n(o),c=r(692),u=r(813);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.data,r=e.onSearch,s=e.actions,d=e.onEdit,p=e.onDelete,m=e.onDetail,b=e.children,v=e.ListComp,y=e.userProduction,g=void 0===y||y,h=e.isSpace,O=void 0!==h&&h,j=f(Object(o.useState)(""),2),w=j[0],E=j[1];return l.a.createElement("div",{className:"privilegeLayout"},l.a.createElement("div",{className:"left"},O?l.a.createElement("div",{className:"search_1"},l.a.createElement(i.a,{placeholder:"搜索名称",style:{marginRight:8},onPressEnter:function(e){return r(e)},value:w,onChange:function(e){return E(e.target.value)}}),s):l.a.createElement("div",{className:"search"},l.a.createElement(i.a,{placeholder:"搜索名称",onPressEnter:function(e){return r(e)},value:w,onChange:function(e){return E(e.target.value)}}),s),t?l.a.createElement(a.b,{dataSource:t,renderItem:function(e){return l.a.createElement(a.b.Item,{key:e.id,actions:g&&p?[l.a.createElement(c.a,{onClick:function(){return d(e)}}),l.a.createElement(u.a,{onClick:function(){return p(e.id)}})]:p?[l.a.createElement(u.a,{onClick:function(){return p(e.id)}})]:[]},l.a.createElement("div",{className:"listName",onClick:function(){return m(e)}},e.name))}}):l.a.createElement(l.a.Fragment,null,v)),l.a.createElement(n.a,{type:"vertical",style:{height:"100%"}}),l.a.createElement("div",{className:"right"},b))}},671:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));r(328);var n=r(327),a=(r(239),r(238)),i=(r(244),r(243)),o=r(1),l=r.n(o),c=r(111),u=r(3);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v={labelCol:{span:6},wrapperCol:{span:18}},y=function(e){var t=Object(c.a)().t,r=e.visible,s=e.cancel,p=e.editData,b=void 0===p?{}:p,y=e.group,g=void 0===y?"system":y,h=e.urlType,O=void 0===h?"system":h;if(!["system","project"].includes(O))throw Error("use RoleAdd Component must have urlType props, value:'system'、 'project'");var j=m(i.a.useForm(),1)[0];Object(o.useEffect)((function(){j.setFieldsValue({desc:b.desc}),j.setFieldsValue({name:b.name})}),[b]);var w=function(){j.resetFields(),s()};return l.a.createElement(n.a,{title:"{}"!==JSON.stringify(b)?t("privilege-role.editRole"):t("privilege-role.addRole"),visible:r,onOk:function(){j.submit()},onCancel:w,closable:!1,forceRender:!0,destroyOnClose:!0},l.a.createElement(i.a,f({},v,{form:j,preserve:!1,onFinish:function(e){var t="role/createRole",r=d(d({},e),{},{group:g,type:"system"===O?"1":"2"});"{}"!==JSON.stringify(b)&&(t="role/updateRole",r=d(d({},e),{},{group:g,id:b.id,type:"system"===O?"1":"2"})),u.a.post(t,r).then((function(e){e.code||w()}))}}),l.a.createElement(i.a.Item,{label:t("privilege-role.roleName"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},l.a.createElement(a.a,null)),l.a.createElement(i.a.Item,{label:t("privilege-desc"),name:"desc"},l.a.createElement(a.a,null))))},g=Object(o.memo)(y)},688:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));r(313);var n=r(314),a=(r(317),r(318)),i=(r(237),r(235)),o=(r(239),r(238)),l=(r(398),r(378)),c=(r(374),r(383)),u=r(1),f=r.n(u),s=r(111),d=r(503),p=r(839),m=r(533),b=r(692),v=r(813);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w,E=(w="privilege-tree",function(e,t){return Object.entries(e instanceof Object?e:(r={},n=e,a=e,n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r)).filter((function(e){return!1!==e[1]})).map((function(e){return e[0]})).map((function(e){return[w,e].filter(Boolean).join("-")})).concat(t&&t.extra||[]).join(" ");var r,n,a}),S=function(e){var t=e.defaultExpandedKeys,r=void 0===t?[]:t,y=e.data,h=void 0===y?[]:y,j=e.defaultCurrent,w=void 0===j?"":j,S=e.onSelect,P=e.onDelete,D=e.onEdit,I=e.classNameTree,A=e.addClick,k=e.onAddChildrenTree,C=e.setTreeParams,F=e.treeParams,z=Object(s.a)().t,T=O(Object(u.useState)(r),2),N=T[0],R=T[1],x=O(Object(u.useState)(w),2),U=x[0],L=x[1];Object(u.useMemo)((function(){L(w)}),[w]);var J=function(e){return N.some((function(t){return t===e}))},M=function(e){J(e)?R(N.filter((function(t){return t!==e}))):R(N.concat(e))},$=function(e){S&&("function"==typeof S&&S(e),L(e.id))},K=function(e){P&&"function"==typeof P&&P(e)},B=function(e){D&&"function"==typeof D&&D(e)},V=function(e){k(e.id)};return f.a.createElement("div",{className:E("wrap",{extra:[I].join(" ")})},f.a.createElement(n.a,null,f.a.createElement(a.a,{span:24},f.a.createElement("div",{className:"tree-item-wrap-tools"},f.a.createElement(o.a,{placeholder:z("privilege-search")+z("privilege-orga-name"),onPressEnter:function(e){return function(e){var t=e.target.value;C(g(g({},F),{},{name:t}))}(e)}}),f.a.createElement(i.a,{type:"primary",onClick:function(){A(!0)}},"+",z("privilege-add-feature"))))),f.a.createElement("div",{className:"privilege-tree"},f.a.createElement("div",{className:"tree"},function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length?t.map((function(t,r){return t.children&&t.children.length?f.a.createElement("li",{key:t.id},f.a.createElement("div",{className:"tree-children"},J(t.id)?f.a.createElement(d.a,{onClick:function(){return M(t.id)}}):f.a.createElement(p.a,{onClick:function(){return M(t.id)}}),f.a.createElement("div",{className:U===t.id?"tree-item-wrap tree-active":"tree-item-wrap"},f.a.createElement("span",{className:"tree-node",onClick:function(){return $(t)}},f.a.createElement(l.a,{placement:"top",title:t.name},t.name)),f.a.createElement("div",{className:"tree-item-action"},f.a.createElement(m.a,{onClick:function(){return V(t)}}),!t.default&&f.a.createElement(b.a,{onClick:function(){return B(t)}}),!t.children&&f.a.createElement(v.a,{onClick:function(){return K(t)}})))),f.a.createElement("ul",{className:J(t.id)?null:"tree-node-hidden"},e(t.children))):f.a.createElement("li",{key:t.id},f.a.createElement("div",{className:"tree-item"},f.a.createElement("div",{className:U===t.id?"tree-item-wrap tree-active":"tree-item-wrap"},f.a.createElement("span",{className:"tree-node",onClick:function(){return $(t)}},f.a.createElement(l.a,{placement:"top",title:t.name},t.name)),f.a.createElement("div",{className:"tree-item-action"},f.a.createElement(m.a,{onClick:function(){return V(t)}}),!t.default&&f.a.createElement(b.a,{onClick:function(){return B(t)}}),!t.default&&f.a.createElement(v.a,{onClick:function(){return K(t)}})))))})):f.a.createElement("div",{className:"tree-empty"},f.a.createElement(c.a,{description:f.a.createElement("span",null,"组织树结构为空，你需要创建一个")}))}(h))))}},771:function(e,t,r){"use strict";r.d(t,"a",(function(){return H}));r(374);var n=r(383),a=(r(468),r(467)),i=(r(355),r(356)),o=(r(237),r(235)),l=r(1),c=r.n(l),u=r(54),f=r(111),s=r(3),d=r(360),p=r(671),m=(r(453),r(439)),b=(r(343),r(342)),v=(r(313),r(314)),y=(r(317),r(318)),g=(r(239),r(238)),h=(r(328),r(327)),O=(r(244),r(243));function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D=function(e){var t=Object(f.a)().t,r=e.visible,n=e.onCancel,a=e.id,i=void 0===a?"":a,u=e.addSelectedRowKeys,d=e.userIDWidthId,p=e.userDir,m=S(Object(l.useState)([]),2),j=m[0],E=m[1],P=S(Object(l.useState)([]),2),D=P[0],I=P[1],A=S(Object(l.useState)(10),1)[0],k=S(Object(l.useState)(1),2),C=k[0],F=k[1],z=S(Object(l.useState)(0),2),T=z[0],N=z[1],R=S(Object(l.useState)({pageParam:{pageSize:A,currentPage:C}}),2),x=R[0],U=R[1];Object(l.useEffect)((function(){L(x)}),[x]),Object(l.useEffect)((function(){E(u)}),[u]);var L=function(e){s.a.post("user/findUserPage",e).then((function(e){e.code||(N(e.data.totalRecord),I(e.data.dataList))}))},J=function(){U({pageParam:{pageSize:A,currentPage:1}}),E([]),F(1),N(0),n()},M=[{title:t("privilege-role.name"),dataIndex:"name",key:"name",width:"20%",ellipsis:!0},{title:t("privilege-role.phone"),dataIndex:"phone",key:"phone",width:"20%",ellipsis:!0},{title:t("privilege-role.email"),dataIndex:"email",key:"email",width:"20%",ellipsis:!0},{title:t("privilege-role.org"),dataIndex:"org",key:"org",width:"20%",ellipsis:!0},{title:t("privilege-role.type"),dataIndex:"userType",key:"userType",width:"10%",ellipsis:!0,render:function(e){var t=p.findIndex((function(t){return t.id==e}));return t>-1?p[t].name:"--"}}],$={selectedRowKeys:j,onChange:function(e){E(e)},onSelect:function(e){var t,r="roleUser/deleteRoleUser";j.some((function(t){return t===e.id}))?(t=new FormData).append("id",d[e.id]):(t={role:{id:i},user:{id:e.id}},r="roleUser/createRoleUser"),s.a.post(r,t)}};return c.a.createElement(h.a,{title:t("privilege-select-user"),visible:r,onOk:function(){J()},onCancel:J,closable:!1,width:1200},c.a.createElement(v.a,{style:{paddingBottom:16}},c.a.createElement(y.a,{span:24},c.a.createElement(O.a,{layout:"inline",onFinish:function(e){var t=e.name,r=w(w({},x),{},{name:t,pageParam:{pageSize:A,currentPage:1}});U(r)}},c.a.createElement(O.a.Item,{name:"name",label:t("privilege-user")},c.a.createElement(g.a,null)),c.a.createElement(O.a.Item,null,c.a.createElement(o.a,{type:"primary",htmlType:"submit"},t("privilege-search")))))),c.a.createElement(v.a,null,c.a.createElement(y.a,{span:24},c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(b.a,{columns:M,dataSource:D,rowSelection:$,rowKey:function(e){return e.id},pagination:{current:C,pageSize:A,total:T,onChange:function(e){F(e);var t=w(w({},t),{},{pageParam:{pageSize:A,currentPage:e}});U(t)}}})))))};function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){var t=e.roleDetail,r=Object(f.a)().t,n=A(Object(l.useState)([]),2),a=n[0],u=n[1];Object(l.useEffect)((function(){return d(),function(){return u([])}}),[]);var d=function(){s.a.post("/userdir/findAllList").then((function(e){e.code||u(e.data)}))},p=[{title:r("privilege-role.name"),dataIndex:["user","name"]},{title:r("privilege-role.phone"),dataIndex:["user","phone"]},{title:r("privilege-role.email"),dataIndex:["user","email"]},{title:r("privilege-role.type"),dataIndex:["user","userType"],render:function(e){var t=a.findIndex((function(t){return t.id==e}));return t>-1?a[t].name:"--"}},{title:r("privilege-common.action"),key:"action",render:function(e,t){return c.a.createElement(i.b,{size:"middle"},c.a.createElement("a",{onClick:function(){return N(t.id)}},r("privilege-common.delete")))}}],m=A(Object(l.useState)([]),2),h=m[0],O=m[1],j=A(Object(l.useState)(!1),2),w=j[0],E=j[1],S=A(Object(l.useState)([]),2),P=S[0],k=S[1],C=A(Object(l.useState)({}),2),F=C[0],z=C[1];Object(l.useEffect)((function(){t&&T({roleId:t.id})}),[t]);var T=function(e){s.a.post("roleUser/findRoleUserList",e).then((function(e){if(!e.code){O(e.data);var t=e.data.map((function(e){return e.user.id})),r=e.data.reduce((function(e,t){return e[t.user.id]=t.id,e}),{});k(t),z(r)}}))},N=function(e){var r=new FormData;r.append("id",e),s.a.post("roleUser/deleteRoleUser",r).then((function(e){e.code||T({roleId:t.id})}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{style:{padding:"16px 0"},justify:"space-between"},c.a.createElement(y.a,{span:6},c.a.createElement(g.a,{placeholder:r("privilege-search")+r("privilege-user-and-org"),onPressEnter:function(e){var r=e.target.value;T({roleId:t.id,name:r})}})),c.a.createElement(o.a,{onClick:function(){E(!0)}},"+",r("privilege-add-user"))),c.a.createElement(v.a,null,c.a.createElement(y.a,{span:24},c.a.createElement(b.a,{columns:p,dataSource:h,rowKey:function(e){return e.id}}))),c.a.createElement(D,I({},e,{visible:w,onCancel:function(){return E(!1),void T({roleId:t.id})},id:t.id,addSelectedRowKeys:P,userIDWidthId:F,userDir:a})))},F=(r(399),r(384));function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=F.a.Group,M=function(e){var t=e.roleDetail,r=e.group,n=x(Object(l.useState)([]),2),a=n[0],i=n[1],o=x(Object(l.useState)({}),2),u=o[0],f=o[1],d=x(Object(l.useState)({}),2),p=d[0],m=d[1];Object(l.useEffect)((function(){t&&b()}),[t]);var b=function(){s.a.post("/function/findFunctionList",{group:r}).then((function(e){if(!e.code){var r=v(e.data);i(r.result),f(r.resultChild),g(t.id,!0,r.result,r.resultChild)}}))},v=function(e){var t=e.map((function(e){return!e.parentFunction&&{value:e.id,label:e.name}})).filter(Boolean),r=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&{value:e.id,label:e.name,parent:e.parentFunction.id}})).filter(Boolean),n=[],a={};return t.forEach((function(e){var t=e.value,i=r.filter((function(e){return e.parent===t}));n.push({value:e.value,label:e.label,indeterminate:!1,checkedList:[],checkAll:!1}),a[e.value]=i})),{result:n,resultChild:a}},y=function(e){var t=e.filter((function(e){return e.function&&e.function.parentFunction})).map((function(e){return{parentID:e.function.parentFunction.id,id:e.function.id}})),r=e.filter((function(e){return!e.function.parentFunction})).map((function(e){return e.function.id})),n={};return r.forEach((function(e){var r=t.map((function(t){if(t.parentID===e)return t.id})).filter(Boolean);n[e]=[].concat(R(r),[e])})),n},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={roleId:e};s.a.post("roleFunction/findRoleFunctionList",o).then((function(e){if(!e.code){var o=y(e.data),l=e.data.reduce((function(e,t){return e[t.function.id]=t.id,e}),{}),c=t?n:u,f=(t?r:a).map((function(e){var t=o[e.value]?o[e.value]:[],r=0===c[e.value].length,n=t.length===c[e.value].length+1&&0!==t.length,a=n?!n:!!t.length&&t.length<c[e.value].length+1;return r&&1===t.length&&(n=!0,a=!1),T(T({},e),{},{checkedList:t,indeterminate:a,checkAll:n})}));m(l),i(f)}}))},h=function(e,t){var r=t,n=a.filter((function(t){return t.value===e}))[0].checkedList,i=r.length<n.length,o=i?O(n,r):O(r,n);if(i)if(n.length>2){var l=o.filter((function(t){return t!==e}));l.map((function(e,t){w(e,t+1===l.length)}))}else{var c=Array.from(new Set(0===r.length?[e].concat(R(o)):o));c.map((function(e,t){w(e,t+1===c.length)}))}else{var u=0===n.length?[e].concat(R(o)):o;u.map((function(e,t){j(e,t+1===u.length)}))}},O=function(e,t){for(var r=[],n=function(n){var a=e[n];t.some((function(e){return e===a}))&&0!==t.length||r.push(a)},a=0;a<e.length;a++)n(a);return r},j=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={role:{id:t.id},function:{id:e}};s.a.post("roleFunction/createRoleFunction",n).then((function(e){r&&g(t.id)}))},w=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=p[e],a=new FormData;a.append("id",n),s.a.post("roleFunction/deleteRoleFunction",a).then((function(e){r&&g(t.id)}))};return c.a.createElement(c.a.Fragment,null,a.map((function(e){return c.a.createElement("div",{key:e.value},c.a.createElement(F.a,{indeterminate:e.indeterminate,onChange:function(t){return function(e,t){var r=Object.keys(p),n=r.includes(e),a=r.filter((function(t){return u[e].some((function(e){return e.value===t}))})),i=u[e].filter((function(e){if(!a.some((function(t){return t===e.value})))return e})),o=(!n||0!==u[e].length)&&u[e].length===i.length;if(n||(o=!0,i=u[e]),o)r.includes(e)||(i=[].concat(R(i),[{value:e}])),i.length>0?i.map((function(e,t){j(e.value,t+1===i.length)})):j(e,!0);else{if(r.includes(e)){var l=a.map((function(e){return{value:e}}));i=[].concat(R(l),[{value:e}])}i.length>0?i.map((function(e,t){w(e.value,t+1===i.length)})):w(e,!0)}}(e.value)},checked:e.checkAll},e.label),c.a.createElement("br",null),"       ",c.a.createElement(J,{options:u[e.value],value:e.checkedList,onChange:function(t){return function(e,t){h(e,t)}(e.value,t)}}))})))};function $(){return($=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var K=m.a.TabPane,B=function(e){var t=e.roleDetailParams,r=Object(f.a)().t;return c.a.createElement("div",{className:"role-detail"},c.a.createElement(m.a,{type:"card",defaultActiveKey:"people"},c.a.createElement(K,{tab:r("privilege-role.people"),key:"people"},c.a.createElement(C,$({},e,{group:t.group,roleDetail:t}))),c.a.createElement(K,{tab:r("privilege-role.promise"),key:"promise"},c.a.createElement(M,$({},e,{group:t.group,roleDetail:t})))))},V=r(669),W=r(27);function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H=Object(u.b)(W.a)(Object(u.c)((function(e){var t=Object(f.a)().t,r=e.systemRoleStore,u=r.getRoles,m=r.privilegeSystemRole,b=q(Object(l.useState)(!1),2),v=b[0],y=b[1],g=q(Object(l.useState)({}),2),h=g[0],O=g[1],j=q(Object(l.useState)(99),1)[0],w=q(Object(l.useState)(1),2),E=w[0],S=w[1],P=q(Object(l.useState)(0),2);P[0];var D=P[1],I=q(Object(l.useState)(""),2),A=I[0],k=I[1],C=q(Object(l.useState)({}),2),F=C[0],z=C[1],T={pageParam:{pageSize:j,currentPage:E}},N=q(Object(l.useState)(T),2),R=N[0],x=N[1];Object(l.useEffect)((function(){U(R)}),[R]);var U=function(e){s.a.post("role/findRolePage",e).then((function(e){if(!e.code){u(e.data.dataList),D(e.data.totalRecord);var t=e.data.dataList;if("{}"!==JSON.stringify(F)){var r=t.filter((function(e){return e.id===F.id}));z(r.length>0?r[0]:{})}else z(t.length>0?t[0]:{})}}))},L=Object(l.useCallback)((function(){O({}),y(!1),U(R)}),[v]),J=c.a.createElement(i.b,null,!1,c.a.createElement(o.a,{onClick:function(){return k("custom"),void y(!0)}},"+",t("privilege-role.addRole")));return c.a.createElement(V.a,{onSearch:function(e){x({name:e.target.value,pageParam:{pageSize:j,currentPage:1}}),S(1)},actions:J,onEdit:function(e){O(e),y(!0)},onDelete:function(e){var t=new FormData;t.append("id",e),s.a.post("role/deleteRole",t).then((function(e){e.code||U(R)}))},onDetail:function(e){z(e)},data:m,userProduction:!1},c.a.createElement(c.a.Fragment,null,c.a.createElement(a.b,{title:c.a.createElement(d.a,{routes:[{disabled:!0,breadcrumbName:"角色管理 "},{path:"first",breadcrumbName:"角色列表"}]}),bordered:!0,column:1,labelStyle:{width:160}},"{}"!==JSON.stringify(F)&&c.a.createElement(a.b.Item,{label:t("privilege-role.roleName")},F.name),"{}"!==JSON.stringify(F)&&c.a.createElement(a.b.Item,{label:t("privilege-role.type")},function(e){switch(e){case"1":return t("privilege-role.system");case"2":default:return t("privilege-role.custom")}}(F.type)),"{}"!==JSON.stringify(F)&&c.a.createElement(a.b.Item,{label:"角色分组"},function(e){switch(e){case"system":return"系统级";case"custom":return"项目级";default:return"项目域"}}(F.group)),"{}"!==JSON.stringify(F)&&c.a.createElement(a.b.Item,{label:t("privilege-role.roleDesc")},F.desc),"{}"===JSON.stringify(F)&&c.a.createElement(a.b.Item,null,c.a.createElement(n.a,{description:c.a.createElement("span",null,"角色列表，你需要创建一个")}))),"{}"!==JSON.stringify(F)&&c.a.createElement(B,{roleDetailParams:F})),c.a.createElement(p.a,{visible:v,cancel:L,editData:h,group:A,urlType:"system"}))})))},772:function(e,t,r){"use strict";r.d(t,"a",(function(){return ne}));r(374);var n=r(383),a=(r(468),r(467)),i=(r(596),r(597)),o=(r(313),r(314)),l=(r(237),r(235)),c=(r(317),r(318)),u=(r(330),r(329)),f=r(1),s=r.n(f),d=r(54),p=r(3),m=r(111),b=r(692),v=r(671),y=r(360),g=(r(453),r(439)),h=(r(343),r(342)),O=(r(239),r(238)),j=(r(355),r(356)),w=(r(328),r(327)),E=(r(244),r(243));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e){var t=Object(m.a)().t,r=e.visible,n=e.onCancel,a=e.id,i=void 0===a?"":a,u=e.addSelectedRowKeys,d=e.userIDWidthId;e.domainId;var b=I(Object(f.useState)([]),2),v=b[0],y=b[1],g=I(Object(f.useState)([]),2),j=g[0],S=g[1],D=I(Object(f.useState)(10),1)[0],A=I(Object(f.useState)(1),2),k=A[0],C=A[1],F=I(Object(f.useState)(0),2),z=F[0],T=F[1],N={pageParam:{pageSize:D,currentPage:k}},R=I(Object(f.useState)(N),2),x=R[0],U=R[1];Object(f.useEffect)((function(){L(x)}),[x]),Object(f.useEffect)((function(){y(u)}),[u]);var L=function(e){p.a.post("user/findUserPage",e).then((function(e){e.code||(T(e.data.totalRecord),S(e.data.dataList))}))},J=function(){U({pageParam:{pageSize:D,currentPage:1}}),y([]),C(1),T(0),n()},M=[{title:t("privilege-role.name"),dataIndex:"name",key:"name",width:"20%",ellipsis:!0},{title:t("privilege-role.phone"),dataIndex:"phone",key:"phone",width:"20%",ellipsis:!0},{title:t("privilege-role.email"),dataIndex:"email",key:"email",width:"20%",ellipsis:!0},{title:t("privilege-role.orga"),dataIndex:"org",key:"org",width:"20%",ellipsis:!0},{title:t("privilege-role.type"),dataIndex:"userType",key:"userType",width:"10%",ellipsis:!0,render:function(e){switch(e){case 2:return t("privilege-role.thirdparty");case 1:return t("privilege-role.internal");default:return"--"}}}],$={selectedRowKeys:v,onChange:function(e){y(e)},onSelect:function(e){var t,r="roleUser/deleteRoleUser";v.some((function(t){return t===e.id}))?(t=new FormData).append("id",d[e.id]):(t={role:{id:i},user:{id:e.id}},r="roleUser/createRoleUser"),p.a.post(r,t)}};return s.a.createElement(w.a,{title:t("privilege-select-user"),visible:r,onOk:function(){J()},onCancel:J,closable:!1,width:1200,destroyOnClose:!0},s.a.createElement(o.a,null,s.a.createElement(c.a,{span:24},s.a.createElement(E.a,{layout:"inline",onFinish:function(e){},preserve:!1},s.a.createElement(E.a.Item,{name:"name",label:t("privilege-user")},s.a.createElement(O.a,null)),s.a.createElement(E.a.Item,null,s.a.createElement(l.a,{type:"primary",htmlType:"submit"},t("privilege-search")))))),s.a.createElement(o.a,null,s.a.createElement(c.a,{span:24},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(h.a,{columns:M,dataSource:j,rowSelection:$,rowKey:function(e){return e.id},pagination:{current:k,pageSize:D,total:z,onChange:function(e){C(e);var t=P(P({},t),{},{pageParam:{pageSize:D,currentPage:e}});U(t)}}})))))};function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){var t=e.roleDetail,r=Object(m.a)().t,n=F(Object(f.useState)([]),2),a=n[0],i=n[1];Object(f.useEffect)((function(){return u(),function(){return i([])}}),[]);var u=function(){p.a.post("/userdir/findAllList").then((function(e){e.code||i(e.data)}))},d=[{title:r("privilege-role.name"),dataIndex:["user","name"]},{title:r("privilege-role.phone"),dataIndex:["user","phone"]},{title:r("privilege-role.email"),dataIndex:["user","email"]},{title:r("privilege-role.type"),dataIndex:["user","userType"],render:function(e){var t=a.findIndex((function(t){return t.id===e}));return t>-1?a[t].name:"--"}},{title:r("privilege-common.action"),key:"action",render:function(e,t){return s.a.createElement(j.b,{size:"middle"},s.a.createElement("a",{onClick:function(){return N(t.id)}},r("privilege-common.delete")))}}],b=F(Object(f.useState)([]),2),v=b[0],y=b[1],g=F(Object(f.useState)(!1),2),w=g[0],E=g[1],S=F(Object(f.useState)([]),2),P=S[0],D=S[1],I=F(Object(f.useState)({}),2),A=I[0],z=I[1];Object(f.useEffect)((function(){t&&T({roleId:t.id})}),[t]);var T=function(e){p.a.post("roleUser/findRoleUserList",e).then((function(e){if(!e.code){y(e.data);var t=e.data.map((function(e){return e.user.id})),r=e.data.reduce((function(e,t){return e[t.user.id]=t.id,e}),{});D(t),z(r)}}))},N=function(e){var r=new FormData;r.append("id",e),p.a.post("roleUser/deleteRoleUser",r).then((function(e){e.code||T({roleId:t.id})}))};return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{style:{padding:"16px 0"},justify:"space-between"},s.a.createElement(c.a,{span:6},s.a.createElement(O.a,{placeholder:r("privilege-search")+r("privilege-user-and-org"),onPressEnter:function(e){var r=e.target.value;T({roleId:t.id,name:r})}})),s.a.createElement(l.a,{onClick:function(){E(!0)}},"+",r("privilege-add-user"))),s.a.createElement(o.a,null,s.a.createElement(c.a,{span:24},s.a.createElement(h.a,{columns:d,dataSource:v,rowKey:function(e){return e.id}}))),s.a.createElement(k,C({},e,{visible:w,onCancel:function(){return E(!1),void T({roleId:t.id})},id:t.id,addSelectedRowKeys:P,userIDWidthId:A,userDir:a})))},N=(r(399),r(384));function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K=N.a.Group,B=function(e){var t=e.roleDetail;e.group;var r=J(Object(f.useState)([]),2),n=r[0],a=r[1],i=J(Object(f.useState)({}),2),o=i[0],l=i[1],c=J(Object(f.useState)({}),2),u=c[0],d=c[1];Object(f.useEffect)((function(){t&&m()}),[t]);var m=function(){p.a.post("/function/findFunctionList",{type:"2"}).then((function(e){if(!e.code){var r=b(e.data);a(r.result),l(r.resultChild),y(t.id,!0,r.result,r.resultChild)}}))},b=function(e){var t=e.map((function(e){return!e.parentFunction&&{value:e.id,label:e.name}})).filter(Boolean),r=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&{value:e.id,label:e.name,parent:e.parentFunction.id}})).filter(Boolean),n=[],a={};return t.forEach((function(e){var t=e.value,i=r.filter((function(e){return e.parent===t}));n.push({value:e.value,label:e.label,indeterminate:!1,checkedList:[],checkAll:!1}),a[e.value]=i})),{result:n,resultChild:a}},v=function(e){var t=e.filter((function(e){return e.function&&e.function.parentFunction})).map((function(e){return{parentID:e.function.parentFunction.id,id:e.function.id}})),r=e.filter((function(e){return!e.function.parentFunction})).map((function(e){return e.function.id})),n={};return r.forEach((function(e){var r=t.map((function(t){if(t.parentID===e)return t.id})).filter(Boolean);n[e]=[].concat(L(r),[e])})),n},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l={roleId:e};p.a.post("roleFunction/findRoleFunctionList",l).then((function(e){if(!e.code){var l=v(e.data),c=e.data.reduce((function(e,t){return e[t.function.id]=t.id,e}),{}),u=t?i:o,f=(t?r:n).map((function(e){var t=l[e.value]?l[e.value]:[],r=0===u[e.value].length,n=t.length===u[e.value].length+1&&0!==t.length,a=n?!n:!!t.length&&t.length<u[e.value].length+1;return r&&1===t.length&&(n=!0,a=!1),x(x({},e),{},{checkedList:t,indeterminate:a,checkAll:n})}));d(c),a(f)}}))},g=function(e,t){var r=t,a=n.filter((function(t){return t.value===e}))[0].checkedList,i=r.length<a.length,o=i?h(a,r):h(r,a);if(i)if(a.length>2){var l=o.filter((function(t){return t!==e}));l.map((function(e,t){j(e,t+1===l.length)}))}else{var c=Array.from(new Set(0===r.length?[e].concat(L(o)):o));c.map((function(e,t){j(e,t+1===c.length)}))}else{var u=0===a.length?[e].concat(L(o)):o;u.map((function(e,t){O(e,t+1===u.length)}))}},h=function(e,t){for(var r=[],n=function(n){var a=e[n];t.some((function(e){return e===a}))&&0!==t.length||r.push(a)},a=0;a<e.length;a++)n(a);return r},O=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={role:{id:t.id},function:{id:e}};p.a.post("roleFunction/createRoleFunction",n).then((function(e){r&&y(t.id)}))},j=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=u[e],a=new FormData;a.append("id",n),p.a.post("roleFunction/deleteRoleFunction",a).then((function(e){r&&y(t.id)}))};return s.a.createElement(s.a.Fragment,null,n.map((function(e){return s.a.createElement("div",{key:e.value},s.a.createElement(N.a,{indeterminate:e.indeterminate,onChange:function(t){return function(e,t){var r=Object.keys(u),n=r.includes(e),a=r.filter((function(t){return o[e].some((function(e){return e.value===t}))})),i=o[e].filter((function(e){if(!a.some((function(t){return t===e.value})))return e})),l=(!n||0!==o[e].length)&&o[e].length===i.length;if(n||(l=!0,i=o[e]),l)r.includes(e)||(i=[].concat(L(i),[{value:e}])),i.length>0?i.map((function(e,t){O(e.value,t+1===i.length)})):O(e,!0);else{if(r.includes(e)){var c=a.map((function(e){return{value:e}}));i=[].concat(L(c),[{value:e}])}i.length>0?i.map((function(e,t){j(e.value,t+1===i.length)})):j(e,!0)}}(e.value)},checked:e.checkAll},e.label),s.a.createElement("br",null),"       ",s.a.createElement(K,{options:o[e.value],value:e.checkedList,onChange:function(t){return function(e,t){g(e,t)}(e.value,t)}}))})))};function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var W=g.a.TabPane,q=function(e){var t=e.roleDetailParams,r=Object(m.a)().t;return s.a.createElement("div",{className:"projectRole-detail"},s.a.createElement(g.a,{type:"card",defaultActiveKey:"people"},s.a.createElement(W,{tab:r("privilege-role.people"),key:"people"},s.a.createElement(T,V({},e,{group:t.group,roleDetail:t}))),s.a.createElement(W,{tab:r("privilege-role.promise"),key:"promise"},s.a.createElement(B,V({},e,{group:t.group,roleDetail:t})))))},G=r(669),H=r(29),_=["group"];function Q(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var re=u.a.Option,ne=Object(d.b)(H.a)(Object(d.c)((function(e){var t=Object(m.a)().t,r=e.privilegeProjectRoleStore,d=r.getProjectRoles,g=r.privilegeProjectRole,h=ee(Object(f.useState)(!1),2),O=h[0],j=h[1],w=ee(Object(f.useState)({}),2),E=w[0],S=w[1],P=ee(Object(f.useState)(99),1)[0],D=ee(Object(f.useState)(1),2),I=D[0],A=D[1],k=ee(Object(f.useState)(0),2);k[0];var C=k[1],F=ee(Object(f.useState)({}),2),z=F[0],T=F[1],N={scope:1,pageParam:{pageSize:P,currentPage:I},type:"2"},R=ee(Object(f.useState)(N),2),x=R[0],U=R[1];Object(f.useEffect)((function(){L(x)}),[x]);var L=function(e){p.a.post("role/findRolePage",e).then((function(e){if(0===e.code){d(e.data.dataList),C(e.data.totalRecord);var t=e.data.dataList;if("{}"!==JSON.stringify(z)){var r=t.filter((function(e){return e.id===z.id}));T(r.length>0?r[0]:{})}else T(t.length>0?t[0]:{})}}))},J=Object(f.useCallback)((function(){S({}),j(!1),L(x)}),[O]),M=s.a.createElement(o.a,{justify:"space-between"},s.a.createElement(c.a,{span:12},s.a.createElement(u.a,{placeholder:"请选择类型",allowClear:!0,onChange:function(e){if(e)U(Y(Y({},x),{},{group:e}));else{x.group;var t=Q(x,_);U(Y({},t))}},style:{width:"100%"}},s.a.createElement(re,{value:"system"},t("privilege-role.system")),s.a.createElement(re,{value:"custom"},t("privilege-role.custom")))),s.a.createElement(l.a,{onClick:function(){j(!0)}},"+",t("privilege-role.addRole"))),$=function(e){T(e)},K=s.a.createElement(i.b,{dataSource:g,renderItem:function(e){return s.a.createElement(i.b.Item,{key:e.id,actions:"project"===e.group?[s.a.createElement(b.a,{onClick:function(){return function(e){S(e),j(!0)}(e)}})]:[]},s.a.createElement("div",{className:"listName",onClick:function(){return $(e)}},e.name))}});return s.a.createElement(G.a,{onSearch:function(e){U({name:e.target.value,pageParam:{pageSize:P,currentPage:1},type:"2"}),A(1)},actions:M,onDetail:$,ListComp:K},s.a.createElement(s.a.Fragment,null,s.a.createElement(a.b,{title:s.a.createElement(y.a,{routes:[{disabled:!0,breadcrumbName:"角色管理 "},{path:"first",breadcrumbName:"角色列表"}]}),bordered:!0,column:1,labelStyle:{width:160}},"{}"!==JSON.stringify(z)&&s.a.createElement(a.b.Item,{label:t("privilege-role.roleName")},z.name),"{}"!==JSON.stringify(z)&&s.a.createElement(a.b.Item,{label:"角色分组"},function(e){switch(e){case"system":return"系统级";case"project":return"项目级";default:return"项目域"}}(z.group)),"{}"!==JSON.stringify(z)&&s.a.createElement(a.b.Item,{label:t("privilege-role.type")},function(e){switch(e){case"1":return t("privilege-role.system");case"2":default:return t("privilege-role.custom")}}(z.type)),"{}"!==JSON.stringify(z)&&s.a.createElement(a.b.Item,{label:t("privilege-role.roleDesc")},z.desc),"{}"===JSON.stringify(z)&&s.a.createElement(a.b.Item,null,s.a.createElement(n.a,{description:s.a.createElement("span",null,"项目角色列表，你需要创建一个")}))),"{}"!==JSON.stringify(z)&&s.a.createElement(q,{roleDetailParams:z})),s.a.createElement(v.a,{visible:O,cancel:J,editData:E,group:"project",urlType:"project"}))})))},79:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n,a,i,o=r(0);function l(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var s=(a=f((n=u((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"privilegeDomainRole",a,this),l(this,"getDomainRoles",i,this)}))).prototype,"privilegeDomainRole",[o.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=f(n.prototype,"getDomainRoles",[o.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeDomainRole=t}}}),n),d=r(30),p=r(27),m=r(29),b=r(28);function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y,g=(v(y={},b.a,new b.b),v(y,p.a,new p.b),v(y,m.a,new m.b),v(y,d.a,new d.b),v(y,"privilegeDomainRoleStore",new s),y)},796:function(e,t,r){},797:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));r(313);var n=r(314),a=(r(317),r(318)),i=r(1),o=r.n(i),l=r(54),c=r(3),u=r(668),f=r(688),s=(r(374),r(383)),d=(r(468),r(467)),p=r(111),m=r(360);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t=e.data,r=Object(p.a)().t;return o.a.createElement("div",{className:"systemFeature-detail"},o.a.createElement(d.b,{title:o.a.createElement(m.a,b({},e,{routes:[{disabled:!0,breadcrumbName:"功能管理 "},{path:"first",breadcrumbName:"功能详情"}]})),bordered:!0,column:1,labelStyle:{width:160}},t.name&&o.a.createElement(d.b.Item,{label:r("privilege-feature-name")},t.name),t.code&&o.a.createElement(d.b.Item,{label:r("privilege-feature-code")},t.code),!t.name&&o.a.createElement(d.b.Item,null,o.a.createElement(s.a,{description:o.a.createElement("span",null,"组织树结构为空，你需要创建一个")}))))},y=r(28);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=Object(l.b)(y.a)(Object(l.c)((function(e){var t=e.privilegeSystemStore,r=t.privilegeSystemTreeData,l=t.getPrivilegeTree,s=w(Object(i.useState)(""),2),d=s[0],p=s[1],m=w(Object(i.useState)(!1),2),b=m[0],y=m[1],h=w(Object(i.useState)({}),2),j=h[0],E=h[1],S=w(Object(i.useState)({}),2),P=S[0],D=S[1],I=w(Object(i.useState)(""),2),A=I[0],k=I[1],C={pageSize:99999,currentPage:1},F=w(Object(i.useState)(C),2),z=F[0],T=F[1];Object(i.useEffect)((function(){N()}),[z]);var N=function(){c.a.post("function/findFunctionList",z).then((function(e){if(!e.code){var t=R(e.data);l(t),t.length>0?(D(t[0]),k(t[0].id)):(D({}),k(""))}}))},R=function(e){return function e(t,r){for(var n=[],a=0;a<t.length;a++){var i=t[a];if(i.parentFunction===r||i.parentFunction&&i.parentFunction.id===r){var o=O(O({},i),{},{children:[]});o.children=e(t,i.id),n.push(o)}}return n}(e,null)},x=Object(i.useCallback)((function(e){var t=new FormData;D(e),k(e.id),t.append("id",e.id)}),[]),U=Object(i.useCallback)((function(e){p(e),y(!0)}),[]),L=Object(i.useCallback)((function(){p(""),E({}),y(!1),c.a.post("function/findFunctionList",C).then((function(e){if(!e.code){var t=R(e.data);if(l(t),t.length>0){var r=t.filter((function(e){return e.id===A}));r.length>0&&D(r[0])}}}))}),[]),J=Object(i.useCallback)((function(e){E(e),y(!0)}),[]),M=Object(i.useCallback)((function(e){var t=new FormData;t.append("id",e.id),c.a.post("function/deleteFunction",t).then((function(e){e.code||N()}))}),[]);return o.a.createElement("div",{className:"systemFeature"},o.a.createElement(n.a,{className:"systemFeature-wrap"},o.a.createElement(a.a,{span:24},o.a.createElement("div",{className:"systemFeature-parent"},o.a.createElement(f.a,{data:r,onSelect:x,addClick:y,onDelete:M,onEdit:J,onAddChildrenTree:U,defaultCurrent:A,setTreeParams:T,treeParams:z}),o.a.createElement(v,g({},e,{data:P}))))),o.a.createElement(u.a,{data:r,editData:j,visible:b,cancelAdd:L,parentId:d,urlType:"system"}))})))},798:function(e,t,r){},799:function(e,t,r){},800:function(e,t,r){},801:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));r(313);var n=r(314),a=(r(317),r(318)),i=r(1),o=r.n(i),l=r(54),c=r(3),u=r(668),f=r(688),s=(r(374),r(383)),d=(r(468),r(467)),p=r(111),m=r(360);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t=Object(p.a)().t,r=e.data;return o.a.createElement("div",{className:"dmFeatureDetail-detail"},o.a.createElement(d.b,{title:o.a.createElement(m.a,b({},e,{routes:[{disabled:!0,breadcrumbName:"功能管理 "},{path:"first",breadcrumbName:"功能详情"}]})),bordered:!0,column:1,labelStyle:{width:160}},r.name&&o.a.createElement(d.b.Item,{label:t("privilege-feature-name")},r.name),r.code&&o.a.createElement(d.b.Item,{label:t("privilege-feature-code")},r.code),!r.name&&o.a.createElement(d.b.Item,null,o.a.createElement(s.a,{description:o.a.createElement("span",null,"组织树结构为空，你需要创建一个")}))))},y=r(30);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,l=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(l)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=Object(l.b)(y.a)(Object(l.c)((function(e){var t=e.privilegeProjectFeatureStore,r=t.privilegeProjectTreeData,l=t.getDmPrivilegeTree,s=w(Object(i.useState)(""),2),d=s[0],p=s[1],m=w(Object(i.useState)(!1),2),b=m[0],y=m[1],h=w(Object(i.useState)({}),2),j=h[0],E=h[1],S=w(Object(i.useState)({}),2),P=S[0],D=S[1],I=w(Object(i.useState)(""),2),A=I[0],k=I[1],C={pageSize:99999,currentPage:1,type:"2"},F=w(Object(i.useState)(C),2),z=F[0],T=F[1];Object(i.useEffect)((function(){N()}),[z]);var N=function(){c.a.post("function/findFunctionList",z).then((function(e){if(!e.code){var t=R(e.data);l(t),t.length>0?(D(t[0]),k(t[0].id)):(D({}),k(""))}}))},R=function(e){var t=e.map((function(e){return!e.parentFunction&&e})).filter(Boolean),r=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&e})).filter(Boolean),n=[];return t.forEach((function(e){var t=e.id,a=r.filter((function(e){return e.parentFunction.id===t}));n.push(O(O({},e),{},{children:a}))})),n},x=Object(i.useCallback)((function(e){var t=new FormData;D(e),k(e.id),t.append("id",e.id)}),[]),U=Object(i.useCallback)((function(e){p(e),y(!0)}),[]),L=Object(i.useCallback)((function(){p(""),E({}),y(!1),c.a.post("function/findFunctionList",C).then((function(e){if(!e.code){var t=R(e.data);if(l(t),t.length>0){var r=t.filter((function(e){return e.id===A}));r.length>0&&D(r[0])}}}))}),[]),J=Object(i.useCallback)((function(e){E(e),y(!0)}),[]),M=Object(i.useCallback)((function(e){var t=new FormData;t.append("id",e.id),c.a.post("function/deleteFunction",t).then((function(e){e.code||N()}))}),[]);return o.a.createElement("div",{className:"privilege-dm"},o.a.createElement(n.a,{className:"privilege-dm-wrap"},o.a.createElement(a.a,{span:24},o.a.createElement("div",{className:"privilege-dm-parent"},o.a.createElement(f.a,{data:r,onSelect:x,addClick:y,onDelete:M,onEdit:J,onAddChildrenTree:U,defaultCurrent:A,setTreeParams:T,treeParams:z}),o.a.createElement(v,g({},e,{data:P}))))),o.a.createElement(u.a,{data:r,editData:j,visible:b,cancelAdd:L,parentId:d,urlType:"project"}))})))}}]);