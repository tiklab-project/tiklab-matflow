(window.webpackJsonp=window.webpackJsonp||[]).push([[20,10],{100:function(e,t){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!u(c))return!1;var s=e[c],f=t[c];if(!1===(a=n?n.call(r,s,f,c):void 0)||void 0===a&&s!==f)return!1}return!0}},278:function(e,t){var n=[],r=[];function a(e,t){if(t=t||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var a,o=!0===t.prepend?"prepend":"append",i=void 0!==t.container?t.container:document.querySelector("head"),u=n.indexOf(i);return-1===u&&(u=n.push(i)-1,r[u]={}),void 0!==r[u]&&void 0!==r[u][o]?a=r[u][o]:(a=r[u][o]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===o?i.insertBefore(a,i.childNodes[0]):i.appendChild(a)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),a.styleSheet?a.styleSheet.cssText+=e:a.textContent+=e,a}e.exports=a,e.exports.insertCss=a},535:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(36),a=n(177),o=n(116),i=n(25),u=function(){function e(t,n){var a;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"==typeof t&&(t=Object(r.d)(t)),this.originalInput=t;var i=Object(o.a)(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(a=n.format)&&void 0!==a?a:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Object(i.b)(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=Object(r.h)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Object(r.h)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(a,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=Object(r.g)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Object(r.g)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(a,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Object(r.f)(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),Object(r.j)(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*Object(i.a)(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Object(i.a)(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Object(r.f)(this.r,this.g,this.b,!1),t=0,n=Object.entries(a.a);t<n.length;t++){var o=n[t],i=o[0];if(e===o[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Object(i.c)(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Object(i.c)(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Object(i.c)(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Object(i.c)(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),o=n/100;return new e({r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),a=360/n,o=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,o=n.v,i=[],u=1/t;t--;)i.push(new e({h:r,s:a,v:o})),o=(o+u)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],o=360/t,i=1;i<t;i++)a.push(new e({h:(r+i*o)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}()},543:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function a(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function o(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return a(n.overflowY,t)||a(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function i(e,t,n,r,a,o,i,u){return o<e&&i>t||o>e&&i<t?0:o<=e&&u<=n||i>=t&&u>=n?o-e-r:i>t&&u<n||o<e&&u>n?i-t+a:0}var u=function(e,t){var n=window,a=t.scrollMode,u=t.block,l=t.inline,c=t.boundary,s=t.skipOverflowHiddenElements,f="function"==typeof c?c:function(e){return e!==c};if(!r(e))throw new TypeError("Invalid target");for(var d=document.scrollingElement||document.documentElement,p=[],h=e;r(h)&&f(h);){if((h=h.parentElement)===d){p.push(h);break}null!=h&&h===document.body&&o(h)&&!o(document.documentElement)||null!=h&&o(h,s)&&p.push(h)}for(var m=n.visualViewport?n.visualViewport.width:innerWidth,v=n.visualViewport?n.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),O=y.height,w=y.width,E=y.top,j=y.right,x=y.bottom,P=y.left,k="start"===u||"nearest"===u?E:"end"===u?x:E+O/2,S="center"===l?P+w/2:"end"===l?j:P,M=[],_=0;_<p.length;_++){var I=p[_],R=I.getBoundingClientRect(),C=R.height,A=R.width,H=R.top,D=R.right,N=R.bottom,U=R.left;if("if-needed"===a&&E>=0&&P>=0&&x<=v&&j<=m&&E>=H&&x<=N&&P>=U&&j<=D)return M;var L=getComputedStyle(I),W=parseInt(L.borderLeftWidth,10),B=parseInt(L.borderTopWidth,10),T=parseInt(L.borderRightWidth,10),z=parseInt(L.borderBottomWidth,10),F=0,V=0,q="offsetWidth"in I?I.offsetWidth-I.clientWidth-W-T:0,Y="offsetHeight"in I?I.offsetHeight-I.clientHeight-B-z:0;if(d===I)F="start"===u?k:"end"===u?k-v:"nearest"===u?i(g,g+v,v,B,z,g+k,g+k+O,O):k-v/2,V="start"===l?S:"center"===l?S-m/2:"end"===l?S-m:i(b,b+m,m,W,T,b+S,b+S+w,w),F=Math.max(0,F+g),V=Math.max(0,V+b);else{F="start"===u?k-H-B:"end"===u?k-N+z+Y:"nearest"===u?i(H,N,C,B,z+Y,k,k+O,O):k-(H+C/2)+Y/2,V="start"===l?S-U-W:"center"===l?S-(U+A/2)+q/2:"end"===l?S-D+T+q:i(U,D,A,W,T+q,S,S+w,w);var J=I.scrollLeft,K=I.scrollTop;k+=K-(F=Math.max(0,Math.min(K+F,I.scrollHeight-C+Y))),S+=J-(V=Math.max(0,Math.min(J+V,I.scrollWidth-A+q)))}M.push({el:I,top:F,left:V})}return M};function l(e){return e===Object(e)&&0!==Object.keys(e).length}t.a=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"==typeof t.behavior)return t.behavior(n?u(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,a=e.top,o=e.left;r.scroll&&n?r.scroll({top:a,left:o,behavior:t}):(r.scrollTop=a,r.scrollLeft=o)}))}(u(e,r),r.behavior)}}},545:function(e,t,n){"use strict";var r=n(20);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseModal",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BreadCrumb",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Btn",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Profile",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"TitleAction",{enumerable:!0,get:function(){return u.default}});var a=r(n(567)),o=r(n(569)),i=r(n(571)),u=r(n(573)),l=r(n(575)),c=r(n(577))},547:function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},566:function(e,t,n){"use strict";var r=n(547),a=n.n(r),o=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function i(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(a.a[n[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var i=new RegExp(o),u=null;null!==(u=i.exec(e));)if(u[0].trim())if(u[1]){var l=u[1].trim(),c=[l,""];l.indexOf("=")>-1&&(c=l.split("=")),t.attrs[c[0]]=c[1],i.lastIndex--}else u[2]&&(t.attrs[u[2]]=u[3].trim().substring(1,u[3].length-1));return t}var u=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,l=/^\s*$/,c=Object.create(null);function s(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(s,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var f={parse:function(e,t){t||(t={}),t.components||(t.components=c);var n,r=[],a=[],o=-1,s=!1;if(0!==e.indexOf("<")){var f=e.indexOf("<");r.push({type:"text",content:-1===f?e:e.substring(0,f)})}return e.replace(u,(function(u,c){if(s){if(u!=="</"+n.name+">")return;s=!1}var f,d="/"!==u.charAt(1),p=u.startsWith("\x3c!--"),h=c+u.length,m=e.charAt(h);if(p){var v=i(u);return o<0?(r.push(v),r):((f=a[o]).children.push(v),r)}if(d&&(o++,"tag"===(n=i(u)).type&&t.components[n.name]&&(n.type="component",s=!0),n.voidElement||s||!m||"<"===m||n.children.push({type:"text",content:e.slice(h,e.indexOf("<",h))}),0===o&&r.push(n),(f=a[o-1])&&f.children.push(n),a[o]=n),(!d||n.voidElement)&&(o>-1&&(n.voidElement||n.name===u.slice(2,-1))&&(o--,n=-1===o?r:a[o]),!s&&"<"!==m&&m)){f=-1===o?r:a[o].children;var b=e.indexOf("<",h),g=e.slice(h,-1===b?void 0:b);l.test(g)&&(g=" "),(b>-1&&o+f.length>=0||" "!==g)&&f.push({type:"text",content:g})}})),r},stringify:function(e){return e.reduce((function(e,t){return e+s("",t)}),"")}};t.a=f},567:function(e,t,n){"use strict";var r=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(387);var a=r(n(386)),o=r(n(85)),i=r(n(78)),u=r(n(0));n(568);var l=["children","title","width"],c=function(e){var t=e.children,n=e.title,r=e.width,c=(0,i.default)(e,l);return u.default.createElement(a.default,(0,o.default)({title:n,width:r,style:{maxWidth:"calc(100vw - 120px)",maxHeight:"calc(100vh - 120px)",marginRight:"auto",marginLeft:"auto",position:"absolute",top:60,right:0,left:0,height:"100%",display:"flex",flexDirection:"column"},wrapClassName:"tiklab_modal",closable:!1},c),t)};t.default=c},568:function(e,t,n){"use strict";n.r(t)},569:function(e,t,n){"use strict";var r=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(389);var a=r(n(388));n(41);var o=r(n(42)),i=r(n(118)),u=r(n(0)),l=n(135);n(570);var c=function(e){var t=e.routes,n=e.children;return u.default.createElement("div",{className:"privilege-breadcrumb"},u.default.createElement(a.default,{itemRender:function(e,t,n){var r=n.indexOf(e)===n.length-1,a=0===n.indexOf(e);return e.disabled?u.default.createElement("span",null,e.breadcrumbName):a?e.click?u.default.createElement(o.default,null,u.default.createElement(i.default,{onClick:function(){return e.click()},style:{fontSize:"var(--tiklab-font-16)"}}),e.breadcrumbName):u.default.createElement(l.Link,{to:e.path},u.default.createElement(o.default,null,u.default.createElement(i.default,{style:{fontSize:"var(--tiklab-font-16)"}}),e.breadcrumbName)):r?u.default.createElement("span",null,e.breadcrumbName):e.click?u.default.createElement("a",{onClick:function(){return e.click()},style:{cursor:"pointer"}},e.breadcrumbName):e.path?u.default.createElement(l.Link,{to:e.path},e.breadcrumbName):u.default.createElement(u.default.Fragment,null,e.breadcrumbName)},routes:t}),n)};t.default=c},570:function(e,t,n){"use strict";n.r(t)},571:function(e,t,n){"use strict";var r=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(281));n(385);var o=r(n(384)),i=r(n(0)),u=n(5);n(572);var l=function(e){var t=e.userInfo,n=void 0===t?void 0:t,r=n||(0,u.getUser)();return i.default.createElement("div",{className:"tiklab-profile"},r.avatar&&"null"!==r.avatar?i.default.createElement(o.default,{src:r.avatar}):r.nickname&&"null"!==r.nickname?i.default.createElement(o.default,null,r.nickname.substring(0,1)):r.name&&"null"!==r.name?i.default.createElement(o.default,null,r.name.substring(0,1)):i.default.createElement(o.default,{size:32,icon:i.default.createElement(a.default,null)}))};t.default=l},572:function(e,t,n){"use strict";n.r(t)},573:function(e,t,n){"use strict";var r=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(51);var a=r(n(52));n(72);var o=r(n(73));n(41);var i=r(n(42)),u=r(n(0));n(574);var l=function(e){var t=e.title,n=e.icon,r=e.children,l=e.style,c=void 0===l?{}:l;return u.default.createElement(a.default,null,u.default.createElement(o.default,{span:24},u.default.createElement("div",{className:"tiklab_title",style:c},u.default.createElement(i.default,null,n,u.default.createElement("span",null,t)),r)))};t.default=l},574:function(e,t,n){"use strict";n.r(t)},575:function(e,t,n){"use strict";var r=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(118)),o=r(n(280)),i=r(n(0));n(576);var u=function(e){var t=e.pageCurrent,n=e.changPage,r=e.page;return i.default.createElement("div",{className:"user-page"},i.default.createElement("span",{className:"".concat(1===t?"user-page-ban":"user-page-allow"),onClick:function(){return 1===t?null:n(t-1)}},i.default.createElement(a.default,null)),i.default.createElement("span",{className:"user-page-current"},t),i.default.createElement("span",null," / ",r&&r.total),t!==r.total&&r.total?i.default.createElement("span",{className:"user-page-allow",onClick:function(){return n(t+1)}},i.default.createElement(o.default,null)):i.default.createElement("span",{className:"user-page-ban"},i.default.createElement(o.default,null)))};t.default=u},576:function(e,t,n){"use strict";n.r(t)},577:function(e,t,n){"use strict";var r=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(41);var a=r(n(42)),o=r(n(0));n(578);var i=function(e){var t=e.icon,n=e.type,r=e.title,i=e.onClick,u=e.isMar,l=e.children;return o.default.createElement("div",{className:"user-btn ".concat(n?"user-btn-".concat(n):""," ").concat(u?"user-btn-mar":""),onClick:i},l||o.default.createElement(a.default,null,t&&o.default.createElement("span",{className:"user-btn-icon"},t),r))};t.default=i},578:function(e,t,n){"use strict";n.r(t)},731:function(e,t,n){"use strict";n.r(t)},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b}));var r,a=n(0),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=a.createContext(null),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return a.createElement(i.Provider,{value:this.props.store},this.props.children)},t}(a.Component),l=n(100),c=n.n(l),s=n(186),f=n.n(s),d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var h=function(){return{}};function m(e,t){void 0===t&&(t={});var n=!!e,r=e||h;return function(o){var u=function(t){function u(e,n){var a=t.call(this,e,n)||this;return a.unsubscribe=null,a.handleChange=function(){if(a.unsubscribe){var e=r(a.store.getState(),a.props);a.setState({subscribed:e})}},a.store=a.context,a.state={subscribed:r(a.store.getState(),e),store:a.store,props:e},a}return d(u,t),u.getDerivedStateFromProps=function(t,n){return e&&2===e.length&&t!==n.props?{subscribed:r(n.store.getState(),t),props:t}:{props:t}},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},u.prototype.shouldComponentUpdate=function(e,t){return!c()(this.props,e)||!c()(this.state.subscribed,t.subscribed)},u.prototype.trySubscribe=function(){n&&(this.unsubscribe=this.store.subscribe(this.handleChange),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.render=function(){var e=p(p(p({},this.props),this.state.subscribed),{store:this.store});return a.createElement(o,p({},e,{ref:this.props.miniStoreForwardedRef}))},u.displayName="Connect("+function(e){return e.displayName||e.name||"Component"}(o)+")",u.contextType=i,u}(a.Component);if(t.forwardRef){var l=a.forwardRef((function(e,t){return a.createElement(u,p({},e,{miniStoreForwardedRef:t}))}));return f()(l,o)}return f()(u,o)}}var v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function b(e){var t=e,n=[];return{setState:function(e){t=v(v({},t),e);for(var r=0;r<n.length;r++)n[r]()},getState:function(){return t},subscribe:function(e){return n.push(e),function(){var t=n.indexOf(e);n.splice(t,1)}}}}},85:function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},875:function(e,t,n){"use strict";n(731)},876:function(e,t,n){"use strict";var r=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(877)).default;t.default=a},877:function(e,t,n){"use strict";var r=n(20),a=n(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(31));n(383);var i=r(n(382)),u=r(n(85));n(72);var l=r(n(73));n(54);var c=r(n(53));n(51);var s=r(n(52));n(83);var f=r(n(71)),d=r(n(193)),p=r(n(89)),h=r(n(87)),m=r(n(24)),v=r(n(88));n(102);var b=r(n(101)),g=r(n(454));n(41);var y=r(n(42));n(134);var O=r(n(105)),w=r(n(29)),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),j=n(27),x=n(35),P=n(545),k=n(197),S=r(n(878));n(731);var M=n(2);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,m.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=(0,j.inject)(k.DOMAIN_USER_STORE,k.USER_STORE)((0,j.observer)((function(e){var t=e.domainId,n=e.domainUserStore,r=e.userStore,a=e.bgroup,m=void 0===a?"eas":a,j=n.getDomainUser,k=n.privilegeDomainUsers,_=n.createDmRoleUserAction,I=n.deleteDmRoleUserAction,C=n.deleteDmUserAction,A=n.findDmRoleListAction,H=n.findDmRoleUserListAction,D=n.findDmUserPageAction,N=r.createRoleUserAction,U=r.findUserOrgaList,L=r.findUserDirList,W=(0,x.useTranslation)().t,B=O.default.useForm(),T=(0,w.default)(B,1)[0],z=(0,E.useState)([]),F=(0,w.default)(z,2),V=F[0],q=F[1],Y=(0,E.useState)({}),J=(0,w.default)(Y,2),K=J[0],X=J[1],$=(0,E.useState)(!1),Z=(0,w.default)($,2),G=Z[0],Q=Z[1],ee=(0,E.useState)([]),te=(0,w.default)(ee,2),ne=te[0],re=te[1],ae=(0,E.useState)(!1),oe=(0,w.default)(ae,2),ie=oe[0],ue=oe[1],le=(0,E.useState)({pageSize:13,currentPage:1}),ce=(0,w.default)(le,1)[0],se=(0,E.useState)({}),fe=(0,w.default)(se,2),de=fe[0],pe=fe[1],he=(0,E.useState)({pageParam:ce}),me=(0,w.default)(he,2),ve=me[0],be=me[1],ge=[{title:W("orga-table.nickname"),dataIndex:["user","nickname"],key:"nickname",width:"20%",ellipsis:!0,render:function(e,t){return E.default.createElement(y.default,null,E.default.createElement(P.Profile,{userInfo:t}),e)}},{title:W("orga-table.name"),dataIndex:["user","name"],key:"name",width:"15%",ellipsis:!0},{title:W("orga-table.org"),dataIndex:["user","org"],key:"org",width:"20%",ellipsis:!0,render:function(e,t){var n=t.orgaList;return n.length>0?E.default.createElement(y.default,null,n.map((function(e){return E.default.createElement("span",{key:e.orgaId},e.orgaName)}))):"--"}},{title:"角色",dataIndex:"role",key:"role",width:"20%",ellipsis:!0,render:function(e,t){var n=t.roleList;return n.length>0?E.default.createElement(y.default,null,n.map((function(e){return E.default.createElement("span",{key:e.id},e.dmRole.role.name)}))):"--"}},{title:W("orga-table.type"),dataIndex:["user","dirId"],key:"dirId",width:"15%",ellipsis:!0,render:function(e){var t=ne.findIndex((function(t){return t.id===e}));return t>-1?ne[t].name:"--"}},{title:W("orga-common.action"),key:"action",width:"10%",ellipsis:!0,render:function(e,t){var n=t.user;return E.default.createElement(y.default,{size:"middle"},E.default.createElement(b.default,{title:"角色修改"},E.default.createElement(g.default,{onClick:function(){return je(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),1!==n.type&&E.default.createElement(b.default,{title:"删除"},E.default.createElement(v.default,{onClick:function(){return xe(t.id)},style:{fontSize:"var(--tiklab-icon-size-16)"}})))}}];(0,E.useEffect)((function(){ye(),Ee()}),[]),(0,E.useEffect)((function(){Oe(R({domainId:t},ve))}),[ve]);var ye=function(){L().then((function(e){e.code||re(e.data)}))},Oe=function(e){D(e).then(function(){var e=(0,h.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code){e.next=6;break}return pe({record:t.data.totalRecord,total:t.data.totalPage}),e.next=4,Promise.all(we(t.data.dataList));case 4:n=e.sent,j(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},we=function(e){return e.map(function(){var e=(0,h.default)(o.default.mark((function e(n){var r,a,i,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,H({domainId:t,userId:n.user.id});case 3:return 0===(i=e.sent).code&&i.data&&(r=i.data.map((function(e){return{dmRole:R(R({},e.dmRole),{},{role:e.role}),roleUserId:e.id}}))),e.next=7,U({userId:n.user.id,scope:1,type:1});case 7:return 0===(u=e.sent).code&&u.data&&(a=u.data.slice(-1).map((function(e){return R(R({},e.orga),{},{orgaUserId:e.id})}))),e.abrupt("return",R(R({},n),{},{roleList:r,orgaList:a}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Ee=function(){A({domainId:t}).then((function(e){e.code||q(e.data)}))},je=function(e){var t=e.roleList;T.setFieldsValue({role:t.map((function(e){return e.dmRole.id}))}),X(e),Q(!0)},xe=function(e){C(e).then((function(e){e.code||be({pageParam:ce})}))},Pe=function(){be({pageParam:ce})},ke=function(){T.resetFields(),Q(!1)},Se=function(e){var t=e.map((function(e){return I(e)}));return Promise.all(t)},Me=function(e,n){var r={bgroup:m,userId:n,domainId:t};if(Array.isArray(e)){var a=e.map((function(e){var t=R(R({},r),{},{dmRole:{id:e}});return _(t)}));Promise.all(a).then((function(e){ke()}))}else r=R(R({},r),{},{dmRole:{id:e}}),N(r).then((function(e){0===e.code&&ke()}))};return E.default.createElement("div",{className:"privilege-domain-user"},E.default.createElement("div",{className:"privilege-domain-user-content"},E.default.createElement(P.TitleAction,{title:"成员",style:{paddingLeft:8}},E.default.createElement(P.Btn,{onClick:function(){return ue(!0)},icon:E.default.createElement(p.default,null),type:"primary",title:W("orga-label.addUser")})),E.default.createElement(s.default,{style:{paddingBottom:"var(--tiklab-padding-item)",paddingLeft:8},justify:"space-between"},E.default.createElement(f.default,{placeholder:W("orga-label.searchUserPhoneEmail"),onPressEnter:function(e){return function(e){var t=R(R({},ve),{},{pageParam:ce});e.target.value?t.nickname=e.target.value:delete t.nickname,be(t)}(e)},prefix:E.default.createElement(d.default,{style:{fontSize:"var(--tiklab-icon-size-16)"}}),style:{width:"240px"}})),E.default.createElement(s.default,null,E.default.createElement(l.default,{span:24},E.default.createElement(c.default,{columns:ge,dataSource:k,rowKey:function(e){return e.id},tableLayout:"fixed",pagination:!1}),de&&de.total>1&&E.default.createElement(P.Page,{pageCurrent:ve.pageParam.currentPage,changPage:function(e){var t=R(R({},ve),{},{pageParam:{pageSize:13,currentPage:e}});be(t)},page:de})))),E.default.createElement(S.default,(0,u.default)({},e,{domainId:t,visible:ie,setVisible:ue,userDir:ne,initParam:Pe})),E.default.createElement(P.BaseModal,{title:"修改角色",visible:G,onCancel:ke,footer:E.default.createElement(E.default.Fragment,null,E.default.createElement(P.Btn,{onClick:ke,title:"取消",isMar:!0}),E.default.createElement(P.Btn,{onClick:function(){T.submit()},title:"确定",type:"primary"})),destroyOnClose:!0,cancelText:W("orga-common.back"),okText:W("orga-common.save")},E.default.createElement(O.default,{form:T,onFinish:function(e){var t=(0,M.toJS)(K),n=t.user.id,r=(t.roleList||[]).map((function(e){return e.dmRole.id})),a=e.role,o=r.filter((function(e){return!a.includes(e)})),i=(t.roleList||[]).map((function(e){if(o.includes(e.dmRole.id))return e.roleUserId})).filter(Boolean);0===i.length?Me(a,n):Se(i).then((function(){Me(a,n)})),Pe()},preserve:!1,layout:"vertical"},E.default.createElement(O.default.Item,{label:"角色",name:"role",rules:[{required:!0,message:W("adduser-module.userTypeRequired")}]},E.default.createElement(i.default,{mode:"multiple"},V.map((function(e){return E.default.createElement(i.default.Option,{key:e.id,value:e.id},e.role.name)})))))))})));t.default=C},878:function(e,t,n){"use strict";var r=n(20),a=n(32);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(31));n(54);var i=r(n(53));n(51);var u=r(n(52));n(72);var l=r(n(73));n(83);var c=r(n(71)),s=r(n(193)),f=r(n(66)),d=r(n(24));n(44);var p=r(n(19)),h=r(n(87));n(41);var m=r(n(42)),v=r(n(29)),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),g=n(545),y=n(35);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=(0,y.useTranslation)().t,n=e.visible,r=e.setVisible,a=e.initParam,d=e.domainId,O=e.userDir,w=e.domainUserStore,x=e.userStore,P=w.createDmUserAction,k=w.findDmUserListAction,S=x.findUserPageAction,M=(0,b.useState)([]),_=(0,v.default)(M,2),I=_[0],R=_[1],C=(0,b.useState)([]),A=(0,v.default)(C,2),H=A[0],D=A[1],N=(0,b.useState)(6),U=(0,v.default)(N,1)[0],L=(0,b.useState)(1),W=(0,v.default)(L,2),B=W[0],T=W[1],z=(0,b.useState)({}),F=(0,v.default)(z,2),V=F[0],q=F[1],Y=(0,b.useState)({pageParam:{pageSize:U,currentPage:B}}),J=(0,v.default)(Y,2),K=J[0],X=J[1],$=[{title:t("orga-table.nickname"),dataIndex:"nickname",key:"nickname",width:"30%",ellipsis:!0,render:function(e,t){return b.default.createElement(m.default,null,b.default.createElement(g.Profile,{userInfo:t})," ",e)}},{title:t("orga-table.phone"),dataIndex:"phone",key:"phone",width:"30%",ellipsis:!0,render:function(e){return e||"--"}},{title:t("orga-table.email"),dataIndex:"email",key:"email",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:t("orga-table.type"),dataIndex:"dirId",key:"dirId",width:"15%",ellipsis:!0,render:function(e){var t=O.findIndex((function(t){return t.id==e}));return t>-1?O[t].name:"--"}}];(0,b.useEffect)((function(){Z(K)}),[K]);var Z=function(e){S(e).then(function(){var e=(0,h.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.code||(q({total:t.data.totalPage}),D(t.data.dataList));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},G=function(){R([]),T(1),X({pageParam:{pageSize:U,currentPage:1}}),q({}),r(!1)},Q={selectedRowKeys:I,onSelect:function(e){ee(e)},onSelectAll:function(e,t,n){var r=n.map((function(e){return e&&e.id})).filter((function(e){return void 0!==e}));if(e){var a=Array.from(new Set([].concat((0,f.default)(r),(0,f.default)(I))));R(a)}else{var o=I.filter((function(e){return!r.includes(e)}));R(o)}}},ee=function(e){I.indexOf(e.id)>=0?I.splice(I.indexOf(e.id),1):I.push(e.id),R((0,f.default)(I))},te=b.default.createElement(b.default.Fragment,null,b.default.createElement(g.Btn,{onClick:G,title:"取消",isMar:!0}),b.default.createElement(g.Btn,{onClick:function(){k({domainId:d}).then((function(e){if(!e.code){var t,n=!1,r=e.data.map((function(e){return e.user.id})),o=j(I);try{var i=function(){var e=t.value;if(n)return"break";n=r.some((function(t){return e===t}))};for(o.s();!(t=o.n()).done;){if("break"===i())break}}catch(e){o.e(e)}finally{o.f()}if(n)return p.default.error("存在关联的用户");var u=I.map((function(e){return P({domainId:d,user:{id:e}})}));Promise.all(u).then((function(e){G(),a()}))}}))},title:"确定",type:"primary"}));return b.default.createElement(g.BaseModal,{title:"添加用户",visible:n,footer:te,onCancel:G,width:700,destroyOnClose:!0,cancelText:t("orga-common.back"),okText:t("orga-common.save")},b.default.createElement(u.default,null,b.default.createElement(l.default,{span:24},b.default.createElement(c.default,{placeholder:"昵称搜索",prefix:b.default.createElement(s.default,null),style:{width:240},onPressEnter:function(e){return function(e){var t={nickname:e.target.value,pageParam:{pageSize:U,currentPage:1}};T(1),X(t)}(e)}}))),b.default.createElement(u.default,null,b.default.createElement(l.default,{span:24},b.default.createElement("div",{style:{width:"100%"}},b.default.createElement(i.default,{columns:$,dataSource:H,rowSelection:Q,onRow:function(e){return{onClick:function(){return ee(e)}}},rowKey:function(e){return e.id},pagination:!1}),V&&V.total>1&&b.default.createElement(g.Page,{pageCurrent:B,changPage:function(e){T(e);var t=E(E({},K),{},{pageParam:{pageSize:U,currentPage:e}});X(t)},page:V})))))},k=function(e,t){return e.visible===t.visible},S=(0,b.memo)(P,k);t.default=S},924:function(e,t,n){"use strict";n.r(t);n(875);var r=n(876),a=n.n(r),o=n(0),i=n.n(o),u=n(27);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=Object(u.inject)("pipelineStore")(Object(u.observer)((function(e){var t=e.pipelineStore.pipeline;return i.a.createElement(a.a,l({},e,{domainId:t&&t.id,bgroup:"matflow",__source:{fileName:"D:\\idea\\tiklab\\tiklab-matflow-ui\\src\\setting\\user\\DomainUser.js",lineNumber:16,columnNumber:12}}))})))}}]);