(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{957:function(e,t,o){"use strict";(function(e){var a,i=o(39),r=o.n(i),n=o(0),l=o.n(n),u=o(968),c=o(969),m=o(954),d=o(951),s="D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\edit-slate\\previewEditor.js";(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=function(e){var t=e.onChange,o=e.value,a=Object(n.useCallback)((function(e){return l.a.createElement(c.a,r()({},e,{__source:{fileName:s,lineNumber:19,columnNumber:10}}))}),[]),i=Object(n.useMemo)((function(){return Object(m.i)(Object(d.i)())}),[]);return l.a.createElement(m.c,{editor:i,value:o,onChange:function(e){t(e)},__source:{fileName:s,lineNumber:23,columnNumber:9}},l.a.createElement(m.a,{renderElement:Object(n.useCallback)(u.a,[]),renderLeaf:a,readOnly:!0,className:"preview-editor",__source:{fileName:s,lineNumber:30,columnNumber:13}}))};b(f,"useCallback{renderLeaf}\nuseMemo{editor}\nuseCallback{}");var k,p,N=f;t.a=N,(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(f,"PreviewEditor","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\edit-slate\\previewEditor.js"),k.register(N,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\edit-slate\\previewEditor.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,o(75)(e))},965:function(e,t,o){},975:function(e,t,o){"use strict";(function(e){var a,i=o(24),r=o.n(i),n=(o(69),o(64)),l=(o(152),o(76)),u=o(27),c=o.n(u),m=(o(964),o(373)),d=o(0),s=o.n(d),b=(o(965),o(53)),f=o(591),k=(o(982),o(957)),p="D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\templateList.js";(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},w=m.a.Header,y=m.a.Content,_=m.a.Footer,g=m.a.Sider,v=function(e){var t,o=e.templateStore,a=e.changeTemplateVisible,i=e.setChangeTemplateVisible,u=e.setAddModalVisible,b=e.setTemplateId,N=e.contentValue,w=e.setContentValue,_=o.findDocumentTemplatePage,v=o.findDocumentTemplate,L=Object(d.useState)(!1),O=c()(L,2),j=(O[0],O[1],Object(d.useState)()),E=c()(j,2),h=E[0],H=E[1];Object(d.useEffect)((function(){_().then((function(e){0===e.code&&H(e.data.dataList)}))}),[]);return s.a.createElement("div",{__source:{fileName:p,lineNumber:95,columnNumber:9}},s.a.createElement(n.default,(t={className:"wiki-modal",title:"选择模板",visible:a,onCancel:function(){i(!1)},width:"50vw",onOk:function(){return i(!1),void u(!0)}},r()(t,"onCancel",(function(){return i(!1)})),r()(t,"destroyOnClose",!0),r()(t,"okText","下一步"),r()(t,"cancelText","取消"),r()(t,"__source",{fileName:p,lineNumber:96,columnNumber:13}),t),s.a.createElement(m.a,{style:{position:"relative"},__source:{fileName:p,lineNumber:108,columnNumber:17}},s.a.createElement(g,{style:{overflow:"auto",position:"absolute",left:0,top:0,height:"100%"},__source:{fileName:p,lineNumber:111,columnNumber:21}},s.a.createElement(l.default,{theme:"light",mode:"inline",defaultSelectedKeys:["entry"],onClick:function(e){return function(e){b(e.key),"entry"===e.key?w([{type:"paragraph",children:[{text:""}]}]):v(e.key).then((function(e){var t=e.data;0===e.code&&w(JSON.parse(t.details))}))}(e)},__source:{fileName:p,lineNumber:121,columnNumber:25}},s.a.createElement(l.default.Item,{key:"entry",icon:s.a.createElement(f.a,{__source:{fileName:p,lineNumber:123,columnNumber:58}}),__source:{fileName:p,lineNumber:123,columnNumber:29}},"空白文档"),h&&h.map((function(e){return s.a.createElement(l.default.Item,{key:e.id,icon:s.a.createElement(f.a,{__source:{fileName:p,lineNumber:128,columnNumber:75}}),__source:{fileName:p,lineNumber:128,columnNumber:44}},e.name)})))),s.a.createElement(m.a,{className:"site-layout",style:{marginLeft:200},__source:{fileName:p,lineNumber:135,columnNumber:21}},s.a.createElement(y,{__source:{fileName:p,lineNumber:136,columnNumber:25}},s.a.createElement("div",{className:"site-layout-background",style:{background:"#fff",minHeight:"300px"},__source:{fileName:p,lineNumber:137,columnNumber:29}},s.a.createElement(k.a,{value:N,__source:{fileName:p,lineNumber:138,columnNumber:29}})))))))};N(v,"useState{[selectTemplate, setSelectTemplate](false)}\nuseState{[templateList,setTemplateList]}\nuseEffect{}");var L,O,j=Object(b.inject)("templateStore")(Object(b.observer)(v));t.a=j,(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(w,"Header","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\templateList.js"),L.register(y,"Content","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\templateList.js"),L.register(_,"Footer","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\templateList.js"),L.register(g,"Sider","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\templateList.js"),L.register(v,"TemplateList","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\templateList.js"),L.register(j,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\templateList.js")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)}).call(this,o(75)(e))},982:function(e,t,o){},999:function(e,t,o){"use strict";(function(e){o(69);var a,i=o(64),r=(o(93),o(71)),n=(o(59),o(57)),l=(o(41),o(40)),u=o(24),c=o.n(u),m=o(0),d=o.n(m),s=(o(965),o(53)),b="D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\addLog.js";function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){c()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var p,N,w=function(e){var t=e.addModalVisible,o=e.setAddModalVisible,a=e.setWikiCatalogueList,u=e.WikiCatalogueStore,c=e.catalogueId,m=e.form,s=e.contentValue,f=e.setSelectKey,p=e.userList,N=u.addWikiCatalogue,w=u.addWikiCataDocument,y=u.findWikiCatalogue,_=localStorage.getItem("wikiId");return d.a.createElement(i.default,{title:"添加文档",visible:t,onOk:function(){m.validateFields().then((function(i){var r;"category"===i.formatType?(r=k(k({},i),{},c?{repository:{id:_},parentCategory:{id:c},master:{id:i.master}}:{repository:{id:_},master:{id:i.master}}),N(r).then((function(e){0===e.code&&(y(_).then((function(e){a(e)})),o(!t))}))):(r=k(k({},i),{},c?{repository:{id:_},category:{id:c},details:JSON.stringify(s),master:{id:i.master}}:{repository:{id:_},details:JSON.stringify(s),master:{id:i.master}}),w(r).then((function(i){0===i.code&&(y(_).then((function(e){a(e)})),o(!t),localStorage.setItem("documentId",i.data),e.history.push("/index/wikidetail/doc/".concat(i.data)),f(i.data))})))}))},onCancel:function(){return o(!1)},destroyOnClose:!0,__source:{fileName:b,lineNumber:84,columnNumber:9}},d.a.createElement(n.default,{form:m,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},__source:{fileName:b,lineNumber:91,columnNumber:13}},d.a.createElement(n.default.Item,{label:"名字",name:"name",rules:[{required:!0,message:"请输入目录名字!"}],__source:{fileName:b,lineNumber:98,columnNumber:17}},d.a.createElement(l.default,{__source:{fileName:b,lineNumber:103,columnNumber:21}})),d.a.createElement(n.default.Item,{label:"负责人",name:"master",rules:[{required:!0}],__source:{fileName:b,lineNumber:105,columnNumber:17}},d.a.createElement(r.default,{placeholder:"负责人",allowClear:!0,className:"work-select",key:"master",style:{minWidth:"80px"},__source:{fileName:b,lineNumber:106,columnNumber:21}},p&&p.map((function(e){return d.a.createElement(Option,{value:e.user.id,key:e.user.id,__source:{fileName:b,lineNumber:115,columnNumber:40}},e.user.name)})))),d.a.createElement(n.default.Item,{label:"类型",name:"formatType",rules:[{required:!0,message:"请选择类型!"}],__source:{fileName:b,lineNumber:120,columnNumber:17}},d.a.createElement(r.default,{__source:{fileName:b,lineNumber:125,columnNumber:21}},d.a.createElement(Option,{value:"category",__source:{fileName:b,lineNumber:126,columnNumber:25}},"目录"),d.a.createElement(Option,{value:"document",__source:{fileName:b,lineNumber:127,columnNumber:25}},"页面")))))},y=Object(s.inject)("WikiCatalogueStore")(Object(s.observer)(w));t.a=y,(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(w,"AddLog","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\addLog.js"),p.register(y,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\addLog.js")),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&N(e)}).call(this,o(75)(e))}}]);