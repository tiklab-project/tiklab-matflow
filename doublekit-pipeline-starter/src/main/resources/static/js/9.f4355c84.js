(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1178:function(e,t,a){"use strict";(function(e){a(69);var r,n=a(64),l=(a(41),a(40)),o=a(24),i=a.n(o),u=(a(59),a(57)),c=a(27),m=a.n(c),d=a(0),s=a.n(d),b=a(53),f=a(931),N=(a(1179),"D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\components\\templateAddmodal.js");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var _="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k=function(e){var t=u.default.useForm(),a=m()(t,1)[0],r=(localStorage.getItem("wikiId"),e.addModalVisible),o=e.setAddModalVisible,i=e.modalName,c=e.templateStore,b=e.setTemplateList,p=e.editOrAdd,_=e.templateId,k=c.greateDocumentTemplate,w=c.findDocumentTemplatePage,E=c.findDocumentTemplate,O=c.updateDocumentTemplate,h=Object(d.useState)([{type:"paragraph",children:[{text:""}]}]),j=m()(h,2),g=j[0],y=j[1];Object(d.useEffect)((function(){"edit"===p&&E(_).then((function(e){var t=e.data;0===e.code&&(a.setFieldsValue({name:t.name,description:t.description}),y(JSON.parse(t.details)))}))}),[p,_]);return s.a.createElement(n.default,{title:i,visible:r,onOk:function(){a.validateFields().then((function(e){var t=JSON.stringify(g);if("edit"===p){var a=v(v({},e),{},{details:t,id:_});O(a).then((function(e){0===e.code&&(o(!1),w().then((function(e){0===e.code&&b(e.data.dataList)})))}))}else{var r=v(v({},e),{},{details:t});k(r).then((function(e){0===e.code&&(o(!1),w().then((function(e){0===e.code&&b(e.data.dataList)})))}))}}))},onCancel:function(){return o(!1),void a.resetFields()},width:"80vw",className:"template-addmodal",destroyOnClose:!0,__source:{fileName:N,lineNumber:92,columnNumber:9}},s.a.createElement("div",{__source:{fileName:N,lineNumber:101,columnNumber:9}},s.a.createElement(u.default,{form:a,name:"basic",initialValues:{remember:!0},__source:{fileName:N,lineNumber:102,columnNumber:13}},s.a.createElement("div",{className:"addmodal-top",__source:{fileName:N,lineNumber:107,columnNumber:17}},s.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:N,lineNumber:108,columnNumber:21}},s.a.createElement("use",{xlinkHref:"#iconpaihang1",__source:{fileName:N,lineNumber:109,columnNumber:25}})),s.a.createElement("div",{className:"addmodal-from",__source:{fileName:N,lineNumber:111,columnNumber:21}},s.a.createElement(u.default.Item,{name:"name",rules:[{required:!0,message:"请输入模板名称!"}],wrapperCol:{span:12},__source:{fileName:N,lineNumber:112,columnNumber:25}},s.a.createElement(l.default,{placeholder:"请输入模板名称",__source:{fileName:N,lineNumber:117,columnNumber:29}})),s.a.createElement(u.default.Item,{name:"description",rules:[{required:!0,message:"请输入模板描述!"}],style:{marginBottom:0},wrapperCol:{span:20},__source:{fileName:N,lineNumber:120,columnNumber:25}},s.a.createElement(l.default,{placeholder:"请输入模板描述",__source:{fileName:N,lineNumber:126,columnNumber:29}}))))),s.a.createElement(f.default,{value:g,onChange:function(e){return function(e){y(e)}(e)},__source:{fileName:N,lineNumber:133,columnNumber:13}})))};_(k,'useForm{[form]}\nuseState{[editorValue, setEditorValue]([\r\n\t\t{\r\n\t\t\ttype: "paragraph",\r\n\t\t\tchildren: [{ text: "" }],\r\n\t\t},\r\n\t])}\nuseEffect{}');var w,E,O=Object(b.inject)("templateStore")(Object(b.observer)(k));t.a=O,(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(k,"TemplateAddmodal","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\components\\templateAddmodal.js"),w.register(O,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\components\\templateAddmodal.js")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}).call(this,a(75)(e))},1179:function(e,t,a){},1180:function(e,t,a){},1181:function(e,t,a){"use strict";(function(e){a(69);var r,n=a(64),l=a(24),o=a.n(l),i=(a(59),a(57)),u=a(27),c=a.n(u),m=a(0),d=a.n(m),s=a(53),b=(a(1182),a(957)),f=(a(932),"D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\components\\templatePreviewmodal.js");function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=function(e){var t=i.default.useForm(),a=c()(t,1)[0],r=(localStorage.getItem("wikiId"),e.previewModalVisible),l=e.setPreviewModalVisible,u=e.templateStore,s=e.templateId,p=u.findDocumentTemplate,v=Object(m.useState)(),_=c()(v,2),k=_[0],w=_[1],E=Object(m.useState)([{type:"paragraph",children:[{text:"空白文档"}]}]),O=c()(E,2),h=O[0],j=O[1];Object(m.useEffect)((function(){s&&p(s).then((function(e){var t=e.data;0===e.code&&(w(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t)),j(JSON.parse(t.details)))}))}),[s]);return d.a.createElement(n.default,{title:"查看模板",visible:r,onOk:function(){a.validateFields().then((function(e){}))},onCancel:function(){return l(!1)},width:"80vh",className:"template-previewmodal",__source:{fileName:f,lineNumber:56,columnNumber:9}},d.a.createElement("div",{__source:{fileName:f,lineNumber:64,columnNumber:9}},d.a.createElement(i.default,{form:a,name:"basic",initialValues:{remember:!0},__source:{fileName:f,lineNumber:65,columnNumber:13}},d.a.createElement("div",{className:"previewmodal-top",__source:{fileName:f,lineNumber:70,columnNumber:17}},d.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:f,lineNumber:71,columnNumber:21}},d.a.createElement("use",{xlinkHref:"#iconpaihang1",__source:{fileName:f,lineNumber:72,columnNumber:25}})),d.a.createElement("div",{className:"previewmodal-from",__source:{fileName:f,lineNumber:74,columnNumber:21}},d.a.createElement("div",{className:"title",__source:{fileName:f,lineNumber:75,columnNumber:25}},k&&k.name),d.a.createElement("div",{className:"doc",__source:{fileName:f,lineNumber:78,columnNumber:25}},k&&k.description)))),d.a.createElement(b.a,{value:h,onChange:function(e){},__source:{fileName:f,lineNumber:86,columnNumber:13}})))};p(v,'useForm{[form]}\nuseState{[template,setTemplate]}\nuseState{[value, setValue]([\r\n\t\t{\r\n\t\t\ttype: "paragraph",\r\n\t\t\tchildren: [{ text: "空白文档" }],\r\n\t\t},\r\n\t])}\nuseEffect{}');var _,k,w=Object(s.inject)("templateStore")(Object(s.observer)(v));t.a=w,(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(v,"TemplatePreviewmodal","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\components\\templatePreviewmodal.js"),_.register(w,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\components\\templatePreviewmodal.js")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)}).call(this,a(75)(e))},1182:function(e,t,a){},932:function(e,t,a){"use strict";a.r(t),function(e){a(964);var r,n=a(373),l=(a(36),a(32)),o=(a(37),a(30)),i=(a(380),a(145)),u=(a(49),a(34)),c=(a(974),a(374)),m=(a(218),a(141)),d=a(27),s=a.n(d),b=(a(69),a(64)),f=(a(41),a(40)),N=a(0),p=a.n(N),v=a(147),_=a(1178),k=(a(1180),a(1181)),w=a(53),E="D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\container\\template.js";(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=f.default.Search,j=b.default.confirm,g=function(e){var t=e.templateStore,a=t.findDocumentTemplatePage,r=t.deleteDocumentTemplate,d=t.templatePageParams,b=Object(N.useState)(!1),f=s()(b,2),w=f[0],O=f[1],g=Object(N.useState)(!1),y=s()(g,2),L=y[0],S=y[1],H=Object(N.useState)(),G=s()(H,2),D=G[0],P=G[1],M=Object(N.useState)(),C=s()(M,2),T=C[0],V=C[1],I=Object(N.useState)(),x=s()(I,2),A=x[0],F=x[1],J=Object(N.useState)(),q=s()(J,2),B=q[0],z=q[1],K=Object(N.useState)(),Q=s()(K,2),R=Q[0],U=Q[1];Object(N.useEffect)((function(){a().then((function(e){0===e.code&&z(e.data.dataList)}))}),[]);return p.a.createElement(N.Fragment,{__source:{fileName:E,lineNumber:92,columnNumber:9}},p.a.createElement(n.a,{className:"wiki-template",__source:{fileName:E,lineNumber:93,columnNumber:9}},p.a.createElement(l.default,{style:{height:"100%"},__source:{fileName:E,lineNumber:94,columnNumber:13}},p.a.createElement(o.default,{xl:{span:18,offset:3},lg:{span:20,offset:2},__source:{fileName:E,lineNumber:95,columnNumber:17}},p.a.createElement(m.default,{__source:{fileName:E,lineNumber:96,columnNumber:21}},p.a.createElement(m.default.Item,{__source:{fileName:E,lineNumber:97,columnNumber:25}},"知识库管理"),p.a.createElement(m.default.Item,{__source:{fileName:E,lineNumber:98,columnNumber:25}},p.a.createElement("a",{href:"/",__source:{fileName:E,lineNumber:99,columnNumber:29}},"知识库列表"))),p.a.createElement(c.a,{__source:{fileName:E,lineNumber:102,columnNumber:21}}),p.a.createElement("div",{className:"search-add",key:"search",__source:{fileName:E,lineNumber:103,columnNumber:21}},p.a.createElement(h,{placeholder:"请输入关键字",allowClear:!0,onSearch:function(e){a({name:e}).then((function(e){0===e.code&&z(e.data.dataList)}))},style:{width:300},__source:{fileName:E,lineNumber:104,columnNumber:25}}),p.a.createElement(u.default,{onClick:function(){return O(!0),P("add"),void V("添加模板")},__source:{fileName:E,lineNumber:110,columnNumber:25}},"添加模板")),p.a.createElement("div",{className:"template-box",key:"box",__source:{fileName:E,lineNumber:112,columnNumber:21}},B&&B.map((function(e){return p.a.createElement("div",{className:"template-item",onMouseEnter:function(){return F(e.id)},onMouseLeave:function(){return F(null)},key:e.id,__source:{fileName:E,lineNumber:115,columnNumber:36}},p.a.createElement("div",{__source:{fileName:E,lineNumber:120,columnNumber:33}},p.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:E,lineNumber:121,columnNumber:37}},p.a.createElement("use",{xlinkHref:"#iconpaihang1",__source:{fileName:E,lineNumber:122,columnNumber:41}})),p.a.createElement("div",{className:"title",key:"title",__source:{fileName:E,lineNumber:125,columnNumber:37}},e.name)),p.a.createElement("div",{className:"item-shade ".concat(e.id===A?"item-show":"item-hidden"),__source:{fileName:E,lineNumber:127,columnNumber:33}},p.a.createElement("span",{onClick:function(){return t=e.id,S(!0),void U(t);var t},__source:{fileName:E,lineNumber:128,columnNumber:37}},"查看"),p.a.createElement("span",{onClick:function(){return t=e.id,O(!0),P("edit"),V("编辑模板"),void U(t);var t},__source:{fileName:E,lineNumber:129,columnNumber:37}},"编辑"),p.a.createElement("span",{onClick:function(){return t=e.name,n=e.id,void j({title:"确定删除".concat(t,"?"),icon:p.a.createElement(v.a,{__source:{fileName:E,lineNumber:57,columnNumber:19}}),okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){r(n).then((function(e){a().then((function(e){0===e.code&&z(e.data.dataList)}))}))},onCancel:function(){}});var t,n},__source:{fileName:E,lineNumber:130,columnNumber:37}},"删除")))}))),p.a.createElement("div",{style:{textAlign:"right"},__source:{fileName:E,lineNumber:136,columnNumber:21}},p.a.createElement(i.default,{defaultCurrent:1,total:d.total,onChange:function(e){return function(e){a({current:e}).then((function(e){0===e.code&&z(e.data.dataList)}))}(e)},__source:{fileName:E,lineNumber:136,columnNumber:55}}))))),p.a.createElement(_.a,{modalName:T,editOrAdd:D,addModalVisible:w,setAddModalVisible:O,setTemplateList:z,templateId:R,__source:{fileName:E,lineNumber:140,columnNumber:9}}),p.a.createElement(k.a,{name:"添加知识库",type:"add",previewModalVisible:L,setPreviewModalVisible:S,templateId:R,__source:{fileName:E,lineNumber:148,columnNumber:9}}))};O(g,"useState{[addModalVisible,setAddModalVisible](false)}\nuseState{[previewModalVisible,setPreviewModalVisible](false)}\nuseState{[editOrAdd,setEditOrAdd]}\nuseState{[modalName,setModalName]}\nuseState{[hoverId,setHoverId]}\nuseState{[templateList,setTemplateList]}\nuseState{[templateId,setTemplate]}\nuseEffect{}");var y,L,S=Object(w.inject)("templateStore")(Object(w.observer)(g));t.default=S,(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(h,"Search","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\container\\template.js"),y.register(j,"confirm","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\container\\template.js"),y.register(g,"Template","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\container\\template.js"),y.register(S,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\template\\container\\template.js")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)}.call(this,a(75)(e))},957:function(e,t,a){"use strict";(function(e){var r,n=a(39),l=a.n(n),o=a(0),i=a.n(o),u=a(968),c=a(969),m=a(954),d=a(951),s="D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\edit-slate\\previewEditor.js";(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=function(e){var t=e.onChange,a=e.value,r=Object(o.useCallback)((function(e){return i.a.createElement(c.a,l()({},e,{__source:{fileName:s,lineNumber:19,columnNumber:10}}))}),[]),n=Object(o.useMemo)((function(){return Object(m.i)(Object(d.i)())}),[]);return i.a.createElement(m.c,{editor:n,value:a,onChange:function(e){t(e)},__source:{fileName:s,lineNumber:23,columnNumber:9}},i.a.createElement(m.a,{renderElement:Object(o.useCallback)(u.a,[]),renderLeaf:r,readOnly:!0,className:"preview-editor",__source:{fileName:s,lineNumber:30,columnNumber:13}}))};b(f,"useCallback{renderLeaf}\nuseMemo{editor}\nuseCallback{}");var N,p,v=f;t.a=v,(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(N.register(f,"PreviewEditor","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\edit-slate\\previewEditor.js"),N.register(v,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\edit-slate\\previewEditor.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,a(75)(e))}}]);