(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1183:function(e,a,t){},942:function(e,a,t){"use strict";t.r(a),function(e){t(36);var n,r=t(32),m=(t(37),t(30)),l=t(27),o=t.n(l),u=t(0),i=t.n(u),c=t(53),s=t(957),d=(t(1183),t(986),t(72)),N="D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\share\\shareDocument.js";(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=function(e){var a=e.shareStore,t=a.documentView,n=a.commentView,l=a.judgeAuthCode,c=Object(u.useState)(!1),d=o()(c,2),b=(d[0],d[1]),f=Object(u.useState)([{type:"paragraph",children:[{text:""}]}]),_=o()(f,2),h=_[0],p=_[1],v=Object(u.useState)({name:"",likenumInt:"",commentNumber:""}),k=o()(v,2),E=k[0],w=k[1],g=Object(u.useState)(),y=o()(g,2),x=y[0],C=y[1];Object(u.useEffect)((function(){l({shareLink:"".concat(e.match.params.shareId).concat(e.location.search)}).then((function(a){"true"===a.data&&(e.location.state?(n({documentId:e.match.params.id}).then((function(e){0===e.code&&C(e.data)})),t({documentId:e.match.params.id}).then((function(e){0===e.code&&(e.data.details?p(JSON.parse(e.data.details)):p([{type:"paragraph",children:[{text:""}]}]),w(e.data))}))):window.location.href="http://192.168.2.3:3001/#/passWord/".concat(e.match.params.id,"/").concat(e.match.params.shareId).concat(e.location.search)),"false"===a.data&&(n({documentId:e.match.params.id}).then((function(e){0===e.code&&C(e.data)})),t({documentId:e.match.params.id}).then((function(e){0===e.code&&(e.data.details?p(JSON.parse(e.data.details)):p([{type:"paragraph",children:[{text:""}]}]),w(e.data))})))}))}),[]);var L=Object(u.useState)(),j=o()(L,2),H=(j[0],j[1],Object(u.useState)()),S=o()(H,2),O=(S[0],S[1],Object(u.useState)()),G=o()(O,2);G[0],G[1];return i.a.createElement("div",{className:"document-examine",__source:{fileName:N,lineNumber:211,columnNumber:9}},i.a.createElement(r.default,{style:{height:"100%"},__source:{fileName:N,lineNumber:212,columnNumber:9}},i.a.createElement(m.default,{className:"wikidetail-content-col",xl:{span:18,offset:3},lg:{span:20,offset:2},__source:{fileName:N,lineNumber:213,columnNumber:13}},i.a.createElement("div",{__source:{fileName:N,lineNumber:214,columnNumber:13}},i.a.createElement("div",{className:"examine-title",style:{marginTop:"20px"},__source:{fileName:N,lineNumber:215,columnNumber:17}},E.name,i.a.createElement("span",{className:"examine-type",__source:{fileName:N,lineNumber:215,columnNumber:90}},"类型：","doc"===E.type?"文档":"目录")),i.a.createElement(s.a,{value:h,onChange:function(e){},__source:{fileName:N,lineNumber:216,columnNumber:17}}),i.a.createElement("div",{className:"examine-comment",__source:{fileName:N,lineNumber:217,columnNumber:17}},i.a.createElement("span",{className:"comment-item",__source:{fileName:N,lineNumber:218,columnNumber:21}},i.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:N,lineNumber:219,columnNumber:25}},i.a.createElement("use",{xlinkHref:"#icondianzan",__source:{fileName:N,lineNumber:220,columnNumber:29}})),i.a.createElement("span",{className:"number",__source:{fileName:N,lineNumber:222,columnNumber:25}},"(",E.likenumInt,"条)")),i.a.createElement("span",{className:"comment-item",__source:{fileName:N,lineNumber:224,columnNumber:21}},i.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:N,lineNumber:225,columnNumber:25}},i.a.createElement("use",{xlinkHref:"#iconpinglun",__source:{fileName:N,lineNumber:226,columnNumber:29}})),i.a.createElement("span",{className:"number",__source:{fileName:N,lineNumber:228,columnNumber:25}},"(",E.commentNumber,"条)")),i.a.createElement("span",{className:"comment-item",onClick:function(){return b(!0)},__source:{fileName:N,lineNumber:230,columnNumber:21}},i.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:N,lineNumber:231,columnNumber:25}},i.a.createElement("use",{xlinkHref:"#iconfenxiang",__source:{fileName:N,lineNumber:232,columnNumber:29}})),i.a.createElement("span",{className:"number",__source:{fileName:N,lineNumber:234,columnNumber:25}},"(100条)"))),i.a.createElement("div",{className:"comment-list",__source:{fileName:N,lineNumber:244,columnNumber:17}},i.a.createElement("div",{className:"title",__source:{fileName:N,lineNumber:245,columnNumber:21}},"评论(",E.commentNumber,"条)"),x&&x.map((function(e){return i.a.createElement("div",{className:"comment-item",key:e.id,__source:{fileName:N,lineNumber:248,columnNumber:36}},i.a.createElement("div",{className:"comment-user",__source:{fileName:N,lineNumber:249,columnNumber:33}},i.a.createElement("svg",{className:"user-icon","aria-hidden":"true",__source:{fileName:N,lineNumber:250,columnNumber:37}},i.a.createElement("use",{xlinkHref:"#icon1_user5",__source:{fileName:N,lineNumber:251,columnNumber:41}})),i.a.createElement("span",{className:"user-name",__source:{fileName:N,lineNumber:253,columnNumber:37}},e.user.name)),i.a.createElement("div",{className:"comment-content",__source:{fileName:N,lineNumber:255,columnNumber:33}},e.details),e.commentList&&e.commentList.map((function(e){return i.a.createElement("div",{className:"comment-item commnet-children-item",key:e.id,__source:{fileName:N,lineNumber:273,columnNumber:52}},i.a.createElement("div",{className:"comment-user",__source:{fileName:N,lineNumber:274,columnNumber:49}},i.a.createElement("svg",{className:"user-icon","aria-hidden":"true",__source:{fileName:N,lineNumber:275,columnNumber:53}},i.a.createElement("use",{xlinkHref:"#icon1_user5",__source:{fileName:N,lineNumber:276,columnNumber:57}})),i.a.createElement("span",{className:"user-name",__source:{fileName:N,lineNumber:278,columnNumber:53}},e.user.name,"回复了：",e.aimAtUser.name)),i.a.createElement("div",{className:"comment-content",__source:{fileName:N,lineNumber:280,columnNumber:49}},e.details))})))})))))))};b(f,'useState{[shareVisible,setShareVisible](false)}\nuseState{[value, setValue]([\r\n\t\t{\r\n\t\t\ttype: "paragraph",\r\n\t\t\tchildren: [{ text: "" }],\r\n\t\t},\r\n\t])}\nuseState{[docInfo, setDocInfo]({name: "",likenumInt: "",commentNumber: ""})}\nuseState{[commonList,setCommonList]}\nuseEffect{}\nuseState{[commontContent,setCommontContent]}\nuseState{[reply,setReply]}\nuseState{[childrenReply,setChildrenReply]}');var _,h,p=Object(c.inject)("shareStore")(Object(c.observer)(Object(d.withRouter)(f)));a.default=p,(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(f,"ShareDocument","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\share\\shareDocument.js"),_.register(p,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\share\\shareDocument.js")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}.call(this,t(75)(e))},957:function(e,a,t){"use strict";(function(e){var n,r=t(39),m=t.n(r),l=t(0),o=t.n(l),u=t(968),i=t(969),c=t(954),s=t(951),d="D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\edit-slate\\previewEditor.js";(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=function(e){var a=e.onChange,t=e.value,n=Object(l.useCallback)((function(e){return o.a.createElement(i.a,m()({},e,{__source:{fileName:d,lineNumber:19,columnNumber:10}}))}),[]),r=Object(l.useMemo)((function(){return Object(c.i)(Object(s.i)())}),[]);return o.a.createElement(c.c,{editor:r,value:t,onChange:function(e){a(e)},__source:{fileName:d,lineNumber:23,columnNumber:9}},o.a.createElement(c.a,{renderElement:Object(l.useCallback)(u.a,[]),renderLeaf:n,readOnly:!0,className:"preview-editor",__source:{fileName:d,lineNumber:30,columnNumber:13}}))};N(b,"useCallback{renderLeaf}\nuseMemo{editor}\nuseCallback{}");var f,_,h=b;a.a=h,(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(b,"PreviewEditor","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\edit-slate\\previewEditor.js"),f.register(h,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\edit-slate\\previewEditor.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,t(75)(e))},986:function(e,a,t){"use strict";(function(e){t(69);var n,r=t(64),m=(t(49),t(34)),l=(t(377),t(154)),o=t(27),u=t.n(o),i=t(0),c=t.n(i),s=(t(987),"D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\share.js");(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},N=function(e){var a=e.shareVisible,t=e.setShareVisible,n=e.docInfo,o=e.createShare,d=e.updateShare,N=localStorage.getItem("documentId"),b=c.a.useState("false"),f=u()(b,2),_=f[0],h=f[1],p=Object(i.useState)(),v=u()(p,2),k=v[0],E=v[1],w=Object(i.useState)(),g=u()(w,2),y=g[0],x=g[1],C=Object(i.useRef)(null);Object(i.useEffect)((function(){!0===a&&o({documentId:N,whetherAuthCode:_}).then((function(e){0===e.code&&(E(e.data.shareLink),x(e.data.authCode))}))}),[a,N]);return c.a.createElement(r.default,{title:"分享",visible:a,onOk:function(){},onCancel:function(){return t(!1)},destroyOnClose:!0,__source:{fileName:s,lineNumber:143,columnNumber:9}},c.a.createElement(l.default.Group,{onChange:function(e){h(e.target.value),d({shareLink:k,whetherAuthCode:e.target.value}).then((function(a){0===a.code&&(!0===e.target.value?x(a.data.authCode):x(null),x(a.data.authCode),E(a.data.shareLink))}))},value:_,__source:{fileName:s,lineNumber:150,columnNumber:13}},c.a.createElement(l.default,{value:"false",__source:{fileName:s,lineNumber:151,columnNumber:17}},"公开链接"),c.a.createElement(l.default,{value:"true",__source:{fileName:s,lineNumber:152,columnNumber:17}},"私密链接")),"public"===_?c.a.createElement("div",{className:"share-link link-box",ref:C,id:"link",__source:{fileName:s,lineNumber:155,columnNumber:38}},c.a.createElement("div",{className:"share-text",__source:{fileName:s,lineNumber:156,columnNumber:21}},"链接地址:"),c.a.createElement("div",{className:"share-content",__source:{fileName:s,lineNumber:156,columnNumber:60}},"http://192.168.2.3:3001/#/shareDocument/",N,"/",k)):c.a.createElement("div",{ref:C,id:"link",className:"link-box",__source:{fileName:s,lineNumber:157,columnNumber:26}},c.a.createElement("div",{className:"share-link",__source:{fileName:s,lineNumber:158,columnNumber:21}},c.a.createElement("div",{className:"share-text",__source:{fileName:s,lineNumber:159,columnNumber:25}},"链接地址："),c.a.createElement("div",{className:"share-content",__source:{fileName:s,lineNumber:160,columnNumber:25}},"http://192.168.2.3:3001/#/shareDocument/",N,"/",k)),y&&c.a.createElement("div",{className:"share-link",__source:{fileName:s,lineNumber:163,columnNumber:37}},c.a.createElement("div",{className:"share-text",__source:{fileName:s,lineNumber:163,columnNumber:65}},"密码："),c.a.createElement("div",{className:"share-content",__source:{fileName:s,lineNumber:163,columnNumber:102}},y))),c.a.createElement("div",{style:{textAlign:"right"},__source:{fileName:s,lineNumber:167,columnNumber:13}},c.a.createElement(m.default,{onClick:function(){return function(){var e=document.getElementById("link");if(document.body.createTextRange){var a=document.body.createTextRange();a.moveToElementText(e),a.select()}else if(window.getSelection){var t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.execCommand("Copy")}()},__source:{fileName:s,lineNumber:168,columnNumber:17}},"复制")),c.a.createElement("div",{className:"share-title",__source:{fileName:s,lineNumber:170,columnNumber:13}},"分享到："),c.a.createElement("div",{className:"share-box",__source:{fileName:s,lineNumber:173,columnNumber:13}},c.a.createElement("div",{className:"share-item",onClick:function(){return e=window.location.href,a="http://zixuephp.net/inc/qrcode_img.php?text="+encodeURIComponent(e),void window.open(a,"weixin","height=320, width=320");var e,a},__source:{fileName:s,lineNumber:174,columnNumber:17}},c.a.createElement("svg",{className:"share-icon","aria-hidden":"true",__source:{fileName:s,lineNumber:175,columnNumber:21}},c.a.createElement("use",{xlinkHref:"#iconweixin",__source:{fileName:s,lineNumber:176,columnNumber:25}})),c.a.createElement("span",{className:"share-name",__source:{fileName:s,lineNumber:178,columnNumber:21}},"微信好友")),c.a.createElement("div",{className:"share-item",__source:{fileName:s,lineNumber:180,columnNumber:17}},c.a.createElement("svg",{className:"share-icon","aria-hidden":"true",__source:{fileName:s,lineNumber:181,columnNumber:21}},c.a.createElement("use",{xlinkHref:"#iconpengyouquan",__source:{fileName:s,lineNumber:182,columnNumber:25}})),c.a.createElement("span",{className:"share-name",__source:{fileName:s,lineNumber:184,columnNumber:21}},"朋友圈")),c.a.createElement("div",{className:"share-item",onClick:function(){return function(e){var a={url:window.location.href,desc:"文档",title:n.name||"",summary:"分享",pics:"http://127.0.0.1:3001/images/logo.png"},t=[];for(var r in a)t.push(r+"="+encodeURIComponent(a[r]||""));var m="https://connect.qq.com/widget/shareqq/index.html?"+t.join("&");window.open(m,"_blank","height=520, width=720")}()},__source:{fileName:s,lineNumber:186,columnNumber:17}},c.a.createElement("svg",{className:"share-icon","aria-hidden":"true",__source:{fileName:s,lineNumber:187,columnNumber:21}},c.a.createElement("use",{xlinkHref:"#iconQQ1",__source:{fileName:s,lineNumber:188,columnNumber:25}})),c.a.createElement("span",{className:"share-name",__source:{fileName:s,lineNumber:190,columnNumber:21}},"QQ好友")),c.a.createElement("div",{className:"share-item",onClick:function(){return function(e){var a={url:window.location.href,desc:"文档",title:n.name||"",summary:y?"密码：".concat(y):"",pics:e||"http://127.0.0.1:3001/images/logo.png"},t=[];for(var r in a)t.push(r+"="+encodeURIComponent(a[r]||""));var m="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+t.join("&");window.open(m,"sinaweibo","height=800, width=800")}()},__source:{fileName:s,lineNumber:192,columnNumber:17}},c.a.createElement("svg",{className:"share-icon","aria-hidden":"true",__source:{fileName:s,lineNumber:193,columnNumber:21}},c.a.createElement("use",{xlinkHref:"#iconkongjian1",__source:{fileName:s,lineNumber:194,columnNumber:25}})),c.a.createElement("span",{className:"share-name",__source:{fileName:s,lineNumber:196,columnNumber:21}},"空间")),c.a.createElement("div",{className:"share-item",onClick:function(){return function(){var e={url:window.location.href,type:"3",count:"1",title:n.name,pic:"http://127.0.0.1:3001/images/logo.png",rnd:(new Date).valueOf()},a=[];for(var t in e)a.push(t+"="+encodeURIComponent(e[t]||""));var r="http://service.weibo.com/share/share.php?"+a.join("&");window.open(r,"sinaweibo","height=800, width=800")}()},__source:{fileName:s,lineNumber:198,columnNumber:17}},c.a.createElement("svg",{className:"share-icon","aria-hidden":"true",__source:{fileName:s,lineNumber:199,columnNumber:21}},c.a.createElement("use",{xlinkHref:"#iconweibo1",__source:{fileName:s,lineNumber:200,columnNumber:25}})),c.a.createElement("span",{className:"share-name",__source:{fileName:s,lineNumber:202,columnNumber:21}},"微博"))))};d(N,'useState{[value, setValue]("false")}\nuseState{[shareLink,setShareLink]}\nuseState{[authCode,setAuthCode]}\nuseRef{link}\nuseEffect{}');var b,f,_=N;a.a=_,(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(N,"Share","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\share.js"),b.register(_,"default","D:\\beta\\doublekit-wiki-frontend\\doublekit-wiki-ui\\src\\modules\\wiki\\common\\components\\share.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,t(75)(e))},987:function(e,a,t){}}]);