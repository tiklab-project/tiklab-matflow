(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{224:function(e,t,r){"use strict";r.r(t),function(e){r(27);var n,o=r(9),a=(r(19),r(5)),l=r(0),i=r.n(l),u=r(850),c=r(23),s=(r(775),r(603)),m="D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\container\\pipeline.js";function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},N=a.a.Search,y=function(e){var t=d(Object(l.useState)(1),2),r=t[0],n=t[1];return i.a.createElement("div",{className:"pipeline",__source:{fileName:m,lineNumber:28,columnNumber:9}},i.a.createElement("div",{className:"pipeline-top",__source:{fileName:m,lineNumber:29,columnNumber:13}},i.a.createElement("div",{className:"pipeline-top-r",__source:{fileName:m,lineNumber:30,columnNumber:17}},i.a.createElement(N,{placeholder:"请输入流水线",onSearch:function(t){e.history.push("/index/searchresult/".concat(t))},style:{width:280,marginRight:10},__source:{fileName:m,lineNumber:31,columnNumber:21}}),i.a.createElement(o.a,{type:"primary",onClick:function(){return e.history.push("/index/new")},__source:{fileName:m,lineNumber:32,columnNumber:21}},i.a.createElement(u.a,{__source:{fileName:m,lineNumber:33,columnNumber:25}})," 新建流水线"))),i.a.createElement("div",{className:"pipeline-tabs",__source:{fileName:m,lineNumber:37,columnNumber:13}},i.a.createElement("div",{className:"pipeline-tabs-type",__source:{fileName:m,lineNumber:38,columnNumber:17}},i.a.createElement("div",{className:"pipeline-tabs-type-group",__source:{fileName:m,lineNumber:39,columnNumber:21}},[{id:1,title:"所有"},{id:2,title:"收藏"}].map((function(e){return i.a.createElement("div",{key:e.id,className:"pipeline-tabs-type-link \n                                            ".concat(r===e.id?"pipeline-tabs-type-active":""),onClick:function(){return function(e){n(e.id)}(e)},__source:{fileName:m,lineNumber:42,columnNumber:40}},e.title)})))),i.a.createElement(s.a,f({},e,{type:r,__source:{fileName:m,lineNumber:53,columnNumber:17}}))))};p(y,"useState{[type,setType](1)}");var w,h,_=Object(c.h)(y);t.default=_,(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(N,"Search","D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\container\\pipeline.js"),w.register(y,"Pipeline","D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\container\\pipeline.js"),w.register(_,"default","D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\container\\pipeline.js")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}.call(this,r(22)(e))},308:function(e,t){e.exports=function(e,t,r,n){var o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!i(c))return!1;var s=e[c],m=t[c];if(!1===(o=r?r.call(n,s,m,c):void 0)||void 0===o&&s!==m)return!1}return!0}},326:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return y}));var n,o=r(0),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=o.createContext(null),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return o.createElement(l.Provider,{value:this.props.store},this.props.children)},t}(o.Component),u=r(308),c=r.n(u),s=r(130),m=r.n(s),f=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),d=function(){return(d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var b=function(){return{}};function p(e,t){void 0===t&&(t={});var r=!!e,n=e||b;return function(a){var i=function(t){function i(e,r){var o=t.call(this,e,r)||this;return o.unsubscribe=null,o.handleChange=function(){if(o.unsubscribe){var e=n(o.store.getState(),o.props);o.setState({subscribed:e})}},o.store=o.context,o.state={subscribed:n(o.store.getState(),e),store:o.store,props:e},o}return f(i,t),i.getDerivedStateFromProps=function(t,r){return e&&2===e.length&&t!==r.props?{subscribed:n(r.store.getState(),t),props:t}:{props:t}},i.prototype.componentDidMount=function(){this.trySubscribe()},i.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},i.prototype.shouldComponentUpdate=function(e,t){return!c()(this.props,e)||!c()(this.state.subscribed,t.subscribed)},i.prototype.trySubscribe=function(){r&&(this.unsubscribe=this.store.subscribe(this.handleChange),this.handleChange())},i.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},i.prototype.render=function(){var e=d(d(d({},this.props),this.state.subscribed),{store:this.store});return o.createElement(a,d({},e,{ref:this.props.miniStoreForwardedRef}))},i.displayName="Connect("+function(e){return e.displayName||e.name||"Component"}(a)+")",i.contextType=l,i}(o.Component);if(t.forwardRef){var u=o.forwardRef((function(e,t){return o.createElement(i,d({},e,{miniStoreForwardedRef:t}))}));return m()(u,a)}return m()(i,a)}}var N=function(){return(N=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function y(e){var t=e,r=[];return{setState:function(e){t=N(N({},t),e);for(var n=0;n<r.length;n++)r[n]()},getState:function(){return t},subscribe:function(e){return r.push(e),function(){var t=r.indexOf(e);r.splice(t,1)}}}}},493:function(e,t,r){"use strict";(function(e){r(28);var n,o=r(15),a=r(0),l=r.n(a),i="D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\common\\tables\\tables.js";(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,c,s=function(e){var t=e.columns,r=e.dataSource,n=e.rowKey;return l.a.createElement(o.a,{rowKey:n,columns:t,dataSource:r,pagination:{hideOnSinglePage:!0,pageSize:10},locale:{emptyText:l.a.createElement(a.Fragment,{__source:{fileName:i,lineNumber:13,columnNumber:17}},l.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:i,lineNumber:14,columnNumber:21}},l.a.createElement("use",{xlinkHref:"#icon-meiyouxiangguan",__source:{fileName:i,lineNumber:15,columnNumber:25}})),l.a.createElement("div",{__source:{fileName:i,lineNumber:17,columnNumber:21}},"没有数据"))},__source:{fileName:i,lineNumber:6,columnNumber:12}})},m=s;t.a=m,(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(s,"Tables","D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\common\\tables\\tables.js"),u.register(m,"default","D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\common\\tables\\tables.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,r(22)(e))},603:function(e,t,r){"use strict";(function(e){r(160);var n,o=r(84),a=(r(105),r(64)),l=r(0),i=r.n(l),u=r(2),c=r(726),s=r(728),m=r(729),f=r(12),d=r(604),b=r(493),p="D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\components\\pipelineTable.js";(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=function(e){var t=e.structureStore,r=e.type,n=e.pipelineStore,f=t.pipelineStartStructure,N=t.killInstance,y=n.findAllPipelineStatus,w=n.findAllFollow,h=n.pipelineList,_=n.updateFollow,v=n.fresh,g=n.setFresh,F=Object(u.e)().userId;Object(l.useEffect)((function(){1===r?y(F):w(F)}),[v,r]);var S=function(e,t){"1"===e.data?a.b.info({content:"".concat(t,"成功"),duration:.5,className:"message"}):a.b.info({content:"".concat(t,"失败"),duration:.5,className:"message"})},E=[{title:"收藏",dataIndex:"pipelineCollect",key:"pipelineCollect",render:function(e,t){return i.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return function(e){var t={pipeline:{pipelineId:e.pipelineId},userId:F};_(t).then((function(t){0===e.pipelineCollect?S(t,"收藏"):S(t,"取消"),g(!v)}))}(t)},__source:{fileName:p,lineNumber:81,columnNumber:21}},0===t.pipelineCollect?i.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:p,lineNumber:84,columnNumber:33}},i.a.createElement("use",{xlinkHref:"#icon-xingxing-kong",__source:{fileName:p,lineNumber:85,columnNumber:37}})):i.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:p,lineNumber:88,columnNumber:33}},i.a.createElement("use",{xlinkHref:"#icon-xingxing1",__source:{fileName:p,lineNumber:89,columnNumber:37}})))}},{title:"最近构建状态",dataIndex:"structureStatus",key:"structureStatus",render:function(e){switch(e){case 30:return i.a.createElement(o.a,{title:"成功",placement:"rightTop",className:"all-icon",__source:{fileName:p,lineNumber:103,columnNumber:33}},i.a.createElement(c.a,{style:{fontSize:25,color:"#1890ff"},__source:{fileName:p,lineNumber:104,columnNumber:37}}));case 1:return i.a.createElement(o.a,{title:"失败",placement:"rightTop",className:"all-icon",__source:{fileName:p,lineNumber:107,columnNumber:32}},i.a.createElement(s.a,{style:{fontSize:25,color:"#ff0000"},__source:{fileName:p,lineNumber:108,columnNumber:37}}));case 0:return i.a.createElement(o.a,{title:"待构建",placement:"rightTop",className:"all-icon",__source:{fileName:p,lineNumber:111,columnNumber:33}},i.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:p,lineNumber:112,columnNumber:37}},i.a.createElement("use",{xlinkHref:"#icon-dengdai1",__source:{fileName:p,lineNumber:113,columnNumber:41}})));case 20:return i.a.createElement(o.a,{title:"停止",placement:"rightTop",className:"all-icon",__source:{fileName:p,lineNumber:117,columnNumber:33}},i.a.createElement(m.a,{style:{fontSize:25},__source:{fileName:p,lineNumber:118,columnNumber:37}}))}}},{title:"任务名",dataIndex:"pipelineName",key:"pipelineName",render:function(t,r){return i.a.createElement("span",{onClick:function(){return function(t){e.history.push("/index/task/".concat(t,"/work"))}(t)},style:{color:"#1890ff",cursor:"pointer"},__source:{fileName:p,lineNumber:129,columnNumber:21}},t)}},{title:"上次构建时间",dataIndex:"lastStructureTime",key:"lastStructureTime"},{title:"上次成功时间",dataIndex:"lastSuccessTime",key:"lastSuccessTime"},{title:"操作",dataIndex:"action",key:"action",render:function(e,t){return i.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return function(e){var t={userId:F,pipelineId:e.pipelineId};0===e.pipelineState?f(t).then((function(e){1===e.data&&setTimeout((function(){return g(!v)}),1e3)})):N(t).then((function(){g(!v)}))}(t)},__source:{fileName:p,lineNumber:153,columnNumber:21}},0===t.pipelineState?i.a.createElement("svg",{className:"icon","aria-hidden":"true",__source:{fileName:p,lineNumber:156,columnNumber:33}},i.a.createElement("use",{xlinkHref:"#icon-yunhang",__source:{fileName:p,lineNumber:157,columnNumber:37}})):i.a.createElement(d.a,{__source:{fileName:p,lineNumber:160,columnNumber:33}}))}}];return i.a.createElement(b.a,{columns:E,dataSource:h,rowKey:function(e){return e.pipelineId},__source:{fileName:p,lineNumber:168,columnNumber:13}})};N(y,"useEffect{}");var w,h,_=Object(f.b)("structureStore","pipelineStore")(Object(f.c)(y));t.a=_,(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(y,"PipelineTable","D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\components\\pipelineTable.js"),w.register(_,"default","D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\components\\pipelineTable.js")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}).call(this,r(22)(e))},604:function(e,t,r){"use strict";(function(e){var n,o=r(0),a=r.n(o);r(605);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,i,u=function(e){return a.a.createElement("span",{className:"loading",__source:{fileName:"D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\components\\running.js",lineNumber:5,columnNumber:12}}," || ")},c=u;t.a=c,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(u,"Running","D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\components\\running.js"),l.register(c,"default","D:\\idea\\pipeline\\tiklab-pipeline-ui\\src\\modules\\pipeline\\pipeline\\components\\running.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(22)(e))},605:function(e,t,r){},775:function(e,t,r){}}]);